[2016-09-14T19:09:34+01:00] DEBUG: Current chef_repo_path is /root
[2016-09-14T19:09:34+01:00] DEBUG: Sleeping for 0 seconds
[2016-09-14T19:09:34+01:00] INFO: Started chef-zero at chefzero://localhost:8889 with repository at /root
  One version per cookbook

[2016-09-14T19:09:34+01:00] DEBUG: Running Ohai with the following configuration: {:log_location=>#<IO:<STDOUT>>, :log_level=>:debug, :file_cache_path=>"/root/.chef/", :cookbook_path=>"/root/chef_cookbooks", :json_attribs=>"/root/.chef/runlist.json", :config_file=>"/root/.chef/solo.rb", :force_logger=>false, :force_formatter=>false, :profile_ruby=>false, :color=>true, :specific_recipes=>[], :solo=>true, :local_mode=>true, :chef_server_url=>"chefzero://localhost:8889"}
[2016-09-14T19:09:34+01:00] INFO: Forking chef instance to converge...
[2016-09-14T19:09:34+01:00] DEBUG: Fork successful. Waiting for new chef pid: 18248
[2016-09-14T19:09:34+01:00] DEBUG: Forked instance now converging
[2016-09-14T19:09:34+01:00] INFO: *** Chef 12.13.37 ***
[2016-09-14T19:09:34+01:00] INFO: Platform: x86_64-linux
[2016-09-14T19:09:34+01:00] INFO: Chef-client pid: 18248
[2016-09-14T19:09:34+01:00] DEBUG: Chef-client request_id: 47ca9d8e-fdc3-4d83-a823-7fefeb9987b8
[2016-09-14T19:09:34+01:00] DEBUG: Running Ohai with the following configuration: {:log_location=>#<IO:<STDOUT>>, :log_level=>:debug, :file_cache_path=>"/root/.chef/", :cookbook_path=>"/root/chef_cookbooks", :json_attribs=>"/root/.chef/runlist.json", :config_file=>"/root/.chef/solo.rb", :force_logger=>false, :force_formatter=>false, :profile_ruby=>false, :color=>true, :specific_recipes=>[], :solo=>true, :local_mode=>true, :chef_server_url=>"chefzero://localhost:8889", :formatters=>[], :event_handlers=>[]}
[2016-09-14T19:09:34+01:00] DEBUG: Searching for Ohai plugins in /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/cloud_v2.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/java.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/ohai_time.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/openbsd/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/openbsd/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/openbsd/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/openbsd/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/kernel.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/virtualization.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/go.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/ps.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/dragonflybsd/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/dragonflybsd/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/dragonflybsd/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/dragonflybsd/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/dragonflybsd/os.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/command.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/vmware.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/bsd/virtualization.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/bsd/filesystem.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/php.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/init_package.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/scala.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/hardware.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/virtualization.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/system_profiler.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/filesystem2.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/darwin/filesystem.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/languages.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/python.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/cloud.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linode.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/digital_ocean.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/erlang.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/root_group.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/shells.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/mono.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/softlayer.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/dmi.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/lua.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/fips.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/virtualization.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/drivers.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/windows/filesystem.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/fips.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/virtualization.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/sessions.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/mdadm.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/block_device.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/filesystem2.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/lsb.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/linux/filesystem.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/openstack.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/ssh_host_key.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/elixir.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/freebsd/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/freebsd/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/freebsd/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/freebsd/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/freebsd/os.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/joyent.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/virtualization.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/zpools.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/dmi.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/solaris2/filesystem.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/eucalyptus.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/network_listeners.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/nodejs.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/hostname.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/perl.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/ec2.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/sigar/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/sigar/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/sigar/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/sigar/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/sigar/network_route.rb
[2016-09-14T19:09:34+01:00] DEBUG: Could not load sigar gem. Skipping NetworkRoutes plugin
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/sigar/filesystem.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/ohai.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/ruby.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/rust.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/keys.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/uptime.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/ip_scopes.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/rackspace.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/azure.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/netbsd/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/netbsd/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/netbsd/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/netbsd/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/passwd.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/packages.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/virtualbox.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/powershell.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/kernel.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/virtualization.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/platform.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/network.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/uptime.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/cpu.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/memory.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/os.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/aix/filesystem.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/groovy.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/os.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/timezone.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/gce.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/chef.rb
[2016-09-14T19:09:34+01:00] DEBUG: Loading plugin at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/c.rb
[2016-09-14T19:09:34+01:00] DEBUG: Plugin DMI: ran 'dmidecode' and failed #<Errno::ENOENT: No such file or directory - dmidecode>
[2016-09-14T19:09:34+01:00] DEBUG: Plugin DMI threw #<Ohai::Exceptions::Exec: No such file or directory - dmidecode>
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/mixin/command.rb:43:in `rescue in shell_out'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/mixin/command.rb:37:in `shell_out'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/plugins/dmi.rb:47:in `block (2 levels) in <main>'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/dsl/plugin/versionvii.rb:90:in `instance_eval'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/dsl/plugin/versionvii.rb:90:in `run_plugin'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/dsl/plugin.rb:100:in `run'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/dsl/plugin.rb:173:in `safe_run'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/runner.rb:84:in `run_v7_plugin'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/runner.rb:43:in `run_plugin'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/system.rb:98:in `block in run_plugins'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/system.rb:97:in `each'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/system.rb:97:in `run_plugins'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai/system.rb:75:in `all_plugins'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/client.rb:560:in `run_ohai'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/client.rb:264:in `run'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:302:in `block in fork_chef_client'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:290:in `fork'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:290:in `fork_chef_client'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:255:in `block in run_chef_client'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/local_mode.rb:44:in `with_server_connectivity'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:243:in `run_chef_client'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:464:in `sleep_then_run_chef_client'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:451:in `block in interval_run_chef_client'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:450:in `loop'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:450:in `interval_run_chef_client'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:434:in `run_application'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:60:in `run'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/solo.rb:226:in `run'
[2016-09-14T19:09:34+01:00] DEBUG: /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/bin/chef-solo:25:in `<top (required)>'
[2016-09-14T19:09:34+01:00] DEBUG: /usr/bin/chef-solo:53:in `load'
[2016-09-14T19:09:34+01:00] DEBUG: /usr/bin/chef-solo:53:in `<main>'
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Kernel: ran 'uname -s' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Kernel: ran 'uname -r' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Kernel: ran 'uname -v' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Kernel: ran 'uname -m' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Kernel: ran 'uname -p' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Kernel: ran 'uname -o' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Kernel: ran 'env lsmod' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Did not find hint ec2.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:34+01:00] DEBUG: Plugin EC2: has_ec2_xen_uuid? == false
[2016-09-14T19:09:34+01:00] DEBUG: Plugin EC2: has_ec2_dmi? == false
[2016-09-14T19:09:34+01:00] DEBUG: Plugin EC2: has_amazon_org? == false
[2016-09-14T19:09:34+01:00] DEBUG: Plugin EC2: looks_like_ec2? == false
[2016-09-14T19:09:34+01:00] DEBUG: Did not find hint gce.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:34+01:00] DEBUG: Mixin GCE: can_metadata_connect? failed setting up socket: getaddrinfo: Name or service not known
[2016-09-14T19:09:34+01:00] DEBUG: Plugin GCE: looks_like_gce? == false
[2016-09-14T19:09:34+01:00] DEBUG: default route table is 'main'
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Network: ran 'ip addr' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Network: ran 'ip -d -s link' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Network: ran 'ip -f inet neigh show' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Network: ran 'ip -o -f inet route show table main' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Parsing 10.0.2.0/24 dev eth0  proto kernel  scope link  src 10.0.2.15
[2016-09-14T19:09:34+01:00] DEBUG: Parsing 192.168.25.0/24 dev eth1  proto kernel  scope link  src 192.168.25.100
[2016-09-14T19:09:34+01:00] DEBUG: Parsing 169.254.0.0/16 dev eth0  scope link  metric 1002
[2016-09-14T19:09:34+01:00] DEBUG: Parsing 169.254.0.0/16 dev eth1  scope link  metric 1003
[2016-09-14T19:09:34+01:00] DEBUG: Parsing default via 10.0.2.2 dev eth0
[2016-09-14T19:09:34+01:00] DEBUG: default_interface set to eth0
[2016-09-14T19:09:34+01:00] DEBUG: default_gateway set to 10.0.2.2
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Network: ran 'ip -f inet6 neigh show' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Plugin Network: ran 'ip -o -f inet6 route show table main' and returned 0
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable ::/96 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable ::ffff:0.0.0.0/96 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable 2002:a00::/24 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable 2002:7f00::/24 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable 2002:a9fe::/32 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable 2002:ac10::/28 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable 2002:c0a8::/32 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable 2002:e000::/19 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing unreachable 3ffe:ffff::/32 dev lo  metric 1024  error -113 mtu 65536
[2016-09-14T19:09:34+01:00] DEBUG: Parsing fe80::/64 dev eth0  proto kernel  metric 256  mtu 1500
[2016-09-14T19:09:34+01:00] DEBUG: Parsing fe80::/64 dev eth1  proto kernel  metric 256  mtu 1500
[2016-09-14T19:09:34+01:00] DEBUG: Unable to determine 'default_inet6_interface' as no default routes were found for that interface family
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Network: ran '/sbin/ethtool eth0' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: Settings for eth0:
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supported ports: [ TP ]
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supported link modes:   10baseT/Half 10baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        100baseT/Half 100baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        1000baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supported pause frame use: No
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supports auto-negotiation: Yes
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Advertised link modes:  10baseT/Half 10baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        100baseT/Half 100baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        1000baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Advertised pause frame use: No
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Advertised auto-negotiation: Yes
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Speed: 1000Mb/s
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Duplex: Full
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Port: Twisted Pair
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	PHYAD: 0
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Transceiver: internal
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Auto-negotiation: on
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	MDI-X: off (auto)
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supports Wake-on: umbg
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Wake-on: d
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Current message level: 0x00000007 (7)
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 			       drv probe link
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Link detected: yes
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Network: ran '/sbin/ethtool eth1' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: Settings for eth1:
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supported ports: [ TP ]
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supported link modes:   10baseT/Half 10baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        100baseT/Half 100baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        1000baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supported pause frame use: No
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supports auto-negotiation: Yes
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Advertised link modes:  10baseT/Half 10baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        100baseT/Half 100baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	                        1000baseT/Full 
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Advertised pause frame use: No
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Advertised auto-negotiation: Yes
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Speed: 1000Mb/s
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Duplex: Full
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Port: Twisted Pair
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	PHYAD: 0
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Transceiver: internal
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Auto-negotiation: on
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	MDI-X: off (auto)
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Supports Wake-on: umbg
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Wake-on: d
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Current message level: 0x00000007 (7)
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 			       drv probe link
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: 	Link detected: yes
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Network: ran '/sbin/ethtool -g eth0' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: Ring parameters for eth0:
Pre-set maximums:
RX:		4096
RX Mini:	0
RX Jumbo:	0
TX:		4096
Current hardware settings:
RX:		256
RX Mini:	0
RX Jumbo:	0
TX:		256


[2016-09-14T19:09:35+01:00] DEBUG: Plugin Network: ran '/sbin/ethtool -g eth1' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Parsing ethtool output: Ring parameters for eth1:
Pre-set maximums:
RX:		4096
RX Mini:	0
RX Jumbo:	0
TX:		4096
Current hardware settings:
RX:		256
RX Mini:	0
RX Jumbo:	0
TX:		256


[2016-09-14T19:09:35+01:00] DEBUG: Did not find hint rackspace.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Rackspace: ran 'xenstore-read vm-data/provider_data/provider' and failed #<Errno::ENOENT: No such file or directory - xenstore-read>
[2016-09-14T19:09:35+01:00] DEBUG: Did not find hint eucalyptus.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Eucalyptus: has_euca_mac? == false
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Eucalyptus: looks_like_euca? == false
[2016-09-14T19:09:35+01:00] DEBUG: Did not find hint linode.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Linode: looks_like_linode? == false
[2016-09-14T19:09:35+01:00] DEBUG: Did not find hint openstack.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Openstack: openstack hint not present
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Openstack: has_openstack_dmi? == false
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Openstack: Node does not appear to be an Openstack node
[2016-09-14T19:09:35+01:00] DEBUG: Did not find hint azure.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:35+01:00] DEBUG: azure plugin: No hints present for azure and doesn't appear to be azure.
[2016-09-14T19:09:35+01:00] DEBUG: Did not find hint digital_ocean.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Digitalocean: No hints present for and doesn't look like digitalocean
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Java: ran 'java -mx64m -version' and failed #<Errno::ENOENT: No such file or directory - java>
[2016-09-14T19:09:35+01:00] DEBUG: Java plugin: Could not shell_out "java -mx64m -version". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Go: ran 'go version' and failed #<Errno::ENOENT: No such file or directory - go>
[2016-09-14T19:09:35+01:00] DEBUG: Go plugin: Could not shell_out "go version". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin PHP: ran 'php -v' and failed #<Errno::ENOENT: No such file or directory - php>
[2016-09-14T19:09:35+01:00] DEBUG: Php plugin: Could not shell_out "php -v". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Scala: ran 'scala -version' and failed #<Errno::ENOENT: No such file or directory - scala>
[2016-09-14T19:09:35+01:00] DEBUG: Scala plugin: Could not shell_out "scala -version". Skipping data
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Scala: ran 'sbt --version' and failed #<Errno::ENOENT: No such file or directory - sbt>
[2016-09-14T19:09:35+01:00] DEBUG: Scala plugin: Could not shell_out "sbt --version". Skipping data
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Python: ran 'python -c "import sys; print (sys.version)"' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Erlang: ran 'erl -eval 'erlang:display(erlang:system_info(otp_release)), erlang:display(erlang:system_info(version)), erlang:display(erlang:system_info(nif_version)), halt().'  -noshell' and returned 127
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Erlang: ran 'erl +V' and failed #<Errno::ENOENT: No such file or directory - erl>
[2016-09-14T19:09:35+01:00] DEBUG: Erlang plugin: Could not shell_out "erl +V". Skipping data
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Mono: ran 'mono -V' and failed #<Errno::ENOENT: No such file or directory - mono>
[2016-09-14T19:09:35+01:00] DEBUG: Mono plugin: Could not shell_out "mono -V". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Lua: ran 'lua -v' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Elixir: ran 'elixir -v' and failed #<Errno::ENOENT: No such file or directory - elixir>
[2016-09-14T19:09:35+01:00] DEBUG: Elixir plugin: Could not shell_out "elixir -v". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Nodejs: ran 'node -v' and failed #<Errno::ENOENT: No such file or directory - node>
[2016-09-14T19:09:35+01:00] DEBUG: Nodejs plugin: Could not shell_out "node -v". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Perl: ran 'perl -V:version -V:archname' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Ruby: ran 'ruby -e "require 'rbconfig'; puts %Q(platform=#{RUBY_PLATFORM},version=#{RUBY_VERSION},release_date=#{RUBY_RELEASE_DATE},target=#{RbConfig::CONFIG['target']},target_cpu=#{RbConfig::CONFIG['target_cpu']},target_vendor=#{RbConfig::CONFIG['target_vendor']},target_os=#{RbConfig::CONFIG['target_os']},host=#{RbConfig::CONFIG['host']},host_cpu=#{RbConfig::CONFIG['host_cpu']},host_os=#{RbConfig::CONFIG['host_os']},host_vendor=#{RbConfig::CONFIG['host_vendor']},bin_dir=#{RbConfig::CONFIG['bindir']},ruby_bin=#{::File.join(RbConfig::CONFIG['bindir'], RbConfig::CONFIG['ruby_install_name'])},)"' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Ruby: ran 'ruby -e "require 'rbconfig'; require 'rubygems'; puts ::Gem.default_exec_format % 'gem'"' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Ruby: ran 'ruby -e "require 'rbconfig'; puts %x{/opt/chefdk/embedded/bin/ruby /opt/chefdk/embedded/bin/gem env gemdir}.chomp!"' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Rust: ran 'rustc --version' and failed #<Errno::ENOENT: No such file or directory - rustc>
[2016-09-14T19:09:35+01:00] DEBUG: Rust plugin: Could not shell_out "rustc --version". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Powershell: No data to collect. Skipping...
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Groovy: ran 'groovy -v' and failed #<Errno::ENOENT: No such file or directory - groovy>
[2016-09-14T19:09:35+01:00] DEBUG: Groovy plugin: Could not shell_out "groovy -v". Skipping plugin
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran 'gcc -v' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran '/lib/libc.so.6' and failed #<Errno::ENOENT: No such file or directory - /lib/libc.so.6>
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C '/lib/libc.so.6' binary could not be found. Skipping data.
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran '/lib64/libc.so.6' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran 'cl /?' and returned 127
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C 'cl /?' failed. Skipping data.
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran 'devenv.com /?' and returned 127
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C 'devenv.com /?' failed. Skipping data.
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran 'xlc -qversion' and failed #<Errno::ENOENT: No such file or directory - xlc>
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran 'cc -V -flags' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C: ran 'what /opt/ansic/bin/cc' and failed #<Errno::ENOENT: No such file or directory - what>
[2016-09-14T19:09:35+01:00] DEBUG: Plugin C 'what /opt/ansic/bin/cc' binary could not be found. Skipping data.
[2016-09-14T19:09:35+01:00] DEBUG: Skipping LSB, cannot find /etc/lsb-release or /usr/bin/lsb_release
[2016-09-14T19:09:35+01:00] DEBUG: Could not load sigar gem. Skipping NetworkListeners plugin
[2016-09-14T19:09:35+01:00] DEBUG: [inet] Using default interface eth0 and default gateway 10.0.2.2 to set the default ip to 10.0.2.15
[2016-09-14T19:09:35+01:00] DEBUG: [inet6] no default interface, picking the first ipaddress
[2016-09-14T19:09:35+01:00] DEBUG: ipaddress and ip6address are set from different interfaces (eth0 & eth1)
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Drivers: No data to collect. Skipping...
[2016-09-14T19:09:35+01:00] DEBUG: Virtualization plugin: did not find nova
[2016-09-14T19:09:35+01:00] DEBUG: Virtualization plugin: did not find lxc-version
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem: ran 'df -P' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem: ran 'df -iP' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem: ran 'mount' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem: ran 'lsblk -P -n -o NAME,FSTYPE' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem: ran 'lsblk -P -n -o NAME,UUID' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem: ran 'lsblk -P -n -o NAME,LABEL' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Hardware: No data to collect. Skipping...
[2016-09-14T19:09:35+01:00] DEBUG: Plugin SystemProfile: No data to collect. Skipping...
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem2: ran 'df -P' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem2: ran 'df -iP' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem2: ran 'mount' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Filesystem2: ran 'lsblk -n -P -o NAME,UUID,LABEL,FSTYPE' and returned 0
[2016-09-14T19:09:35+01:00] DEBUG: Did not find hint softlayer.json in the hint path(s): /etc/chef/ohai/hints 
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Softlayer: looks_like_softlayer? == false
[2016-09-14T19:09:35+01:00] DEBUG: Sessions plugin: did not find loginctl
[2016-09-14T19:09:35+01:00] DEBUG: Plugin Zpools: No data to collect. Skipping...
[2016-09-14T19:09:36+01:00] DEBUG: Plugin Hostname: ran 'hostname -s' and returned 0
[2016-09-14T19:09:36+01:00] DEBUG: Plugin Hostname: ran 'hostname' and returned 0
[2016-09-14T19:09:36+01:00] DEBUG: Plugin Hostname: ran 'hostname --fqdn' and returned 0
[2016-09-14T19:09:36+01:00] DEBUG: Plugin ip_scopes: cannot load gem, plugin disabled: cannot load such file -- ipaddr_extensions
[2016-09-14T19:09:36+01:00] DEBUG: Plugin Packages: ran 'rpm -qa --qf '%{NAME}\t%|EPOCH?{%{EPOCH}}:{0}|\t%{VERSION}\t%{RELEASE}\t%{INSTALLTIME}\t%{ARCH}\n'' and returned 0
[2016-09-14T19:09:36+01:00] DEBUG: Plugin Virtualbox: ran 'VBoxControl guestproperty enumerate' and returned 0
[2016-09-14T19:09:36+01:00] DEBUG: Client key is unspecified - skipping registration
[2016-09-14T19:09:36+01:00] DEBUG: Building node object for VM1
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/nodes/VM1
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000034ab7c8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/nodes/VM1",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000034ab930>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=["organizations", "chef", "nodes", "VM1"]>

[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestErrorResponse: 404: Object not found: chefzero://localhost:8889/nodes/VM1>
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/rest_base.rb:92:in `rescue in get_data'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/rest_base.rb:84:in `get_data'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in `get'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/rest_base.rb:62:in `call'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/rest_router.rb:24:in `call'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/server.rb:665:in `block in app'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/server.rb:337:in `call'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/server.rb:337:in `handle_socketless_request'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/socketless_server_map.rb:87:in `request'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.9.0/lib/chef_zero/socketless_server_map.rb:33:in `request'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http/socketless_chef_zero_client.rb:154:in `request'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http.rb:305:in `block in send_http_request'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http.rb:336:in `block in retrying_http_errors'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http.rb:334:in `loop'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http.rb:334:in `retrying_http_errors'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http.rb:299:in `send_http_request'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http.rb:144:in `request'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/http.rb:111:in `get'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/node.rb:585:in `load'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/node.rb:569:in `find_or_create'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/policy_builder/dynamic.rb:72:in `load_node'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/client.rb:467:in `load_node'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/client.rb:269:in `run'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:302:in `block in fork_chef_client'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:290:in `fork'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:290:in `fork_chef_client'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:255:in `block in run_chef_client'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/local_mode.rb:44:in `with_server_connectivity'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:243:in `run_chef_client'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:464:in `sleep_then_run_chef_client'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:451:in `block in interval_run_chef_client'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:450:in `loop'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:450:in `interval_run_chef_client'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/client.rb:434:in `run_application'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application.rb:60:in `run'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/application/solo.rb:226:in `run'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:53:in `load'
/usr/bin/chef-solo:53:in `<main>'
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (404) ---
{
  "error": [
    "Object not found: chefzero://localhost:8889/nodes/VM1"
  ]
}
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_response
[2016-09-14T19:09:36+01:00] INFO: HTTP Request Returned 404 Not Found: Object not found: chefzero://localhost:8889/nodes/VM1
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: POST /organizations/chef/nodes
--- POST BODY ---
{"name":"VM1","chef_environment":"_default","json_class":"Chef::Node","automatic":{},"normal":{},"chef_type":"node","default":{},"override":{},"run_list":[]}
--- END POST BODY ---
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000344e9b0
 @body=
  "{\"name\":\"VM1\",\"chef_environment\":\"_default\",\"json_class\":\"Chef::Node\",\"automatic\":{},\"normal\":{},\"chef_type\":\"node\",\"default\":{},\"override\":{},\"run_list\":[]}",
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"POST",
   "PATH_INFO"=>"/nodes",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000344eac8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=["organizations", "chef", "nodes"]>

[2016-09-14T19:09:36+01:00] DEBUG: BaseFile: Detecting file extension for VM1
[2016-09-14T19:09:36+01:00] DEBUG: BaseFile: got a file path of /root/nodes/VM1.json for VM1.json
[2016-09-14T19:09:36+01:00] DEBUG: Deleting parent /root/nodes and /root/nodes/VM1.json from FileSystemCache
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (201) ---
{
  "uri": "chefzero://localhost:8889/nodes/VM1"
}
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2016-09-14T19:09:36+01:00] INFO: Setting the run_list to ["recipe[jboss::default]"] from CLI options
[2016-09-14T19:09:36+01:00] DEBUG: Applying attributes from json file
[2016-09-14T19:09:36+01:00] DEBUG: Platform is centos version 6.8
[2016-09-14T19:09:36+01:00] INFO: Run List is [recipe[jboss::default]]
[2016-09-14T19:09:36+01:00] INFO: Run List expands to [jboss::default]
[2016-09-14T19:09:36+01:00] INFO: Starting Chef Run for VM1
[2016-09-14T19:09:36+01:00] INFO: Running start handlers
[2016-09-14T19:09:36+01:00] INFO: Start handlers complete.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: POST /organizations/chef/reports/nodes/VM1/runs
--- POST BODY ---
{"action":"start","run_id":"47ca9d8e-fdc3-4d83-a823-7fefeb9987b8","start_time":"2016-09-14 19:09:36 +0100"}
--- END POST BODY ---
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003394830
 @body=
  "{\"action\":\"start\",\"run_id\":\"47ca9d8e-fdc3-4d83-a823-7fefeb9987b8\",\"start_time\":\"2016-09-14 19:09:36 +0100\"}",
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"POST",
   "PATH_INFO"=>"/reports/nodes/VM1/runs",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000033948f8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=["organizations", "chef", "reports", "nodes", "VM1", "runs"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (404) ---
{
  "error": [
    "Object not found: "
  ]
}
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_response
[2016-09-14T19:09:36+01:00] INFO: HTTP Request Returned 404 Not Found: Object not found: 
[2016-09-14T19:09:36+01:00] DEBUG: Reporting error starting run. URL: reports/nodes/VM1/runs Received 404. Disabling reporting for run.
[2016-09-14T19:09:36+01:00] DEBUG: Synchronizing cookbooks
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: POST /organizations/chef/environments/_default/cookbook_versions
--- POST BODY ---
{"run_list":["jboss::default"]}
--- END POST BODY ---
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000033417c0
 @body="{\"run_list\":[\"jboss::default\"]}",
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"POST",
   "PATH_INFO"=>"/environments/_default/cookbook_versions",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000033418b0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations", "chef", "environments", "_default", "cookbook_versions"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
{
  "jboss": {
    "recipes": [
      {
        "name": "default.rb",
        "path": "recipes/default.rb",
        "checksum": "9cde2d9d55c0bb1e373bf084bd5925c6",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/jboss/recipes/default.rb"
      }
    ],
    "definitions": [

    ],
    "libraries": [

    ],
    "attributes": [
      {
        "name": "default.rb",
        "path": "attributes/default.rb",
        "checksum": "43ee40d6d6d96e9065166d46f2728f6b",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/jboss/attributes/default.rb"
      }
    ],
    "files": [

    ],
    "templates": [
      {
        "name": "jboss.erb",
        "path": "templates/default/jboss.erb",
        "checksum": "78d7f927e70c91dec2b4b77d479ffbe6",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb"
      },
      {
        "name": "run.erb",
        "path": "templates/default/run.erb",
        "checksum": "99edcb01d139672c0406f8cbeeb719ac",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/run.erb"
      },
      {
        "name": "jboss.erb~",
        "path": "templates/default/jboss.erb~",
        "checksum": "30726de7235f03cae4989566477db018",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb~"
      }
    ],
    "resources": [

    ],
    "providers": [

    ],
    "root_files": [
      {
        "name": "metadata.rb",
        "path": "metadata.rb",
        "checksum": "917a85e8cea0911fc452fd9e5d4e8801",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/jboss/metadata.rb"
      }
    ],
    "metadata": {
      "name": "jboss",
      "description": "",
      "maintainer": null,
      "maintainer_email": null,
      "license": "All rights reserved",
      "platforms": {

      },
      "dependencies": {
        "java": ">= 0.0.0"
      },
      "recommendations": {

      },
      "suggestions": {

      },
      "conflicting": {

      },
      "providing": {
        "jboss": ">= 0.0.0"
      },
      "replacing": {

      },
      "groupings": {

      },
      "recipes": {
        "jboss": ""
      },
      "version": "0.0.0",
      "source_url": "",
      "issues_url": "",
      "privacy": false,
      "chef_versions": [

      ],
      "ohai_versions": [

      ],
      "gems": [

      ]
    },
    "version": "0.0.0",
    "name": "jboss-0.0.0",
    "cookbook_name": "jboss",
    "frozen?": false,
    "chef_type": "cookbook_version",
    "json_class": "Chef::CookbookVersion"
  },
  "java": {
    "recipes": [
      {
        "name": "openjdk.rb",
        "path": "recipes/openjdk.rb",
        "checksum": "ecccfb4399774816ea885f742d290840",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/openjdk.rb"
      },
      {
        "name": "set_java_home.rb",
        "path": "recipes/set_java_home.rb",
        "checksum": "3e4730f9470f042bdd6ee62fd0d219c3",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_java_home.rb"
      },
      {
        "name": "default_java_symlink.rb",
        "path": "recipes/default_java_symlink.rb",
        "checksum": "fc515c53e97c743fa97c03bb20b2cdea",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default_java_symlink.rb"
      },
      {
        "name": "oracle_jce.rb",
        "path": "recipes/oracle_jce.rb",
        "checksum": "383400989e06a2bdff83c7476b42884a",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_jce.rb"
      },
      {
        "name": "purge_packages.rb",
        "path": "recipes/purge_packages.rb",
        "checksum": "33fb0460a1379730d20f6dc7de42742b",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/purge_packages.rb"
      },
      {
        "name": "default.rb",
        "path": "recipes/default.rb",
        "checksum": "9c1a288b8520ec19fae25b4c1f6f9cc2",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default.rb"
      },
      {
        "name": "oracle_rpm.rb",
        "path": "recipes/oracle_rpm.rb",
        "checksum": "54c9d5fe5a2b39a1f9e3e9208ca34f67",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_rpm.rb"
      },
      {
        "name": "ibm.rb",
        "path": "recipes/ibm.rb",
        "checksum": "f9f01d860538bbe3a7a52469feb1be29",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm.rb"
      },
      {
        "name": "oracle.rb",
        "path": "recipes/oracle.rb",
        "checksum": "ce5240f7545ae98f6d26901435a220ec",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle.rb"
      },
      {
        "name": "windows.rb",
        "path": "recipes/windows.rb",
        "checksum": "b5f68e5cbf94542ab6773c01b5424017",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/windows.rb"
      },
      {
        "name": "set_attributes_from_version.rb",
        "path": "recipes/set_attributes_from_version.rb",
        "checksum": "c30e052af14a9ad1f0538b2bf7ad283b",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_attributes_from_version.rb"
      },
      {
        "name": "oracle_i386.rb",
        "path": "recipes/oracle_i386.rb",
        "checksum": "c32e1a700c5eee8ba2cbb44ec3c05b12",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_i386.rb"
      },
      {
        "name": "homebrew.rb",
        "path": "recipes/homebrew.rb",
        "checksum": "1a63ec3af7be1e77469343f1d27b864a",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/homebrew.rb"
      },
      {
        "name": "ibm_tar.rb",
        "path": "recipes/ibm_tar.rb",
        "checksum": "10f1d8610371c0f719efb15b7f47eee5",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm_tar.rb"
      }
    ],
    "definitions": [

    ],
    "libraries": [
      {
        "name": "helpers.rb",
        "path": "libraries/helpers.rb",
        "checksum": "3a25e3cb9786a9dfe6a6610fb8c098ea",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/helpers.rb"
      },
      {
        "name": "matchers.rb",
        "path": "libraries/matchers.rb",
        "checksum": "74e1b76589af41edbd94571838c95006",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/matchers.rb"
      }
    ],
    "attributes": [
      {
        "name": "default.rb",
        "path": "attributes/default.rb",
        "checksum": "13ff2a9d5e406d687be83318aa7cea44",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/attributes/default.rb"
      }
    ],
    "files": [

    ],
    "templates": [
      {
        "name": "ibm_jdk.installer.properties.erb",
        "path": "templates/default/ibm_jdk.installer.properties.erb",
        "checksum": "1f5329075f93ee8e2ede8be3499d81c7",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/ibm_jdk.installer.properties.erb"
      },
      {
        "name": "oracle.jinfo.erb",
        "path": "templates/default/oracle.jinfo.erb",
        "checksum": "29a5dac977e46628c30398eed31ca51e",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/oracle.jinfo.erb"
      }
    ],
    "resources": [
      {
        "name": "ark.rb",
        "path": "resources/ark.rb",
        "checksum": "1dcc9c85d55807a4ac12396f510297e8",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/ark.rb"
      },
      {
        "name": "alternatives.rb",
        "path": "resources/alternatives.rb",
        "checksum": "9e35e04c78208e062f11fdfae3ffa9c2",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/alternatives.rb"
      }
    ],
    "providers": [
      {
        "name": "ark.rb",
        "path": "providers/ark.rb",
        "checksum": "4b23f8895d48487a4a908402891a5a36",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/ark.rb"
      },
      {
        "name": "alternatives.rb",
        "path": "providers/alternatives.rb",
        "checksum": "5b3237b32f00c17dfc3cf15ece3b100d",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/alternatives.rb"
      }
    ],
    "root_files": [
      {
        "name": "TESTING.md",
        "path": "TESTING.md",
        "checksum": "05b9494a0b5dc2f93c9fcfd7bd098a03",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/TESTING.md"
      },
      {
        "name": ".rubocop.yml",
        "path": ".rubocop.yml",
        "checksum": "5deaac628f96082be4ebac605c8b4397",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/.rubocop.yml"
      },
      {
        "name": ".kitchen.yml",
        "path": ".kitchen.yml",
        "checksum": "ce8a019c16e78bd25ae77c5359f00cc4",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/.kitchen.yml"
      },
      {
        "name": "README.md",
        "path": "README.md",
        "checksum": "7fdb200d03ea14a2b703d5de8210fd8f",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/README.md"
      },
      {
        "name": "Rakefile",
        "path": "Rakefile",
        "checksum": "bd48e70e5fe45ce7da703807b7bd18f1",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/Rakefile"
      },
      {
        "name": "CONTRIBUTING.md",
        "path": "CONTRIBUTING.md",
        "checksum": "eab56857857082f384cc72108445ac15",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/CONTRIBUTING.md"
      },
      {
        "name": "metadata.json",
        "path": "metadata.json",
        "checksum": "80f7fab39cafe5b71a9ff55c766902e8",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/metadata.json"
      },
      {
        "name": "Gemfile",
        "path": "Gemfile",
        "checksum": "986c78f181b4e7e4c3f54c97cfd2dc8f",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/Gemfile"
      },
      {
        "name": "chefignore",
        "path": "chefignore",
        "checksum": "14246d314eb0641ef36ae24e4c060c27",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/chefignore"
      },
      {
        "name": "LICENSE",
        "path": "LICENSE",
        "checksum": "8f7bb094c7232b058c7e9f2e431f389c",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/LICENSE"
      },
      {
        "name": "ISSUES.md",
        "path": "ISSUES.md",
        "checksum": "6d1fcfa62c1033f2df362f6ac6773d82",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/java/ISSUES.md"
      }
    ],
    "metadata": {
      "name": "java",
      "description": "Installs Java runtime.",
      "maintainer": "Agile Orbit",
      "maintainer_email": "info@agileorbit.com",
      "license": "Apache 2.0",
      "platforms": {
        "debian": ">= 0.0.0",
        "ubuntu": ">= 0.0.0",
        "centos": ">= 0.0.0",
        "redhat": ">= 0.0.0",
        "scientific": ">= 0.0.0",
        "fedora": ">= 0.0.0",
        "amazon": ">= 0.0.0",
        "arch": ">= 0.0.0",
        "oracle": ">= 0.0.0",
        "freebsd": ">= 0.0.0",
        "windows": ">= 0.0.0",
        "suse": ">= 0.0.0",
        "xenserver": ">= 0.0.0",
        "smartos": ">= 0.0.0",
        "mac_os_x": ">= 0.0.0"
      },
      "dependencies": {
        "apt": ">= 0.0.0"
      },
      "recommendations": {

      },
      "suggestions": {
        "homebrew": ">= 0.0.0",
        "windows": ">= 0.0.0",
        "aws": ">= 0.0.0"
      },
      "conflicting": {

      },
      "providing": {
        "java::openjdk": ">= 0.0.0",
        "java::set_java_home": ">= 0.0.0",
        "java::default_java_symlink": ">= 0.0.0",
        "java::oracle_jce": ">= 0.0.0",
        "java::purge_packages": ">= 0.0.0",
        "java": ">= 0.0.0",
        "java::oracle_rpm": ">= 0.0.0",
        "java::ibm": ">= 0.0.0",
        "java::oracle": ">= 0.0.0",
        "java::windows": ">= 0.0.0",
        "java::set_attributes_from_version": ">= 0.0.0",
        "java::oracle_i386": ">= 0.0.0",
        "java::homebrew": ">= 0.0.0",
        "java::ibm_tar": ">= 0.0.0"
      },
      "replacing": {

      },
      "groupings": {

      },
      "recipes": {
        "java::default": "Installs Java runtime",
        "java::default_java_symlink": "Updates /usr/lib/jvm/default-java",
        "java::ibm": "Installs the JDK for IBM",
        "java::ibm_tar": "Installs the JDK for IBM from a tarball",
        "java::openjdk": "Installs the OpenJDK flavor of Java",
        "java::oracle": "Installs the Oracle flavor of Java",
        "java::oracle_i386": "Installs the 32-bit jvm without setting it as the default",
        "java::oracle_rpm": "Installs the Oracle RPM flavor of Java",
        "java::purge_packages": "Purges old Sun JDK packages",
        "java::set_attributes_from_version": "Sets various attributes that depend on jdk_version",
        "java::set_java_home": "Sets the JAVA_HOME environment variable",
        "java::windows": "Installs the JDK on Windows",
        "java::homebrew": "Installs the JDK on Mac OS X via Homebrew",
        "java::oracle_jce": "",
        "java": ""
      },
      "version": "1.39.0",
      "source_url": "",
      "issues_url": "",
      "privacy": false,
      "chef_versions": [

      ],
      "ohai_versions": [

      ],
      "gems": [

      ]
    },
    "version": "1.39.0",
    "name": "java-1.39.0",
    "cookbook_name": "java",
    "frozen?": false,
    "chef_type": "cookbook_version",
    "json_class": "Chef::CookbookVersion"
  },
  "apt": {
    "recipes": [
      {
        "name": "default.rb",
        "path": "recipes/default.rb",
        "checksum": "41d6fda1550360cef8fdc2b85b7cd5d3",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/default.rb"
      },
      {
        "name": "cacher-ng.rb",
        "path": "recipes/cacher-ng.rb",
        "checksum": "7a6cab8ae3de86aa47af5e4f51b1809e",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-ng.rb"
      },
      {
        "name": "cacher-client.rb",
        "path": "recipes/cacher-client.rb",
        "checksum": "c695c480a7f44d8b6aa650ca8111cfe9",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-client.rb"
      },
      {
        "name": "unattended-upgrades.rb",
        "path": "recipes/unattended-upgrades.rb",
        "checksum": "2d0133b2d753adac27212d067fc64ed4",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/unattended-upgrades.rb"
      }
    ],
    "definitions": [

    ],
    "libraries": [
      {
        "name": "helpers.rb",
        "path": "libraries/helpers.rb",
        "checksum": "742582294ca3f993623d45ca6146ab6b",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/helpers.rb"
      },
      {
        "name": "network.rb",
        "path": "libraries/network.rb",
        "checksum": "90130e2f6b28c59924f1e58a2d5eb370",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/network.rb"
      },
      {
        "name": "matchers.rb",
        "path": "libraries/matchers.rb",
        "checksum": "cdeb104d4aad86aa5d233ffde31467e3",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/matchers.rb"
      }
    ],
    "attributes": [
      {
        "name": "default.rb",
        "path": "attributes/default.rb",
        "checksum": "ce951665be4838e5ff35120e236b7dd2",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/attributes/default.rb"
      }
    ],
    "files": [
      {
        "name": "15update-stamp",
        "path": "files/default/15update-stamp",
        "checksum": "b9de0ac9e2c9854b1bb213e362dc4e41",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/15update-stamp"
      },
      {
        "name": "apt-proxy-v2.conf",
        "path": "files/default/apt-proxy-v2.conf",
        "checksum": "fdd69a59686e05653874bd7bba84adc3",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/apt-proxy-v2.conf"
      }
    ],
    "templates": [
      {
        "name": "01proxy.erb",
        "path": "templates/default/01proxy.erb",
        "checksum": "3bd9dbec40e4bfb072fb97163acba08a",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/01proxy.erb"
      },
      {
        "name": "20auto-upgrades.erb",
        "path": "templates/default/20auto-upgrades.erb",
        "checksum": "362f31b2fbf624dc272a09c1129481de",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/20auto-upgrades.erb"
      },
      {
        "name": "acng.conf.erb",
        "path": "templates/default/acng.conf.erb",
        "checksum": "797cfd1ea88e09090189557263025410",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/acng.conf.erb"
      },
      {
        "name": "unattended-upgrades.seed.erb",
        "path": "templates/default/unattended-upgrades.seed.erb",
        "checksum": "e7b2494a57dc54c0df3e93beabf1f7a1",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/unattended-upgrades.seed.erb"
      },
      {
        "name": "50unattended-upgrades.erb",
        "path": "templates/default/50unattended-upgrades.erb",
        "checksum": "100c94c880f80d76fa6d461440781966",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/50unattended-upgrades.erb"
      },
      {
        "name": "10recommends.erb",
        "path": "templates/default/10recommends.erb",
        "checksum": "8ccea01d9d5306901dc51457c6680701",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/10recommends.erb"
      }
    ],
    "resources": [
      {
        "name": "repository.rb",
        "path": "resources/repository.rb",
        "checksum": "1ff20323c45a55f0cc239b66028bcfed",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/repository.rb"
      },
      {
        "name": "preference.rb",
        "path": "resources/preference.rb",
        "checksum": "ee7b4c784ca51aa243988a34b130972b",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/preference.rb"
      }
    ],
    "providers": [
      {
        "name": "repository.rb",
        "path": "providers/repository.rb",
        "checksum": "fc84a1dd601d25f2b014f4b0919672ec",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/repository.rb"
      },
      {
        "name": "preference.rb",
        "path": "providers/preference.rb",
        "checksum": "d2197692fd1dedc087d9a8fdf3796408",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/preference.rb"
      }
    ],
    "root_files": [
      {
        "name": "MAINTAINERS.md",
        "path": "MAINTAINERS.md",
        "checksum": "032c573c61cbc27e4111f5a15bc3c734",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/MAINTAINERS.md"
      },
      {
        "name": "README.md",
        "path": "README.md",
        "checksum": "19b622213a86c4c0b7fd68e9b34c4c1a",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/README.md"
      },
      {
        "name": "CONTRIBUTING.md",
        "path": "CONTRIBUTING.md",
        "checksum": "851a37baf4e39196fc664e393cdf2e11",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/CONTRIBUTING.md"
      },
      {
        "name": "metadata.json",
        "path": "metadata.json",
        "checksum": "20d499192a6211d7dab24e1d42e31af5",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/metadata.json"
      },
      {
        "name": "CHANGELOG.md",
        "path": "CHANGELOG.md",
        "checksum": "1c127e3464d7ee7f0b92bcc06f6a3827",
        "specificity": "default",
        "url": "chefzero://localhost:8889/file_store/repo/cookbooks/apt/CHANGELOG.md"
      }
    ],
    "metadata": {
      "name": "apt",
      "description": "Configures apt and apt services. Ships resources for managing apt repositories",
      "maintainer": "Chef Software, Inc.",
      "maintainer_email": "cookbooks@chef.io",
      "license": "Apache 2.0",
      "platforms": {
        "ubuntu": ">= 0.0.0",
        "debian": ">= 0.0.0"
      },
      "dependencies": {

      },
      "recommendations": {

      },
      "suggestions": {

      },
      "conflicting": {

      },
      "providing": {
        "apt": ">= 0.0.0",
        "apt::cacher-ng": ">= 0.0.0",
        "apt::cacher-client": ">= 0.0.0",
        "apt::unattended-upgrades": ">= 0.0.0"
      },
      "replacing": {

      },
      "groupings": {

      },
      "recipes": {
        "apt::default": "Runs apt-get update during compile phase and sets up preseed directories",
        "apt::cacher-ng": "Set up an apt-cacher-ng caching proxy",
        "apt::cacher-client": "Client for the apt::cacher-ng caching proxy",
        "apt": "",
        "apt::unattended-upgrades": ""
      },
      "version": "3.0.0",
      "source_url": "",
      "issues_url": "",
      "privacy": false,
      "chef_versions": [

      ],
      "ohai_versions": [

      ],
      "gems": [

      ]
    },
    "version": "3.0.0",
    "name": "apt-3.0.0",
    "cookbook_name": "apt",
    "frozen?": false,
    "chef_type": "cookbook_version",
    "json_class": "Chef::CookbookVersion"
  }
}
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_response
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_response
[2016-09-14T19:09:36+01:00] INFO: Loading cookbooks [jboss@0.0.0, java@1.39.0, apt@3.0.0]
[2016-09-14T19:09:36+01:00] DEBUG: Cookbooks detail: [#<Chef::CookbookVersion:0x000000034e54c8 @name="jboss", @root_paths=[], @frozen=false, @attribute_filenames=["default.rb"], @definition_filenames=[], @template_filenames=["jboss.erb", "run.erb", "jboss.erb~"], @file_filenames=[], @recipe_filenames=["default.rb"], @recipe_filenames_by_name={"default"=>"default.rb"}, @library_filenames=[], @resource_filenames=[], @provider_filenames=[], @metadata_filenames=[], @root_filenames=["metadata.rb"], @all_files=[], @status=:ready, @file_vendor=nil, @metadata=#<Chef::Cookbook::Metadata:0x000000034e4578 @name="jboss", @description="", @long_description="", @license="All rights reserved", @maintainer=nil, @maintainer_email=nil, @platforms={}, @dependencies={"java"=>">= 0.0.0"}, @recommendations={}, @suggestions={}, @conflicting={}, @providing={"jboss"=>">= 0.0.0"}, @replacing={}, @attributes={}, @groupings={}, @recipes={"jboss"=>""}, @version="0.0.0", @source_url="", @issues_url="", @privacy=false, @chef_versions=[], @ohai_versions=[], @gems=[], @errors=[]>, @chef_server_rest=nil, @attribute_filenames_by_short_filename={"default"=>"default.rb"}, @cookbook_manifest=#<Chef::CookbookManifest:0x000000034cf448 @cookbook_version=#<Chef::CookbookVersion:0x000000034e54c8 ...>, @policy_mode=false, @manifest={"recipes"=>[{"name"=>"default.rb", "path"=>"recipes/default.rb", "checksum"=>"9cde2d9d55c0bb1e373bf084bd5925c6", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/recipes/default.rb"}], "definitions"=>[], "libraries"=>[], "attributes"=>[{"name"=>"default.rb", "path"=>"attributes/default.rb", "checksum"=>"43ee40d6d6d96e9065166d46f2728f6b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/attributes/default.rb"}], "files"=>[], "templates"=>[{"name"=>"jboss.erb", "path"=>"templates/default/jboss.erb", "checksum"=>"78d7f927e70c91dec2b4b77d479ffbe6", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb"}, {"name"=>"run.erb", "path"=>"templates/default/run.erb", "checksum"=>"99edcb01d139672c0406f8cbeeb719ac", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/run.erb"}, {"name"=>"jboss.erb~", "path"=>"templates/default/jboss.erb~", "checksum"=>"30726de7235f03cae4989566477db018", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb~"}], "resources"=>[], "providers"=>[], "root_files"=>[{"name"=>"metadata.rb", "path"=>"metadata.rb", "checksum"=>"917a85e8cea0911fc452fd9e5d4e8801", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/metadata.rb"}], "metadata"=>{"name"=>"jboss", "description"=>"", "long_description"=>"", "maintainer"=>nil, "maintainer_email"=>nil, "license"=>"All rights reserved", "platforms"=>{}, "dependencies"=>{"java"=>">= 0.0.0"}, "recommendations"=>{}, "suggestions"=>{}, "conflicting"=>{}, "providing"=>{"jboss"=>">= 0.0.0"}, "replacing"=>{}, "attributes"=>{}, "groupings"=>{}, "recipes"=>{"jboss"=>""}, "version"=>"0.0.0", "source_url"=>"", "issues_url"=>"", "privacy"=>false, "chef_versions"=>[], "ohai_versions"=>[], "gems"=>[]}, "version"=>"0.0.0", "name"=>"jboss-0.0.0", "cookbook_name"=>"jboss", "frozen?"=>false, "chef_type"=>"cookbook_version", "json_class"=>"Chef::CookbookVersion"}, @checksums={"9cde2d9d55c0bb1e373bf084bd5925c6"=>nil, "43ee40d6d6d96e9065166d46f2728f6b"=>nil, "78d7f927e70c91dec2b4b77d479ffbe6"=>nil, "99edcb01d139672c0406f8cbeeb719ac"=>nil, "30726de7235f03cae4989566477db018"=>nil, "917a85e8cea0911fc452fd9e5d4e8801"=>nil}, @manifest_records_by_path={"recipes/default.rb"=>{"name"=>"default.rb", "path"=>"recipes/default.rb", "checksum"=>"9cde2d9d55c0bb1e373bf084bd5925c6", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/recipes/default.rb"}, "attributes/default.rb"=>{"name"=>"default.rb", "path"=>"attributes/default.rb", "checksum"=>"43ee40d6d6d96e9065166d46f2728f6b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/attributes/default.rb"}, "templates/default/jboss.erb"=>{"name"=>"jboss.erb", "path"=>"templates/default/jboss.erb", "checksum"=>"78d7f927e70c91dec2b4b77d479ffbe6", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb"}, "templates/default/run.erb"=>{"name"=>"run.erb", "path"=>"templates/default/run.erb", "checksum"=>"99edcb01d139672c0406f8cbeeb719ac", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/run.erb"}, "templates/default/jboss.erb~"=>{"name"=>"jboss.erb~", "path"=>"templates/default/jboss.erb~", "checksum"=>"30726de7235f03cae4989566477db018", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb~"}, "metadata.rb"=>{"name"=>"metadata.rb", "path"=>"metadata.rb", "checksum"=>"917a85e8cea0911fc452fd9e5d4e8801", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/jboss/metadata.rb"}}>>, #<Chef::CookbookVersion:0x000000034b55e8 @name="java", @root_paths=[], @frozen=false, @attribute_filenames=["default.rb"], @definition_filenames=[], @template_filenames=["ibm_jdk.installer.properties.erb", "oracle.jinfo.erb"], @file_filenames=[], @recipe_filenames=["openjdk.rb", "set_java_home.rb", "default_java_symlink.rb", "oracle_jce.rb", "purge_packages.rb", "default.rb", "oracle_rpm.rb", "ibm.rb", "oracle.rb", "windows.rb", "set_attributes_from_version.rb", "oracle_i386.rb", "homebrew.rb", "ibm_tar.rb"], @recipe_filenames_by_name={"openjdk"=>"openjdk.rb", "set_java_home"=>"set_java_home.rb", "default_java_symlink"=>"default_java_symlink.rb", "oracle_jce"=>"oracle_jce.rb", "purge_packages"=>"purge_packages.rb", "default"=>"default.rb", "oracle_rpm"=>"oracle_rpm.rb", "ibm"=>"ibm.rb", "oracle"=>"oracle.rb", "windows"=>"windows.rb", "set_attributes_from_version"=>"set_attributes_from_version.rb", "oracle_i386"=>"oracle_i386.rb", "homebrew"=>"homebrew.rb", "ibm_tar"=>"ibm_tar.rb"}, @library_filenames=["helpers.rb", "matchers.rb"], @resource_filenames=["ark.rb", "alternatives.rb"], @provider_filenames=["ark.rb", "alternatives.rb"], @metadata_filenames=[], @root_filenames=["TESTING.md", ".rubocop.yml", ".kitchen.yml", "README.md", "Rakefile", "CONTRIBUTING.md", "metadata.json", "Gemfile", "chefignore", "LICENSE", "ISSUES.md"], @all_files=[], @status=:ready, @file_vendor=nil, @metadata=#<Chef::Cookbook::Metadata:0x000000034b4c10 @name="java", @description="Installs Java runtime.", @long_description="", @license="Apache 2.0", @maintainer="Agile Orbit", @maintainer_email="info@agileorbit.com", @platforms={"debian"=>">= 0.0.0", "ubuntu"=>">= 0.0.0", "centos"=>">= 0.0.0", "redhat"=>">= 0.0.0", "scientific"=>">= 0.0.0", "fedora"=>">= 0.0.0", "amazon"=>">= 0.0.0", "arch"=>">= 0.0.0", "oracle"=>">= 0.0.0", "freebsd"=>">= 0.0.0", "windows"=>">= 0.0.0", "suse"=>">= 0.0.0", "xenserver"=>">= 0.0.0", "smartos"=>">= 0.0.0", "mac_os_x"=>">= 0.0.0"}, @dependencies={"apt"=>">= 0.0.0"}, @recommendations={}, @suggestions={"homebrew"=>">= 0.0.0", "windows"=>">= 0.0.0", "aws"=>">= 0.0.0"}, @conflicting={}, @providing={"java::openjdk"=>">= 0.0.0", "java::set_java_home"=>">= 0.0.0", "java::default_java_symlink"=>">= 0.0.0", "java::oracle_jce"=>">= 0.0.0", "java::purge_packages"=>">= 0.0.0", "java"=>">= 0.0.0", "java::oracle_rpm"=>">= 0.0.0", "java::ibm"=>">= 0.0.0", "java::oracle"=>">= 0.0.0", "java::windows"=>">= 0.0.0", "java::set_attributes_from_version"=>">= 0.0.0", "java::oracle_i386"=>">= 0.0.0", "java::homebrew"=>">= 0.0.0", "java::ibm_tar"=>">= 0.0.0"}, @replacing={}, @attributes={}, @groupings={}, @recipes={"java::default"=>"Installs Java runtime", "java::default_java_symlink"=>"Updates /usr/lib/jvm/default-java", "java::ibm"=>"Installs the JDK for IBM", "java::ibm_tar"=>"Installs the JDK for IBM from a tarball", "java::openjdk"=>"Installs the OpenJDK flavor of Java", "java::oracle"=>"Installs the Oracle flavor of Java", "java::oracle_i386"=>"Installs the 32-bit jvm without setting it as the default", "java::oracle_rpm"=>"Installs the Oracle RPM flavor of Java", "java::purge_packages"=>"Purges old Sun JDK packages", "java::set_attributes_from_version"=>"Sets various attributes that depend on jdk_version", "java::set_java_home"=>"Sets the JAVA_HOME environment variable", "java::windows"=>"Installs the JDK on Windows", "java::homebrew"=>"Installs the JDK on Mac OS X via Homebrew", "java::oracle_jce"=>"", "java"=>""}, @version="1.39.0", @source_url="", @issues_url="", @privacy=false, @chef_versions=[], @ohai_versions=[], @gems=[], @errors=[]>, @chef_server_rest=nil, @attribute_filenames_by_short_filename={"default"=>"default.rb"}, @cookbook_manifest=#<Chef::CookbookManifest:0x000000034afbe8 @cookbook_version=#<Chef::CookbookVersion:0x000000034b55e8 ...>, @policy_mode=false, @manifest={"recipes"=>[{"name"=>"openjdk.rb", "path"=>"recipes/openjdk.rb", "checksum"=>"ecccfb4399774816ea885f742d290840", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/openjdk.rb"}, {"name"=>"set_java_home.rb", "path"=>"recipes/set_java_home.rb", "checksum"=>"3e4730f9470f042bdd6ee62fd0d219c3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_java_home.rb"}, {"name"=>"default_java_symlink.rb", "path"=>"recipes/default_java_symlink.rb", "checksum"=>"fc515c53e97c743fa97c03bb20b2cdea", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default_java_symlink.rb"}, {"name"=>"oracle_jce.rb", "path"=>"recipes/oracle_jce.rb", "checksum"=>"383400989e06a2bdff83c7476b42884a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_jce.rb"}, {"name"=>"purge_packages.rb", "path"=>"recipes/purge_packages.rb", "checksum"=>"33fb0460a1379730d20f6dc7de42742b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/purge_packages.rb"}, {"name"=>"default.rb", "path"=>"recipes/default.rb", "checksum"=>"9c1a288b8520ec19fae25b4c1f6f9cc2", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default.rb"}, {"name"=>"oracle_rpm.rb", "path"=>"recipes/oracle_rpm.rb", "checksum"=>"54c9d5fe5a2b39a1f9e3e9208ca34f67", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_rpm.rb"}, {"name"=>"ibm.rb", "path"=>"recipes/ibm.rb", "checksum"=>"f9f01d860538bbe3a7a52469feb1be29", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm.rb"}, {"name"=>"oracle.rb", "path"=>"recipes/oracle.rb", "checksum"=>"ce5240f7545ae98f6d26901435a220ec", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle.rb"}, {"name"=>"windows.rb", "path"=>"recipes/windows.rb", "checksum"=>"b5f68e5cbf94542ab6773c01b5424017", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/windows.rb"}, {"name"=>"set_attributes_from_version.rb", "path"=>"recipes/set_attributes_from_version.rb", "checksum"=>"c30e052af14a9ad1f0538b2bf7ad283b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_attributes_from_version.rb"}, {"name"=>"oracle_i386.rb", "path"=>"recipes/oracle_i386.rb", "checksum"=>"c32e1a700c5eee8ba2cbb44ec3c05b12", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_i386.rb"}, {"name"=>"homebrew.rb", "path"=>"recipes/homebrew.rb", "checksum"=>"1a63ec3af7be1e77469343f1d27b864a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/homebrew.rb"}, {"name"=>"ibm_tar.rb", "path"=>"recipes/ibm_tar.rb", "checksum"=>"10f1d8610371c0f719efb15b7f47eee5", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm_tar.rb"}], "definitions"=>[], "libraries"=>[{"name"=>"helpers.rb", "path"=>"libraries/helpers.rb", "checksum"=>"3a25e3cb9786a9dfe6a6610fb8c098ea", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/helpers.rb"}, {"name"=>"matchers.rb", "path"=>"libraries/matchers.rb", "checksum"=>"74e1b76589af41edbd94571838c95006", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/matchers.rb"}], "attributes"=>[{"name"=>"default.rb", "path"=>"attributes/default.rb", "checksum"=>"13ff2a9d5e406d687be83318aa7cea44", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/attributes/default.rb"}], "files"=>[], "templates"=>[{"name"=>"ibm_jdk.installer.properties.erb", "path"=>"templates/default/ibm_jdk.installer.properties.erb", "checksum"=>"1f5329075f93ee8e2ede8be3499d81c7", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/ibm_jdk.installer.properties.erb"}, {"name"=>"oracle.jinfo.erb", "path"=>"templates/default/oracle.jinfo.erb", "checksum"=>"29a5dac977e46628c30398eed31ca51e", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/oracle.jinfo.erb"}], "resources"=>[{"name"=>"ark.rb", "path"=>"resources/ark.rb", "checksum"=>"1dcc9c85d55807a4ac12396f510297e8", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/ark.rb"}, {"name"=>"alternatives.rb", "path"=>"resources/alternatives.rb", "checksum"=>"9e35e04c78208e062f11fdfae3ffa9c2", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/alternatives.rb"}], "providers"=>[{"name"=>"ark.rb", "path"=>"providers/ark.rb", "checksum"=>"4b23f8895d48487a4a908402891a5a36", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/ark.rb"}, {"name"=>"alternatives.rb", "path"=>"providers/alternatives.rb", "checksum"=>"5b3237b32f00c17dfc3cf15ece3b100d", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/alternatives.rb"}], "root_files"=>[{"name"=>"TESTING.md", "path"=>"TESTING.md", "checksum"=>"05b9494a0b5dc2f93c9fcfd7bd098a03", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/TESTING.md"}, {"name"=>".rubocop.yml", "path"=>".rubocop.yml", "checksum"=>"5deaac628f96082be4ebac605c8b4397", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/.rubocop.yml"}, {"name"=>".kitchen.yml", "path"=>".kitchen.yml", "checksum"=>"ce8a019c16e78bd25ae77c5359f00cc4", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/.kitchen.yml"}, {"name"=>"README.md", "path"=>"README.md", "checksum"=>"7fdb200d03ea14a2b703d5de8210fd8f", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/README.md"}, {"name"=>"Rakefile", "path"=>"Rakefile", "checksum"=>"bd48e70e5fe45ce7da703807b7bd18f1", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/Rakefile"}, {"name"=>"CONTRIBUTING.md", "path"=>"CONTRIBUTING.md", "checksum"=>"eab56857857082f384cc72108445ac15", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/CONTRIBUTING.md"}, {"name"=>"metadata.json", "path"=>"metadata.json", "checksum"=>"80f7fab39cafe5b71a9ff55c766902e8", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/metadata.json"}, {"name"=>"Gemfile", "path"=>"Gemfile", "checksum"=>"986c78f181b4e7e4c3f54c97cfd2dc8f", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/Gemfile"}, {"name"=>"chefignore", "path"=>"chefignore", "checksum"=>"14246d314eb0641ef36ae24e4c060c27", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/chefignore"}, {"name"=>"LICENSE", "path"=>"LICENSE", "checksum"=>"8f7bb094c7232b058c7e9f2e431f389c", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/LICENSE"}, {"name"=>"ISSUES.md", "path"=>"ISSUES.md", "checksum"=>"6d1fcfa62c1033f2df362f6ac6773d82", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/ISSUES.md"}], "metadata"=>{"name"=>"java", "description"=>"Installs Java runtime.", "long_description"=>"", "maintainer"=>"Agile Orbit", "maintainer_email"=>"info@agileorbit.com", "license"=>"Apache 2.0", "platforms"=>{"debian"=>">= 0.0.0", "ubuntu"=>">= 0.0.0", "centos"=>">= 0.0.0", "redhat"=>">= 0.0.0", "scientific"=>">= 0.0.0", "fedora"=>">= 0.0.0", "amazon"=>">= 0.0.0", "arch"=>">= 0.0.0", "oracle"=>">= 0.0.0", "freebsd"=>">= 0.0.0", "windows"=>">= 0.0.0", "suse"=>">= 0.0.0", "xenserver"=>">= 0.0.0", "smartos"=>">= 0.0.0", "mac_os_x"=>">= 0.0.0"}, "dependencies"=>{"apt"=>">= 0.0.0"}, "recommendations"=>{}, "suggestions"=>{"homebrew"=>">= 0.0.0", "windows"=>">= 0.0.0", "aws"=>">= 0.0.0"}, "conflicting"=>{}, "providing"=>{"java::openjdk"=>">= 0.0.0", "java::set_java_home"=>">= 0.0.0", "java::default_java_symlink"=>">= 0.0.0", "java::oracle_jce"=>">= 0.0.0", "java::purge_packages"=>">= 0.0.0", "java"=>">= 0.0.0", "java::oracle_rpm"=>">= 0.0.0", "java::ibm"=>">= 0.0.0", "java::oracle"=>">= 0.0.0", "java::windows"=>">= 0.0.0", "java::set_attributes_from_version"=>">= 0.0.0", "java::oracle_i386"=>">= 0.0.0", "java::homebrew"=>">= 0.0.0", "java::ibm_tar"=>">= 0.0.0"}, "replacing"=>{}, "attributes"=>{}, "groupings"=>{}, "recipes"=>{"java::default"=>"Installs Java runtime", "java::default_java_symlink"=>"Updates /usr/lib/jvm/default-java", "java::ibm"=>"Installs the JDK for IBM", "java::ibm_tar"=>"Installs the JDK for IBM from a tarball", "java::openjdk"=>"Installs the OpenJDK flavor of Java", "java::oracle"=>"Installs the Oracle flavor of Java", "java::oracle_i386"=>"Installs the 32-bit jvm without setting it as the default", "java::oracle_rpm"=>"Installs the Oracle RPM flavor of Java", "java::purge_packages"=>"Purges old Sun JDK packages", "java::set_attributes_from_version"=>"Sets various attributes that depend on jdk_version", "java::set_java_home"=>"Sets the JAVA_HOME environment variable", "java::windows"=>"Installs the JDK on Windows", "java::homebrew"=>"Installs the JDK on Mac OS X via Homebrew", "java::oracle_jce"=>"", "java"=>""}, "version"=>"1.39.0", "source_url"=>"", "issues_url"=>"", "privacy"=>false, "chef_versions"=>[], "ohai_versions"=>[], "gems"=>[]}, "version"=>"1.39.0", "name"=>"java-1.39.0", "cookbook_name"=>"java", "frozen?"=>false, "chef_type"=>"cookbook_version", "json_class"=>"Chef::CookbookVersion"}, @checksums={"1dcc9c85d55807a4ac12396f510297e8"=>nil, "9e35e04c78208e062f11fdfae3ffa9c2"=>nil, "4b23f8895d48487a4a908402891a5a36"=>nil, "5b3237b32f00c17dfc3cf15ece3b100d"=>nil, "ecccfb4399774816ea885f742d290840"=>nil, "3e4730f9470f042bdd6ee62fd0d219c3"=>nil, "fc515c53e97c743fa97c03bb20b2cdea"=>nil, "383400989e06a2bdff83c7476b42884a"=>nil, "33fb0460a1379730d20f6dc7de42742b"=>nil, "9c1a288b8520ec19fae25b4c1f6f9cc2"=>nil, "54c9d5fe5a2b39a1f9e3e9208ca34f67"=>nil, "f9f01d860538bbe3a7a52469feb1be29"=>nil, "ce5240f7545ae98f6d26901435a220ec"=>nil, "b5f68e5cbf94542ab6773c01b5424017"=>nil, "c30e052af14a9ad1f0538b2bf7ad283b"=>nil, "c32e1a700c5eee8ba2cbb44ec3c05b12"=>nil, "1a63ec3af7be1e77469343f1d27b864a"=>nil, "10f1d8610371c0f719efb15b7f47eee5"=>nil, "3a25e3cb9786a9dfe6a6610fb8c098ea"=>nil, "74e1b76589af41edbd94571838c95006"=>nil, "13ff2a9d5e406d687be83318aa7cea44"=>nil, "1f5329075f93ee8e2ede8be3499d81c7"=>nil, "29a5dac977e46628c30398eed31ca51e"=>nil, "05b9494a0b5dc2f93c9fcfd7bd098a03"=>nil, "5deaac628f96082be4ebac605c8b4397"=>nil, "ce8a019c16e78bd25ae77c5359f00cc4"=>nil, "7fdb200d03ea14a2b703d5de8210fd8f"=>nil, "bd48e70e5fe45ce7da703807b7bd18f1"=>nil, "eab56857857082f384cc72108445ac15"=>nil, "80f7fab39cafe5b71a9ff55c766902e8"=>nil, "986c78f181b4e7e4c3f54c97cfd2dc8f"=>nil, "14246d314eb0641ef36ae24e4c060c27"=>nil, "8f7bb094c7232b058c7e9f2e431f389c"=>nil, "6d1fcfa62c1033f2df362f6ac6773d82"=>nil}, @manifest_records_by_path={"resources/ark.rb"=>{"name"=>"ark.rb", "path"=>"resources/ark.rb", "checksum"=>"1dcc9c85d55807a4ac12396f510297e8", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/ark.rb"}, "resources/alternatives.rb"=>{"name"=>"alternatives.rb", "path"=>"resources/alternatives.rb", "checksum"=>"9e35e04c78208e062f11fdfae3ffa9c2", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/alternatives.rb"}, "providers/ark.rb"=>{"name"=>"ark.rb", "path"=>"providers/ark.rb", "checksum"=>"4b23f8895d48487a4a908402891a5a36", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/ark.rb"}, "providers/alternatives.rb"=>{"name"=>"alternatives.rb", "path"=>"providers/alternatives.rb", "checksum"=>"5b3237b32f00c17dfc3cf15ece3b100d", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/alternatives.rb"}, "recipes/openjdk.rb"=>{"name"=>"openjdk.rb", "path"=>"recipes/openjdk.rb", "checksum"=>"ecccfb4399774816ea885f742d290840", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/openjdk.rb"}, "recipes/set_java_home.rb"=>{"name"=>"set_java_home.rb", "path"=>"recipes/set_java_home.rb", "checksum"=>"3e4730f9470f042bdd6ee62fd0d219c3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_java_home.rb"}, "recipes/default_java_symlink.rb"=>{"name"=>"default_java_symlink.rb", "path"=>"recipes/default_java_symlink.rb", "checksum"=>"fc515c53e97c743fa97c03bb20b2cdea", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default_java_symlink.rb"}, "recipes/oracle_jce.rb"=>{"name"=>"oracle_jce.rb", "path"=>"recipes/oracle_jce.rb", "checksum"=>"383400989e06a2bdff83c7476b42884a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_jce.rb"}, "recipes/purge_packages.rb"=>{"name"=>"purge_packages.rb", "path"=>"recipes/purge_packages.rb", "checksum"=>"33fb0460a1379730d20f6dc7de42742b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/purge_packages.rb"}, "recipes/default.rb"=>{"name"=>"default.rb", "path"=>"recipes/default.rb", "checksum"=>"9c1a288b8520ec19fae25b4c1f6f9cc2", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default.rb"}, "recipes/oracle_rpm.rb"=>{"name"=>"oracle_rpm.rb", "path"=>"recipes/oracle_rpm.rb", "checksum"=>"54c9d5fe5a2b39a1f9e3e9208ca34f67", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_rpm.rb"}, "recipes/ibm.rb"=>{"name"=>"ibm.rb", "path"=>"recipes/ibm.rb", "checksum"=>"f9f01d860538bbe3a7a52469feb1be29", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm.rb"}, "recipes/oracle.rb"=>{"name"=>"oracle.rb", "path"=>"recipes/oracle.rb", "checksum"=>"ce5240f7545ae98f6d26901435a220ec", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle.rb"}, "recipes/windows.rb"=>{"name"=>"windows.rb", "path"=>"recipes/windows.rb", "checksum"=>"b5f68e5cbf94542ab6773c01b5424017", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/windows.rb"}, "recipes/set_attributes_from_version.rb"=>{"name"=>"set_attributes_from_version.rb", "path"=>"recipes/set_attributes_from_version.rb", "checksum"=>"c30e052af14a9ad1f0538b2bf7ad283b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_attributes_from_version.rb"}, "recipes/oracle_i386.rb"=>{"name"=>"oracle_i386.rb", "path"=>"recipes/oracle_i386.rb", "checksum"=>"c32e1a700c5eee8ba2cbb44ec3c05b12", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_i386.rb"}, "recipes/homebrew.rb"=>{"name"=>"homebrew.rb", "path"=>"recipes/homebrew.rb", "checksum"=>"1a63ec3af7be1e77469343f1d27b864a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/homebrew.rb"}, "recipes/ibm_tar.rb"=>{"name"=>"ibm_tar.rb", "path"=>"recipes/ibm_tar.rb", "checksum"=>"10f1d8610371c0f719efb15b7f47eee5", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm_tar.rb"}, "libraries/helpers.rb"=>{"name"=>"helpers.rb", "path"=>"libraries/helpers.rb", "checksum"=>"3a25e3cb9786a9dfe6a6610fb8c098ea", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/helpers.rb"}, "libraries/matchers.rb"=>{"name"=>"matchers.rb", "path"=>"libraries/matchers.rb", "checksum"=>"74e1b76589af41edbd94571838c95006", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/matchers.rb"}, "attributes/default.rb"=>{"name"=>"default.rb", "path"=>"attributes/default.rb", "checksum"=>"13ff2a9d5e406d687be83318aa7cea44", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/attributes/default.rb"}, "templates/default/ibm_jdk.installer.properties.erb"=>{"name"=>"ibm_jdk.installer.properties.erb", "path"=>"templates/default/ibm_jdk.installer.properties.erb", "checksum"=>"1f5329075f93ee8e2ede8be3499d81c7", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/ibm_jdk.installer.properties.erb"}, "templates/default/oracle.jinfo.erb"=>{"name"=>"oracle.jinfo.erb", "path"=>"templates/default/oracle.jinfo.erb", "checksum"=>"29a5dac977e46628c30398eed31ca51e", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/oracle.jinfo.erb"}, "TESTING.md"=>{"name"=>"TESTING.md", "path"=>"TESTING.md", "checksum"=>"05b9494a0b5dc2f93c9fcfd7bd098a03", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/TESTING.md"}, ".rubocop.yml"=>{"name"=>".rubocop.yml", "path"=>".rubocop.yml", "checksum"=>"5deaac628f96082be4ebac605c8b4397", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/.rubocop.yml"}, ".kitchen.yml"=>{"name"=>".kitchen.yml", "path"=>".kitchen.yml", "checksum"=>"ce8a019c16e78bd25ae77c5359f00cc4", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/.kitchen.yml"}, "README.md"=>{"name"=>"README.md", "path"=>"README.md", "checksum"=>"7fdb200d03ea14a2b703d5de8210fd8f", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/README.md"}, "Rakefile"=>{"name"=>"Rakefile", "path"=>"Rakefile", "checksum"=>"bd48e70e5fe45ce7da703807b7bd18f1", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/Rakefile"}, "CONTRIBUTING.md"=>{"name"=>"CONTRIBUTING.md", "path"=>"CONTRIBUTING.md", "checksum"=>"eab56857857082f384cc72108445ac15", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/CONTRIBUTING.md"}, "metadata.json"=>{"name"=>"metadata.json", "path"=>"metadata.json", "checksum"=>"80f7fab39cafe5b71a9ff55c766902e8", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/metadata.json"}, "Gemfile"=>{"name"=>"Gemfile", "path"=>"Gemfile", "checksum"=>"986c78f181b4e7e4c3f54c97cfd2dc8f", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/Gemfile"}, "chefignore"=>{"name"=>"chefignore", "path"=>"chefignore", "checksum"=>"14246d314eb0641ef36ae24e4c060c27", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/chefignore"}, "LICENSE"=>{"name"=>"LICENSE", "path"=>"LICENSE", "checksum"=>"8f7bb094c7232b058c7e9f2e431f389c", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/LICENSE"}, "ISSUES.md"=>{"name"=>"ISSUES.md", "path"=>"ISSUES.md", "checksum"=>"6d1fcfa62c1033f2df362f6ac6773d82", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/java/ISSUES.md"}}>>, #<Chef::CookbookVersion:0x00000003462a78 @name="apt", @root_paths=[], @frozen=false, @attribute_filenames=["default.rb"], @definition_filenames=[], @template_filenames=["01proxy.erb", "20auto-upgrades.erb", "acng.conf.erb", "unattended-upgrades.seed.erb", "50unattended-upgrades.erb", "10recommends.erb"], @file_filenames=["15update-stamp", "apt-proxy-v2.conf"], @recipe_filenames=["default.rb", "cacher-ng.rb", "cacher-client.rb", "unattended-upgrades.rb"], @recipe_filenames_by_name={"default"=>"default.rb", "cacher-ng"=>"cacher-ng.rb", "cacher-client"=>"cacher-client.rb", "unattended-upgrades"=>"unattended-upgrades.rb"}, @library_filenames=["helpers.rb", "network.rb", "matchers.rb"], @resource_filenames=["repository.rb", "preference.rb"], @provider_filenames=["repository.rb", "preference.rb"], @metadata_filenames=[], @root_filenames=["MAINTAINERS.md", "README.md", "CONTRIBUTING.md", "metadata.json", "CHANGELOG.md"], @all_files=[], @status=:ready, @file_vendor=nil, @metadata=#<Chef::Cookbook::Metadata:0x000000034620c8 @name="apt", @description="Configures apt and apt services. Ships resources for managing apt repositories", @long_description="", @license="Apache 2.0", @maintainer="Chef Software, Inc.", @maintainer_email="cookbooks@chef.io", @platforms={"ubuntu"=>">= 0.0.0", "debian"=>">= 0.0.0"}, @dependencies={}, @recommendations={}, @suggestions={}, @conflicting={}, @providing={"apt"=>">= 0.0.0", "apt::cacher-ng"=>">= 0.0.0", "apt::cacher-client"=>">= 0.0.0", "apt::unattended-upgrades"=>">= 0.0.0"}, @replacing={}, @attributes={}, @groupings={}, @recipes={"apt::default"=>"Runs apt-get update during compile phase and sets up preseed directories", "apt::cacher-ng"=>"Set up an apt-cacher-ng caching proxy", "apt::cacher-client"=>"Client for the apt::cacher-ng caching proxy", "apt"=>"", "apt::unattended-upgrades"=>""}, @version="3.0.0", @source_url="", @issues_url="", @privacy=false, @chef_versions=[], @ohai_versions=[], @gems=[], @errors=[]>, @chef_server_rest=nil, @attribute_filenames_by_short_filename={"default"=>"default.rb"}, @cookbook_manifest=#<Chef::CookbookManifest:0x00000003461420 @cookbook_version=#<Chef::CookbookVersion:0x00000003462a78 ...>, @policy_mode=false, @manifest={"recipes"=>[{"name"=>"default.rb", "path"=>"recipes/default.rb", "checksum"=>"41d6fda1550360cef8fdc2b85b7cd5d3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/default.rb"}, {"name"=>"cacher-ng.rb", "path"=>"recipes/cacher-ng.rb", "checksum"=>"7a6cab8ae3de86aa47af5e4f51b1809e", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-ng.rb"}, {"name"=>"cacher-client.rb", "path"=>"recipes/cacher-client.rb", "checksum"=>"c695c480a7f44d8b6aa650ca8111cfe9", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-client.rb"}, {"name"=>"unattended-upgrades.rb", "path"=>"recipes/unattended-upgrades.rb", "checksum"=>"2d0133b2d753adac27212d067fc64ed4", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/unattended-upgrades.rb"}], "definitions"=>[], "libraries"=>[{"name"=>"helpers.rb", "path"=>"libraries/helpers.rb", "checksum"=>"742582294ca3f993623d45ca6146ab6b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/helpers.rb"}, {"name"=>"network.rb", "path"=>"libraries/network.rb", "checksum"=>"90130e2f6b28c59924f1e58a2d5eb370", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/network.rb"}, {"name"=>"matchers.rb", "path"=>"libraries/matchers.rb", "checksum"=>"cdeb104d4aad86aa5d233ffde31467e3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/matchers.rb"}], "attributes"=>[{"name"=>"default.rb", "path"=>"attributes/default.rb", "checksum"=>"ce951665be4838e5ff35120e236b7dd2", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/attributes/default.rb"}], "files"=>[{"name"=>"15update-stamp", "path"=>"files/default/15update-stamp", "checksum"=>"b9de0ac9e2c9854b1bb213e362dc4e41", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/15update-stamp"}, {"name"=>"apt-proxy-v2.conf", "path"=>"files/default/apt-proxy-v2.conf", "checksum"=>"fdd69a59686e05653874bd7bba84adc3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/apt-proxy-v2.conf"}], "templates"=>[{"name"=>"01proxy.erb", "path"=>"templates/default/01proxy.erb", "checksum"=>"3bd9dbec40e4bfb072fb97163acba08a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/01proxy.erb"}, {"name"=>"20auto-upgrades.erb", "path"=>"templates/default/20auto-upgrades.erb", "checksum"=>"362f31b2fbf624dc272a09c1129481de", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/20auto-upgrades.erb"}, {"name"=>"acng.conf.erb", "path"=>"templates/default/acng.conf.erb", "checksum"=>"797cfd1ea88e09090189557263025410", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/acng.conf.erb"}, {"name"=>"unattended-upgrades.seed.erb", "path"=>"templates/default/unattended-upgrades.seed.erb", "checksum"=>"e7b2494a57dc54c0df3e93beabf1f7a1", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/unattended-upgrades.seed.erb"}, {"name"=>"50unattended-upgrades.erb", "path"=>"templates/default/50unattended-upgrades.erb", "checksum"=>"100c94c880f80d76fa6d461440781966", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/50unattended-upgrades.erb"}, {"name"=>"10recommends.erb", "path"=>"templates/default/10recommends.erb", "checksum"=>"8ccea01d9d5306901dc51457c6680701", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/10recommends.erb"}], "resources"=>[{"name"=>"repository.rb", "path"=>"resources/repository.rb", "checksum"=>"1ff20323c45a55f0cc239b66028bcfed", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/repository.rb"}, {"name"=>"preference.rb", "path"=>"resources/preference.rb", "checksum"=>"ee7b4c784ca51aa243988a34b130972b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/preference.rb"}], "providers"=>[{"name"=>"repository.rb", "path"=>"providers/repository.rb", "checksum"=>"fc84a1dd601d25f2b014f4b0919672ec", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/repository.rb"}, {"name"=>"preference.rb", "path"=>"providers/preference.rb", "checksum"=>"d2197692fd1dedc087d9a8fdf3796408", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/preference.rb"}], "root_files"=>[{"name"=>"MAINTAINERS.md", "path"=>"MAINTAINERS.md", "checksum"=>"032c573c61cbc27e4111f5a15bc3c734", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/MAINTAINERS.md"}, {"name"=>"README.md", "path"=>"README.md", "checksum"=>"19b622213a86c4c0b7fd68e9b34c4c1a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/README.md"}, {"name"=>"CONTRIBUTING.md", "path"=>"CONTRIBUTING.md", "checksum"=>"851a37baf4e39196fc664e393cdf2e11", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/CONTRIBUTING.md"}, {"name"=>"metadata.json", "path"=>"metadata.json", "checksum"=>"20d499192a6211d7dab24e1d42e31af5", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/metadata.json"}, {"name"=>"CHANGELOG.md", "path"=>"CHANGELOG.md", "checksum"=>"1c127e3464d7ee7f0b92bcc06f6a3827", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/CHANGELOG.md"}], "metadata"=>{"name"=>"apt", "description"=>"Configures apt and apt services. Ships resources for managing apt repositories", "long_description"=>"", "maintainer"=>"Chef Software, Inc.", "maintainer_email"=>"cookbooks@chef.io", "license"=>"Apache 2.0", "platforms"=>{"ubuntu"=>">= 0.0.0", "debian"=>">= 0.0.0"}, "dependencies"=>{}, "recommendations"=>{}, "suggestions"=>{}, "conflicting"=>{}, "providing"=>{"apt"=>">= 0.0.0", "apt::cacher-ng"=>">= 0.0.0", "apt::cacher-client"=>">= 0.0.0", "apt::unattended-upgrades"=>">= 0.0.0"}, "replacing"=>{}, "attributes"=>{}, "groupings"=>{}, "recipes"=>{"apt::default"=>"Runs apt-get update during compile phase and sets up preseed directories", "apt::cacher-ng"=>"Set up an apt-cacher-ng caching proxy", "apt::cacher-client"=>"Client for the apt::cacher-ng caching proxy", "apt"=>"", "apt::unattended-upgrades"=>""}, "version"=>"3.0.0", "source_url"=>"", "issues_url"=>"", "privacy"=>false, "chef_versions"=>[], "ohai_versions"=>[], "gems"=>[]}, "version"=>"3.0.0", "name"=>"apt-3.0.0", "cookbook_name"=>"apt", "frozen?"=>false, "chef_type"=>"cookbook_version", "json_class"=>"Chef::CookbookVersion"}, @checksums={"1ff20323c45a55f0cc239b66028bcfed"=>nil, "ee7b4c784ca51aa243988a34b130972b"=>nil, "fc84a1dd601d25f2b014f4b0919672ec"=>nil, "d2197692fd1dedc087d9a8fdf3796408"=>nil, "41d6fda1550360cef8fdc2b85b7cd5d3"=>nil, "7a6cab8ae3de86aa47af5e4f51b1809e"=>nil, "c695c480a7f44d8b6aa650ca8111cfe9"=>nil, "2d0133b2d753adac27212d067fc64ed4"=>nil, "742582294ca3f993623d45ca6146ab6b"=>nil, "90130e2f6b28c59924f1e58a2d5eb370"=>nil, "cdeb104d4aad86aa5d233ffde31467e3"=>nil, "ce951665be4838e5ff35120e236b7dd2"=>nil, "b9de0ac9e2c9854b1bb213e362dc4e41"=>nil, "fdd69a59686e05653874bd7bba84adc3"=>nil, "3bd9dbec40e4bfb072fb97163acba08a"=>nil, "362f31b2fbf624dc272a09c1129481de"=>nil, "797cfd1ea88e09090189557263025410"=>nil, "e7b2494a57dc54c0df3e93beabf1f7a1"=>nil, "100c94c880f80d76fa6d461440781966"=>nil, "8ccea01d9d5306901dc51457c6680701"=>nil, "032c573c61cbc27e4111f5a15bc3c734"=>nil, "19b622213a86c4c0b7fd68e9b34c4c1a"=>nil, "851a37baf4e39196fc664e393cdf2e11"=>nil, "20d499192a6211d7dab24e1d42e31af5"=>nil, "1c127e3464d7ee7f0b92bcc06f6a3827"=>nil}, @manifest_records_by_path={"resources/repository.rb"=>{"name"=>"repository.rb", "path"=>"resources/repository.rb", "checksum"=>"1ff20323c45a55f0cc239b66028bcfed", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/repository.rb"}, "resources/preference.rb"=>{"name"=>"preference.rb", "path"=>"resources/preference.rb", "checksum"=>"ee7b4c784ca51aa243988a34b130972b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/preference.rb"}, "providers/repository.rb"=>{"name"=>"repository.rb", "path"=>"providers/repository.rb", "checksum"=>"fc84a1dd601d25f2b014f4b0919672ec", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/repository.rb"}, "providers/preference.rb"=>{"name"=>"preference.rb", "path"=>"providers/preference.rb", "checksum"=>"d2197692fd1dedc087d9a8fdf3796408", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/preference.rb"}, "recipes/default.rb"=>{"name"=>"default.rb", "path"=>"recipes/default.rb", "checksum"=>"41d6fda1550360cef8fdc2b85b7cd5d3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/default.rb"}, "recipes/cacher-ng.rb"=>{"name"=>"cacher-ng.rb", "path"=>"recipes/cacher-ng.rb", "checksum"=>"7a6cab8ae3de86aa47af5e4f51b1809e", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-ng.rb"}, "recipes/cacher-client.rb"=>{"name"=>"cacher-client.rb", "path"=>"recipes/cacher-client.rb", "checksum"=>"c695c480a7f44d8b6aa650ca8111cfe9", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-client.rb"}, "recipes/unattended-upgrades.rb"=>{"name"=>"unattended-upgrades.rb", "path"=>"recipes/unattended-upgrades.rb", "checksum"=>"2d0133b2d753adac27212d067fc64ed4", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/unattended-upgrades.rb"}, "libraries/helpers.rb"=>{"name"=>"helpers.rb", "path"=>"libraries/helpers.rb", "checksum"=>"742582294ca3f993623d45ca6146ab6b", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/helpers.rb"}, "libraries/network.rb"=>{"name"=>"network.rb", "path"=>"libraries/network.rb", "checksum"=>"90130e2f6b28c59924f1e58a2d5eb370", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/network.rb"}, "libraries/matchers.rb"=>{"name"=>"matchers.rb", "path"=>"libraries/matchers.rb", "checksum"=>"cdeb104d4aad86aa5d233ffde31467e3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/matchers.rb"}, "attributes/default.rb"=>{"name"=>"default.rb", "path"=>"attributes/default.rb", "checksum"=>"ce951665be4838e5ff35120e236b7dd2", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/attributes/default.rb"}, "files/default/15update-stamp"=>{"name"=>"15update-stamp", "path"=>"files/default/15update-stamp", "checksum"=>"b9de0ac9e2c9854b1bb213e362dc4e41", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/15update-stamp"}, "files/default/apt-proxy-v2.conf"=>{"name"=>"apt-proxy-v2.conf", "path"=>"files/default/apt-proxy-v2.conf", "checksum"=>"fdd69a59686e05653874bd7bba84adc3", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/apt-proxy-v2.conf"}, "templates/default/01proxy.erb"=>{"name"=>"01proxy.erb", "path"=>"templates/default/01proxy.erb", "checksum"=>"3bd9dbec40e4bfb072fb97163acba08a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/01proxy.erb"}, "templates/default/20auto-upgrades.erb"=>{"name"=>"20auto-upgrades.erb", "path"=>"templates/default/20auto-upgrades.erb", "checksum"=>"362f31b2fbf624dc272a09c1129481de", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/20auto-upgrades.erb"}, "templates/default/acng.conf.erb"=>{"name"=>"acng.conf.erb", "path"=>"templates/default/acng.conf.erb", "checksum"=>"797cfd1ea88e09090189557263025410", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/acng.conf.erb"}, "templates/default/unattended-upgrades.seed.erb"=>{"name"=>"unattended-upgrades.seed.erb", "path"=>"templates/default/unattended-upgrades.seed.erb", "checksum"=>"e7b2494a57dc54c0df3e93beabf1f7a1", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/unattended-upgrades.seed.erb"}, "templates/default/50unattended-upgrades.erb"=>{"name"=>"50unattended-upgrades.erb", "path"=>"templates/default/50unattended-upgrades.erb", "checksum"=>"100c94c880f80d76fa6d461440781966", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/50unattended-upgrades.erb"}, "templates/default/10recommends.erb"=>{"name"=>"10recommends.erb", "path"=>"templates/default/10recommends.erb", "checksum"=>"8ccea01d9d5306901dc51457c6680701", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/10recommends.erb"}, "MAINTAINERS.md"=>{"name"=>"MAINTAINERS.md", "path"=>"MAINTAINERS.md", "checksum"=>"032c573c61cbc27e4111f5a15bc3c734", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/MAINTAINERS.md"}, "README.md"=>{"name"=>"README.md", "path"=>"README.md", "checksum"=>"19b622213a86c4c0b7fd68e9b34c4c1a", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/README.md"}, "CONTRIBUTING.md"=>{"name"=>"CONTRIBUTING.md", "path"=>"CONTRIBUTING.md", "checksum"=>"851a37baf4e39196fc664e393cdf2e11", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/CONTRIBUTING.md"}, "metadata.json"=>{"name"=>"metadata.json", "path"=>"metadata.json", "checksum"=>"20d499192a6211d7dab24e1d42e31af5", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/metadata.json"}, "CHANGELOG.md"=>{"name"=>"CHANGELOG.md", "path"=>"CHANGELOG.md", "checksum"=>"1c127e3464d7ee7f0b92bcc06f6a3827", "specificity"=>"default", "url"=>"chefzero://localhost:8889/file_store/repo/cookbooks/apt/CHANGELOG.md"}}>>]
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/jboss/recipes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000033a01d0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/jboss/recipes/default.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000033a02c0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "jboss",
   "recipes",
   "default.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/jboss/attributes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000336d0f0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/jboss/attributes/default.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000336d1e0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "jboss",
   "attributes",
   "default.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/jboss/metadata.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003337a40
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/jboss/metadata.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003337ba8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "jboss",
   "metadata.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
name 'jboss'
depends 'java'
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/resources/alternatives.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003319ba8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/resources/alternatives.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003319c70>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "resources",
   "alternatives.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: java
# Provider:: alternatives
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

actions :set, :unset

attribute :java_location, kind_of: String, default: nil
attribute :bin_cmds, kind_of: Array, default: nil
attribute :default, equal_to: [true, false], default: true
attribute :priority, kind_of: Integer, default: 1061
attribute :reset_alternatives, equal_to: [true, false], default: true

# we have to set default for the supports attribute
# in initializer since it is a 'reserved' attribute name
def initialize(*args)
  super
  @action = :set
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/jboss/templates/default/run.erb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003325638
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/jboss/templates/default/run.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000033257a0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "jboss",
   "templates",
   "default",
   "run.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#!/bin/sh
### ====================================================================== ###
##                                                                          ##
##  JBoss Bootstrap Script                                                  ##
##                                                                          ##
### ====================================================================== ###

### $Id: run.sh 88978 2009-05-16 18:18:45Z alex.loubyansky@jboss.com $ ###
export JAVA_HOME=/usr/lib/jvm/java
DIRNAME=`dirname $0`
PROGNAME=`basename $0`
GREP="grep"

# Use the maximum available, or set MAX_FD != -1 to use that
MAX_FD="maximum"

#
# Helper to complain.
#
warn() {
    echo "${PROGNAME}: $*"
}

#
# Helper to puke.
#
die() {
    warn $*
    exit 1
}

# OS specific support (must be 'true' or 'false').
cygwin=false;
darwin=false;
linux=false;
case "`uname`" in
    CYGWIN*)
        cygwin=true
        ;;

    Darwin*)
        darwin=true
        ;;
        
    Linux)
        linux=true
        ;;
esac

# Read an optional running configuration file
if [ "x$RUN_CONF" = "x" ]; then
    RUN_CONF="$DIRNAME/run.conf"
fi
if [ -r "$RUN_CONF" ]; then
    . "$RUN_CONF"
fi

# Force IPv4 on Linux systems since IPv6 doesn't work correctly with jdk5 and lower
if [ "$linux" = "true" ]; then
   JAVA_OPTS="$JAVA_OPTS -Djava.net.preferIPv4Stack=true"
fi

# For Cygwin, ensure paths are in UNIX format before anything is touched
if $cygwin ; then
    [ -n "$JBOSS_HOME" ] &&
        JBOSS_HOME=`cygpath --unix "$JBOSS_HOME"`
    [ -n "$JAVA_HOME" ] &&
        JAVA_HOME=`cygpath --unix "$JAVA_HOME"`
    [ -n "$JAVAC_JAR" ] &&
        JAVAC_JAR=`cygpath --unix "$JAVAC_JAR"`
fi

# Setup JBOSS_HOME
if [ "x$JBOSS_HOME" = "x" ]; then
    # get the full path (without any relative bits)
    JBOSS_HOME=`cd $DIRNAME/..; pwd`
fi
export JBOSS_HOME

# Increase the maximum file descriptors if we can
if [ "$cygwin" = "false" ]; then
    MAX_FD_LIMIT=`ulimit -H -n`
    if [ "$?" -eq 0 ]; then
        # Darwin does not allow RLIMIT_INFINITY on file soft limit
        if [ "$darwin" = "true" -a "$MAX_FD_LIMIT" = "unlimited" ]; then
            MAX_FD_LIMIT=`/usr/sbin/sysctl -n kern.maxfilesperproc`
        fi

	if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ]; then
	    # use the system max
	    MAX_FD="$MAX_FD_LIMIT"
	fi

	ulimit -n $MAX_FD
	if [ "$?" -ne 0 ]; then
	    warn "Could not set maximum file descriptor limit: $MAX_FD"
	fi
    else
	warn "Could not query system maximum file descriptor limit: $MAX_FD_LIMIT"
    fi
fi

# Setup the JVM
if [ "x$JAVA" = "x" ]; then
    if [ "x$JAVA_HOME" != "x" ]; then
	JAVA="$JAVA_HOME/bin/java"
    else
	JAVA="java"
    fi
fi

# Setup the classpath
runjar="$JBOSS_HOME/bin/run.jar"
if [ ! -f "$runjar" ]; then
    die "Missing required file: $runjar"
fi
JBOSS_BOOT_CLASSPATH="$runjar"

# Tomcat uses the JDT Compiler
# Only include tools.jar if someone wants to use the JDK instead.
# compatible distribution which JAVA_HOME points to
if [ "x$JAVAC_JAR" = "x" ]; then
    JAVAC_JAR_FILE="$JAVA_HOME/lib/tools.jar"
else
    JAVAC_JAR_FILE="$JAVAC_JAR"
fi
if [ ! -f "$JAVAC_JAR_FILE" ]; then
   # MacOSX does not have a seperate tools.jar
   if [ "$darwin" != "true" -a "x$JAVAC_JAR" != "x" ]; then
      warn "Missing file: JAVAC_JAR=$JAVAC_JAR"
      warn "Unexpected results may occur."
   fi
   JAVAC_JAR_FILE=
fi

if [ "x$JBOSS_CLASSPATH" = "x" ]; then
    JBOSS_CLASSPATH="$JBOSS_BOOT_CLASSPATH"
else
    JBOSS_CLASSPATH="$JBOSS_CLASSPATH:$JBOSS_BOOT_CLASSPATH"
fi
if [ "x$JAVAC_JAR_FILE" != "x" ]; then
    JBOSS_CLASSPATH="$JBOSS_CLASSPATH:$JAVAC_JAR_FILE"
fi

# If -server not set in JAVA_OPTS, set it, if supported
SERVER_SET=`echo $JAVA_OPTS | $GREP "\-server"`
if [ "x$SERVER_SET" = "x" ]; then

    # Check for SUN(tm) JVM w/ HotSpot support
    if [ "x$HAS_HOTSPOT" = "x" ]; then
	HAS_HOTSPOT=`"$JAVA" -version 2>&1 | $GREP -i HotSpot`
    fi

    # Enable -server if we have Hotspot, unless we can't
    if [ "x$HAS_HOTSPOT" != "x" ]; then
	# MacOS does not support -server flag
	if [ "$darwin" != "true" ]; then
	    JAVA_OPTS="-server $JAVA_OPTS"
	fi
    fi
fi

# Setup JBoss Native library path
# Use the common JBoss Native convention
# for packing platform binaries
#
JBOSS_NATIVE_CPU=`uname -m`
case "$JBOSS_NATIVE_CPU" in
  sun4u*)
    JBOSS_NATIVE_CPU="sparcv9"
  ;;
  i86pc*)
    JBOSS_NATIVE_CPU="x86"
  ;;
  i[3-6]86*)
    JBOSS_NATIVE_CPU="x86"
  ;;
  x86_64*)
    JBOSS_NATIVE_CPU="x64"
  ;;
  ia64*)
    JBOSS_NATIVE_CPU="i64"
  ;;
  9000/800*)
    JBOSS_NATIVE_CPU="parisc2"
  ;;
  Power*)
    JBOSS_NATIVE_CPU="ppc"
  ;;
esac

JBOSS_NATIVE_SYS=`uname -s`
case "$JBOSS_NATIVE_SYS" in
  Linux*)
    JBOSS_NATIVE_SYS="linux2"
  ;;
  SunOS*)
    JBOSS_NATIVE_SYS="solaris"
  ;;
  HP-UX*)
    JBOSS_NATIVE_SYS="hpux"
  ;;
  CYGWIN*)
    JBOSS_NATIVE_SYS="windows"
  ;;
esac

JBOSS_NATIVE_DIR="$JBOSS_HOME/bin/META-INF/lib/$JBOSS_NATIVE_SYS/$JBOSS_NATIVE_CPU"
if [ -d "$JBOSS_NATIVE_DIR" ]; then
    if $cygwin ; then
        export PATH="$JBOSS_NATIVE_DIR:$PATH"
        JBOSS_NATIVE_DIR=`cygpath --path --windows "$JBOSS_NATIVE_DIR"`
    else
        if [ "x$LD_LIBRARY_PATH" = "x" ]; then
          LD_LIBRARY_PATH="$JBOSS_NATIVE_DIR"
        else
          LD_LIBRARY_PATH="$JBOSS_NATIVE_DIR:$LD_LIBRARY_PATH"
        fi
        export LD_LIBRARY_PATH
    fi
    if [ "x$JAVA_OPTS" = "x" ]; then
        JAVA_OPTS="-Djava.library.path=$JBOSS_NATIVE_DIR"
    else
        JAVA_OPTS="$JAVA_OPTS -Djava.library.path=$JBOSS_NATIVE_DIR"
    fi
fi

# Setup JBoss specific properties
JAVA_OPTS="-Dprogram.name=$PROGNAME $JAVA_OPTS"

# Setup the java endorsed dirs
JBOSS_ENDORSED_DIRS="$JBOSS_HOME/lib/endorsed"

# For Cygwin, switch paths to Windows format before running java
if $cygwin; then
    JBOSS_HOME=`cygpath --path --windows "$JBOSS_HOME"`
    JAVA_HOME=`cygpath --path --windows "$JAVA_HOME"`
    JBOSS_CLASSPATH=`cygpath --path --windows "$JBOSS_CLASSPATH"`
    JBOSS_ENDORSED_DIRS=`cygpath --path --windows "$JBOSS_ENDORSED_DIRS"`
fi

# Display our environment
echo "========================================================================="
echo ""
echo "  JBoss Bootstrap Environment"
echo ""
echo "  JBOSS_HOME: $JBOSS_HOME"
echo ""
echo "  JAVA: $JAVA"
echo ""
echo "  JAVA_OPTS: $JAVA_OPTS"
echo ""
echo "  CLASSPATH: $JBOSS_CLASSPATH"
echo ""
echo "========================================================================="
echo ""

while true; do
   if [ "x$LAUNCH_JBOSS_IN_BACKGROUND" = "x" ]; then
      # Execute the JVM in the foreground
      "$JAVA" $JAVA_OPTS \
         -Djava.endorsed.dirs="$JBOSS_ENDORSED_DIRS" \
         -classpath "$JBOSS_CLASSPATH" \
         org.jboss.Main "$@"
      JBOSS_STATUS=$?
   else
      # Execute the JVM in the background
      "$JAVA" $JAVA_OPTS \
         -Djava.endorsed.dirs="$JBOSS_ENDORSED_DIRS" \
         -classpath "$JBOSS_CLASSPATH" \
         org.jboss.Main "$@" &
      JBOSS_PID=$!
      # Trap common signals and relay them to the jboss process
      trap "kill -HUP  $JBOSS_PID" HUP
      trap "kill -TERM $JBOSS_PID" INT
      trap "kill -QUIT $JBOSS_PID" QUIT
      trap "kill -PIPE $JBOSS_PID" PIPE
      trap "kill -TERM $JBOSS_PID" TERM
      # Wait until the background process exits
      WAIT_STATUS=128
      while [ "$WAIT_STATUS" -ge 128 ]; do
         wait $JBOSS_PID 2>/dev/null
         WAIT_STATUS=$?
         if [ "${WAIT_STATUS}" -gt 128 ]; then
            SIGNAL=`expr ${WAIT_STATUS} - 128`
            SIGNAL_NAME=`kill -l ${SIGNAL}`
            echo "*** JBossAS process (${JBOSS_PID}) received ${SIGNAL_NAME} signal ***" >&2
         fi          
      done
      if [ "${WAIT_STATUS}" -lt 127 ]; then
         JBOSS_STATUS=$WAIT_STATUS
      else
         JBOSS_STATUS=0
      fi      
   fi
   # If restart doesn't work, check you are running JBossAS 4.0.4+
   #    http://jira.jboss.com/jira/browse/JBAS-2483
   # or the following if you're running Red Hat 7.0
   #    http://developer.java.sun.com/developer/bugParade/bugs/4465334.html   
   if [ "$JBOSS_STATUS" -eq 10 ]; then
      echo "Restarting JBoss..."
   else
      exit $JBOSS_STATUS
   fi
done

--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/jboss/templates/default/jboss.erb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000330b5a8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/jboss/templates/default/jboss.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000330b788>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "jboss",
   "templates",
   "default",
   "jboss.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#!/bin/bash
# chkconfig: 2345 95 05

start(){
        echo "JBOSS starting"
        su -l jboss -c 'nohup /opt/jboss/bin/run.sh & echo $! > /opt/jboss/pid'
}
stop(){
       echo "JBOSS stopping"
       pkill -9 -P $(cat /opt/jboss/pid)
}

restart(){
        stop
        sleep 5
        start
}
case "$1" in
  start)
        start
        ;;
  stop)
        stop
        ;;
  restart)
        restart
        ;;
  *)
        echo "Usage: jboss {start|stop|restart}"
exit 1
esac
exit

--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb to tempfile /tmp/chef-rest20160914-18248-2gcrmx
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/jboss/templates/default/jboss.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/resources/ark.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003327cf8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/resources/ark.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003327dc0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "resources",
   "ark.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Bryan W. Berry (<bryan.berry@gmail.com>)
# Cookbook Name:: java
# Resource:: ark
#
# Copyright 2011, Bryan w. Berry
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

actions :install, :remove

state_attrs :alternatives_priority,
            :app_home,
            :app_home_mode,
            :bin_cmds,
            :checksum,
            :md5,
            :default,
            :mirrorlist,
            :owner,
            :group,
            :url

attribute :url, regex: /^(file|http|https?):\/\/.*(gz|tar.gz|tgz|bin|zip)$/, default: nil
attribute :mirrorlist, kind_of: Array, default: nil
attribute :checksum, regex: /^[0-9a-f]{32}$|^[a-zA-Z0-9]{40,64}$/, default: nil
attribute :md5, regex: /^[0-9a-f]{32}$|^[a-zA-Z0-9]{40,64}$/, default: nil
attribute :app_home, kind_of: String, default: nil
attribute :app_home_mode, kind_of: Integer, default: 0755
attribute :bin_cmds, kind_of: Array, default: []
attribute :owner, default: 'root'
# Will default to :owner if :group is not passed
attribute :group, default: nil
attribute :default, equal_to: [true, false], default: true
attribute :alternatives_priority, kind_of: Integer, default: 1
attribute :retries, kind_of: Integer, default: 0
attribute :retry_delay, kind_of: Integer, default: 2
attribute :connect_timeout, kind_of: Integer, default: 30 # => 30 seconds
attribute :reset_alternatives, equal_to: [true, false], default: true
attribute :use_alt_suffix, equal_to: [true, false], default: true
attribute :download_timeout, kind_of: Integer, default: 600 # => 600 seconds

# we have to set default for the supports attribute
# in initializer since it is a 'reserved' attribute name
def initialize(*args)
  super
  @action = :install
  @supports = { report: true, exception: true }
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/ark.rb to tempfile /tmp/chef-rest20160914-18248-11oth3j
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/jboss/templates/default/jboss.erb~
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000334d430
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/jboss/templates/default/jboss.erb~",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000334d598>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "jboss",
   "templates",
   "default",
   "jboss.erb~"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#!/bin/bash

# chkconfig: 2345 95 05

start(){
        echo "JBOSS starting"
        su -l <%= @user %> -c 'nohup <%= @home %>/bin/run.sh -b 192.168.25.100'
}
stop(){
       echo "JBOSS stopping"
       pkill -9 -P $(cat /opt/jboss/pid)
}

restart(){
        stop
        sleep 5
        start
}
case "$1" in
  start)
        start
        ;;
  stop)
        stop
        ;;
  restart)
        restart
        ;;
  *)
        echo "Usage: jboss {start|stop|restart}"
exit 1
esac
exit
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/jboss.erb~ to tempfile /tmp/chef-rest20160914-18248-5lgapk
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/providers/ark.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000032ff6e0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/providers/ark.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000032ff7a8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "providers",
   "ark.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Bryan W. Berry (<bryan.berry@gmail.com>)
# Cookbook Name:: java
# Provider:: ark
#
# Copyright 2011, Bryan w. Berry
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

require 'chef/mixin/shell_out'
include Chef::Mixin::ShellOut

def whyrun_supported?
  true
end

def parse_app_dir_name(url)
  file_name = url.split('/')[-1]
  # funky logic to parse oracle's non-standard naming convention
  # for jdk1.6
  if file_name =~ /^(jre|jdk|server-jre).*$/
    major_num = file_name.scan(/\d/)[0]
    update_token = file_name.scan(/u(\d+)/)[0]
    update_num = update_token ? update_token[0] : '0'
    # pad a single digit number with a zero
    update_num = '0' + update_num if update_num.length < 2
    package_name = (file_name =~ /^server-jre.*$/) ? 'jdk' : file_name.scan(/[a-z]+/)[0]
    if update_num == '00'
      app_dir_name = "#{package_name}1.#{major_num}.0"
    else
      app_dir_name = "#{package_name}1.#{major_num}.0_#{update_num}"
    end
  else
    app_dir_name = file_name.split(/(.tgz|.tar.gz|.zip)/)[0]
    app_dir_name = app_dir_name.split('-bin')[0]
  end
  [app_dir_name, file_name]
end

def oracle_downloaded?(download_path, new_resource)
  if ::File.exist? download_path
    require 'digest'
    if new_resource.checksum =~ /^[0-9a-f]{32}$/
      downloaded_md5 =  Digest::MD5.file(download_path).hexdigest
      downloaded_md5 == new_resource.checksum
    else
      downloaded_sha =  Digest::SHA256.file(download_path).hexdigest
      downloaded_sha == new_resource.checksum
    end
  else
    return false
  end
end

def download_direct_from_oracle(tarball_name, new_resource)
  download_path = "#{Chef::Config[:file_cache_path]}/#{tarball_name}"
  cookie = 'oraclelicense=accept-securebackup-cookie'
  if node['java']['oracle']['accept_oracle_download_terms']
    # install the curl package
    p = package 'curl' do
      action :nothing
    end
    # no converge_by block since the package provider will take care of this run_action
    p.run_action(:install)
    description = 'download oracle tarball straight from the server'
    converge_by(description) do
      Chef::Log.debug 'downloading oracle tarball straight from the source'
      cmd = shell_out!(
        %( curl --create-dirs -L --retry #{new_resource.retries} --retry-delay #{new_resource.retry_delay} --cookie "#{cookie}" #{new_resource.url} -o #{download_path} --connect-timeout #{new_resource.connect_timeout} ),
                                 timeout: new_resource.download_timeout
      )
    end
  else
    Chef::Application.fatal!("You must set the attribute node['java']['oracle']['accept_oracle_download_terms'] to true if you want to download directly from the oracle site!")
  end
end

action :install do
  app_dir_name, tarball_name = parse_app_dir_name(new_resource.url)
  app_root = new_resource.app_home.split('/')[0..-2].join('/')
  app_dir = app_root + '/' + app_dir_name
  if new_resource.group
    app_group = new_resource.group
  else
    app_group = new_resource.owner
  end

  if !new_resource.default && new_resource.use_alt_suffix
    Chef::Log.debug('processing alternate jdk')
    app_dir += '_alt'
    app_home = new_resource.app_home + '_alt'
  else
    app_home = new_resource.app_home
  end

  unless ::File.exist?(app_dir)
    Chef::Log.info "Adding #{new_resource.name} to #{app_dir}"
    require 'fileutils'

    unless ::File.exist?(app_root)
      description = "create dir #{app_root} and change owner to #{new_resource.owner}:#{app_group}"
      converge_by(description) do
        FileUtils.mkdir_p app_root, mode: new_resource.app_home_mode
        FileUtils.chown new_resource.owner, app_group, app_root
      end
    end

    if new_resource.url =~ /^http:\/\/download.oracle.com.*$/
      download_path = "#{Chef::Config[:file_cache_path]}/#{tarball_name}"
      if oracle_downloaded?(download_path, new_resource)
        Chef::Log.debug('oracle tarball already downloaded, not downloading again')
      else
        download_direct_from_oracle tarball_name, new_resource
      end
    else
      Chef::Log.debug('downloading tarball from an unofficial repository')
      r = remote_file "#{Chef::Config[:file_cache_path]}/#{tarball_name}" do
        source new_resource.url
        checksum new_resource.checksum
        retries new_resource.retries
        retry_delay new_resource.retry_delay
        mode 0755
        action :nothing
      end
      # no converge by on run_action remote_file takes care of it.
      r.run_action(:create_if_missing)
    end

    description = "extract compressed data into Chef file cache path and
                    move extracted data to #{app_dir}"
    converge_by(description) do
      case tarball_name
      when /^.*\.bin/
        cmd = shell_out(
          %( cd "#{Chef::Config[:file_cache_path]}";
              bash ./#{tarball_name} -noregister
            ))
        unless cmd.exitstatus == 0
          Chef::Application.fatal!("Failed to extract file #{tarball_name}!")
        end
      when /^.*\.zip/
        cmd = shell_out(
          %( unzip "#{Chef::Config[:file_cache_path]}/#{tarball_name}" -d "#{Chef::Config[:file_cache_path]}" )
        )
        unless cmd.exitstatus == 0
          Chef::Application.fatal!("Failed to extract file #{tarball_name}!")
        end
      when /^.*\.(tar.gz|tgz)/
        cmd = shell_out(
          %( tar xvzf "#{Chef::Config[:file_cache_path]}/#{tarball_name}" -C "#{Chef::Config[:file_cache_path]}" --no-same-owner)
        )
        unless cmd.exitstatus == 0
          Chef::Application.fatal!("Failed to extract file #{tarball_name}!")
        end
      end

      cmd = shell_out(
        %( mv "#{Chef::Config[:file_cache_path]}/#{app_dir_name}" "#{app_dir}" )
      )
      unless cmd.exitstatus == 0
        Chef::Application.fatal!(%( Command \' mv "#{Chef::Config[:file_cache_path]}/#{app_dir_name}" "#{app_dir}" \' failed ))
        end

      # change ownership of extracted files
      FileUtils.chown_R new_resource.owner, app_group, app_root
    end
    new_resource.updated_by_last_action(true)
  end

  # set up .jinfo file for update-java-alternatives
  java_name =  app_home.split('/')[-1]
  jinfo_file = "#{app_root}/.#{java_name}.jinfo"
  if platform_family?('debian') && !::File.exist?(jinfo_file)
    description = "Add #{jinfo_file} for debian"
    converge_by(description) do
      Chef::Log.debug "Adding #{jinfo_file} for debian"
      template jinfo_file do
        cookbook 'java'
        source 'oracle.jinfo.erb'
        owner new_resource.owner
        group app_group
        variables(
          priority: new_resource.alternatives_priority,
          bin_cmds: new_resource.bin_cmds,
          name: java_name,
          app_dir: app_home
        )
        action :create
      end
    end
    new_resource.updated_by_last_action(true)
  end

  # link app_home to app_dir
  Chef::Log.debug "app_home is #{app_home} and app_dir is #{app_dir}"
  current_link = ::File.symlink?(app_home) ? ::File.readlink(app_home) : nil
  if current_link != app_dir
    description = "Symlink #{app_dir} to #{app_home}"
    converge_by(description) do
      Chef::Log.debug "Symlinking #{app_dir} to #{app_home}"
      FileUtils.rm_f app_home
      FileUtils.ln_sf app_dir, app_home
      FileUtils.chown new_resource.owner, app_group, app_home
    end
  end

  # update-alternatives
  java_alternatives 'set-java-alternatives' do
    java_location app_home
    bin_cmds new_resource.bin_cmds
    priority new_resource.alternatives_priority
    default new_resource.default
    reset_alternatives new_resource.reset_alternatives
    action :set
  end
end

action :remove do
  app_dir_name, tarball_name = parse_app_dir_name(new_resource.url)
  app_root = new_resource.app_home.split('/')[0..-2].join('/')
  app_dir = app_root + '/' + app_dir_name

  unless new_resource.default
    Chef::Log.debug('processing alternate jdk')
    app_dir += '_alt'
    app_home = new_resource.app_home + '_alt'
  else
    app_home = new_resource.app_home
  end

  if ::File.exist?(app_dir)
    java_alternatives 'unset-java-alternatives' do
      java_location app_home
      bin_cmds new_resource.bin_cmds
      action :unset
    end
    description = "remove #{new_resource.name} at #{app_dir}"
    converge_by(description) do
      Chef::Log.info "Removing #{new_resource.name} at #{app_dir}"
      FileUtils.rm_rf app_dir
    end
    new_resource.updated_by_last_action(true)
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/ark.rb to tempfile /tmp/chef-rest20160914-18248-185824r
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/providers/ark.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java/providers
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/providers/alternatives.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001ce70b0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/providers/alternatives.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001ce7498>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "providers",
   "alternatives.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: java
# Provider:: alternatives
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

require 'chef/mixin/shell_out'
include Chef::Mixin::ShellOut

action :set do
  if new_resource.bin_cmds
    # I couldn't find a way to cleanly avoid repeating this variable declaration in both :set and :unset
    alternatives_cmd = node['platform_family'] == 'rhel' ? 'alternatives' : 'update-alternatives'
    new_resource.bin_cmds.each do |cmd|
      bin_path = "/usr/bin/#{cmd}"
      alt_path = "#{new_resource.java_location}/bin/#{cmd}"
      priority = new_resource.priority

      unless ::File.exist?(alt_path)
        Chef::Log.debug "Skipping setting alternative for #{cmd}. Command #{alt_path} does not exist."
        next
      end

      alternative_exists_same_prio = shell_out("#{alternatives_cmd} --display #{cmd} | grep #{alt_path} | grep 'priority #{priority}$'").exitstatus == 0
      alternative_exists = shell_out("#{alternatives_cmd} --display #{cmd} | grep #{alt_path}").exitstatus == 0
      # remove alternative is prio is changed and install it with new prio
      if alternative_exists && !alternative_exists_same_prio
        description = "Removing alternative for #{cmd} with old prio"
        converge_by(description) do
          Chef::Log.debug "Removing alternative for #{cmd} with old priority"
          remove_cmd = shell_out("#{alternatives_cmd} --remove #{cmd} #{alt_path}")
          alternative_exists = false
          unless remove_cmd.exitstatus == 0
            Chef::Application.fatal!(%( remove alternative failed ))
          end
        end
      end
      # install the alternative if needed
      unless alternative_exists
        description = "Add alternative for #{cmd}"
        converge_by(description) do
          Chef::Log.debug "Adding alternative for #{cmd}"
          if new_resource.reset_alternatives
            shell_out("rm /var/lib/alternatives/#{cmd}")
          end
          install_cmd = shell_out("#{alternatives_cmd} --install #{bin_path} #{cmd} #{alt_path} #{priority}")
          unless install_cmd.exitstatus == 0
            Chef::Application.fatal!(%( install alternative failed ))
          end
        end
        new_resource.updated_by_last_action(true)
      end

      # set the alternative if default
      if new_resource.default
        alternative_is_set = shell_out("#{alternatives_cmd} --display #{cmd} | grep \"link currently points to #{alt_path}\"").exitstatus == 0
        unless alternative_is_set
          description = "Set alternative for #{cmd}"
          converge_by(description) do
            Chef::Log.debug "Setting alternative for #{cmd}"
            set_cmd = shell_out("#{alternatives_cmd} --set #{cmd} #{alt_path}")
            unless set_cmd.exitstatus == 0
              Chef::Application.fatal!(%( set alternative failed ))
            end
          end
          new_resource.updated_by_last_action(true)
        end
      end
    end
  end
end

action :unset do
  # I couldn't find a way to cleanly avoid repeating this variable declaration in both :set and :unset
  alternatives_cmd = node['platform_family'] == 'rhel' ? 'alternatives' : 'update-alternatives'
  new_resource.bin_cmds.each do |cmd|
    alt_path = "#{new_resource.java_location}/bin/#{cmd}"
    cmd = shell_out("#{alternatives_cmd} --remove #{cmd} #{alt_path}")
    new_resource.updated_by_last_action(true) if cmd.exitstatus == 0
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/providers/alternatives.rb to tempfile /tmp/chef-rest20160914-18248-1l8h0l3
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/providers/alternatives.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/set_java_home.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001c09788
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/set_java_home.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001c098c8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "set_java_home.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Author:: Joshua Timberman (<joshua@chef.io>)
# Cookbook Name:: java
# Recipe:: set_java_home
#
# Copyright 2013-2015, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

ruby_block 'set-env-java-home' do
  block do
    ENV['JAVA_HOME'] = node['java']['java_home']
  end
  not_if { ENV['JAVA_HOME'] == node['java']['java_home'] }
end

directory '/etc/profile.d' do
  mode 00755
end

file '/etc/profile.d/jdk.sh' do
  content "export JAVA_HOME=#{node['java']['java_home']}"
  mode 00755
end

if node['java']['set_etc_environment']
  ruby_block 'Set JAVA_HOME in /etc/environment' do
    block do
      file = Chef::Util::FileEdit.new('/etc/environment')
      file.insert_line_if_no_match(/^JAVA_HOME=/, "JAVA_HOME=#{node['java']['java_home']}")
      file.search_file_replace_line(/^JAVA_HOME=/, "JAVA_HOME=#{node['java']['java_home']}")
      file.write_file
    end
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_java_home.rb to tempfile /tmp/chef-rest20160914-18248-1p9wfm5
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/set_java_home.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java/recipes
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/default_java_symlink.rb
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/jboss/metadata.rb to tempfile /tmp/chef-rest20160914-18248-1vmbqbz
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/jboss/metadata.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/jboss
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/jboss/templates/default/run.erb to tempfile /tmp/chef-rest20160914-18248-p594pm
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/jboss/templates/default/run.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/jboss/templates
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/jboss/templates/default
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/resources/alternatives.rb to tempfile /tmp/chef-rest20160914-18248-304o0a
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/resources/alternatives.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java/resources
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/jboss/templates/default/jboss.erb~ in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/resources/ark.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001b50058
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/java/recipes/default_java_symlink.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001b501c0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "default_java_symlink.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/oracle_jce.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001ac41c0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/oracle_jce.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001ac4b48>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "oracle_jce.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Kyle McGovern (<spion06@gmail.com>)
# Cookbook Name:: java
# Recipe:: oracle_jce
#
# Copyright 2014, Kyle McGovern
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

include_recipe 'java::set_attributes_from_version'

jdk_version = node['java']['jdk_version'].to_s
jce_url = node['java']['oracle']['jce'][jdk_version]['url']
jce_checksum = node['java']['oracle']['jce'][jdk_version]['checksum']
jce_cookie = node['java']['oracle']['accept_oracle_download_terms'] ? 'oraclelicense=accept-securebackup-cookie;gpw_e24=http://edelivery.oracle.com' : ''

if jce_checksum =~ /^[0-9a-f]{32}$/
  checksum_bin = 'md5sum'
else
  checksum_bin = 'sha256sum'
end

package 'unzip'
package 'curl'

directory ::File.join(node['java']['oracle']['jce']['home'], jdk_version) do
  mode '0755'
  recursive true
end

execute 'download jce' do
  command <<-EOF
    rm -rf #{Chef::Config[:file_cache_path]}/java_jce
    mkdir -p #{Chef::Config[:file_cache_path]}/java_jce
    cd #{Chef::Config[:file_cache_path]}/java_jce

    curl -L --cookie '#{jce_cookie}' -o jce.zip #{jce_url}
    # fail the resource if the checksum does not match
    # this should only happen if oracle download terms are not accepted and downloading directly from oracle
    echo "#{jce_checksum}  jce.zip" | #{checksum_bin} -c >/dev/null
  EOF
  # if jar is already in the right location then don't need to download the JCE again
  not_if { ::File.exist?(::File.join(node['java']['oracle']['jce']['home'], jdk_version, 'US_export_policy.jar')) }
end

execute 'extract jce' do
  command <<-EOF
    unzip -o jce.zip
    find -name '*.jar' | xargs -I JCE_JAR mv JCE_JAR #{node['java']['oracle']['jce']['home']}/#{jdk_version}/
  EOF
  cwd "#{Chef::Config[:file_cache_path]}/java_jce"
  creates ::File.join(node['java']['oracle']['jce']['home'], jdk_version, 'US_export_policy.jar')
end

%w(local_policy.jar US_export_policy.jar).each do |jar|
  jar_path = ::File.join(node['java']['java_home'], 'jre', 'lib', 'security', jar)
  # remove the jars already in the directory
  file jar_path do
    action :delete
    not_if { ::File.symlink? jar_path }
  end
  link jar_path do
    to ::File.join(node['java']['oracle']['jce']['home'], jdk_version, jar)
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: jboss
# Recipe:: default
#

include_recipe 'java'

user node['jboss']['user'] do
  home node['jboss']['home']
  system true
  shell '/bin/bash'
end

group node['jboss']['group'] do
  action :create
end

yum_package 'unzip' do
  action :install
  not_if "rpm -qa | grep -qx 'unzip'"
end

remote_file '/opt/jboss-as-distribution-6.1.0.Final.zip' do
  source node['jboss']['url']
  owner node['jboss']['user']
  group node['jboss']['group']
  not_if { ::File.file?("/opt/jboss-as-distribution-6.1.0.Final.zip") }
end

execute 'jboss_unzip' do
  command 'unzip jboss-as-distribution-6.1.0.Final.zip'
  cwd node['jboss']['path']
end

remote_file '/opt/testweb.zip' do
  source node['jboss']['app_url']
end

execute 'app_unzip' do
  command "unzip testweb.zip -d #{node['jboss']['app_dir']}"
  cwd node['jboss']['path']
end

template '/etc/init.d/jboss' do
  source "jboss.erb"
  mode 0775
  owner 'root'
  group node['root_group']
  variables({
    'user' => node['jboss']['user'],
    'jboss_home' => node['jboss']['home']
  })
end

template "#{node['jboss']['home']}/bin/run.sh" do
  source "run.erb"
  owner node['jboss']['user']
  group node['jboss']['group']
end

directory "#{node['jboss']['home']}/logs" do
  owner "#{node['jboss']['user']}"
  group "#{node['jboss']['group']}"
  mode '0755'
  action :create
end

execute 'jboss_folder_chown' do
  command "chown -R #{node['jboss']['user']}:#{node['jboss']['group']} #{node['jboss']['path']}"
end

service 'jboss' do
  init_command "/etc/init.d/jboss"
  supports :restart => true, :status => true, :stop => true, :start => true
  action [ :enable, :start ]
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/jboss/recipes/default.rb to tempfile /tmp/chef-rest20160914-18248-nfxrqm
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/jboss/recipes/default.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/jboss/recipes
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/windows.rb
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/oracle_rpm.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000019e67f8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/oracle_rpm.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000019e6b90>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "oracle_rpm.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Author:: Christophe Arguel (<christophe.arguel@free.fr>)
#
# Cookbook Name:: java
# Recipe:: oracle_rpm
#
# Copyright 2013, Christophe Arguel <christophe.arguel@free.fr>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

include_recipe 'java::set_java_home'

slave_cmds = case node['java']['oracle_rpm']['type']
             when 'jdk'
               %w(appletviewer apt ControlPanel extcheck idlj jar jarsigner javac javadoc javafxpackager javah javap java-rmi.cgi javaws jcmd jconsole jcontrol jdb jhat jinfo jmap jps jrunscript jsadebugd jstack jstat jstatd jvisualvm keytool native2ascii orbd pack200 policytool rmic rmid rmiregistry schemagen serialver servertool tnameserv unpack200 wsgen wsimport xjc)

             when 'jre'
               %w(ControlPanel java_vm javaws jcontrol keytool orbd pack200 policytool rmid rmiregistry servertool tnameserv unpack200)

             else
               Chef::Application.fatal!("Unsupported oracle RPM type (#{node['java']['oracle_rpm']['type']})")
             end

if platform_family?('rhel', 'fedora') && node['java']['set_default']

  bash 'update-java-alternatives' do
    java_home = node['java']['java_home']
    java_location = File.join(java_home, 'bin', 'java')
    slave_lines = slave_cmds.inject('') do |slaves, cmd|
      slaves << "--slave /usr/bin/#{cmd} #{cmd} #{File.join(java_home, 'bin', cmd)} \\\n"
    end

    code <<-EOH.gsub(/^\s+/, '')
      update-alternatives --install /usr/bin/java java #{java_location} #{node['java']['alternatives_priority']} \
      #{slave_lines} && \
      update-alternatives --set java #{java_location}
    EOH
    action :nothing
  end

end

package_name = node['java']['oracle_rpm']['package_name'] || node['java']['oracle_rpm']['type']
package package_name do
  action :install
  version node['java']['oracle_rpm']['package_version'] if node['java']['oracle_rpm']['package_version']
  notifies :run, 'bash[update-java-alternatives]', :immediately if platform_family?('rhel', 'fedora') && node['java']['set_default']
end

include_recipe 'java::oracle_jce' if node['java']['oracle']['jce']['enabled']
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_rpm.rb to tempfile /tmp/chef-rest20160914-18248-mij18d
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/oracle_rpm.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/set_attributes_from_version.rb
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
default['jboss']['path'] = '/opt'
default['jboss']['home'] = "#{node['jboss']['path']}/jboss"
default['jboss']['app_dir'] = "#{node['jboss']['home']}/server/default/deploy"
default['jboss']['user'] = 'jboss'
default['jboss']['group'] = 'jboss'
default['jboss']['url'] = "http://download.jboss.org/jbossas/6.1/jboss-as-distribution-6.1.0.Final.zip"
default['jboss']['app_url'] = "http://www.cumulogic.com/download/Apps/testweb.zip"



--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/jboss/attributes/default.rb to tempfile /tmp/chef-rest20160914-18248-od4q9h
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/purge_packages.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001a7a070
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/purge_packages.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001a7a6d8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "purge_packages.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001a23018
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/default.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001a23248>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "default.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Seth Chisamore (<schisamo@chef.io>)
# Cookbook Name:: java
# Recipe:: default
#
# Copyright 2008-2015, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

include_recipe 'java::set_attributes_from_version'
include_recipe "java::#{node['java']['install_flavor']}"
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default.rb to tempfile /tmp/chef-rest20160914-18248-1bfyxq8
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/default.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/oracle_i386.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003bb2300
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/oracle_i386.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003bb2490>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "oracle_i386.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_jce.rb to tempfile /tmp/chef-rest20160914-18248-159rha8
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/oracle_jce.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/ibm.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000019be708
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/ibm.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000019be910>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "ibm.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Author:: Joshua Timberman (<joshua@chef.io>)
# Cookbook Name:: java
# Recipe:: ibm
#
# Copyright 2013-2015, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

require 'uri'

source_url = node['java']['ibm']['url']
jdk_uri = ::URI.parse(source_url)
jdk_filename = ::File.basename(jdk_uri.path)

unless valid_ibm_jdk_uri?(source_url)
  fail "You must set the attribute `node['java']['ibm']['url']` to a valid HTTP URI"
end

# "installable package" installer needs rpm on Ubuntu
if platform_family?('debian') && jdk_filename !~ /archive/
  package 'rpm' do
    action :install
  end
end

template "#{Chef::Config[:file_cache_path]}/installer.properties" do
  source 'ibm_jdk.installer.properties.erb'
  only_if { node['java']['ibm']['accept_ibm_download_terms'] }
end

remote_file "#{Chef::Config[:file_cache_path]}/#{jdk_filename}" do
  source source_url
  mode 00755
  if node['java']['ibm']['checksum']
    checksum node['java']['ibm']['checksum']
    action :create
  else
    action :create_if_missing
  end
  notifies :run, 'execute[install-ibm-java]', :immediately
end

java_alternatives 'set-java-alternatives' do
  java_location node['java']['java_home']
  default node['java']['set_default']
  case node['java']['jdk_version'].to_s
  when '6'
    bin_cmds node['java']['ibm']['6']['bin_cmds']
  when '7'
    bin_cmds node['java']['ibm']['7']['bin_cmds']
  end
  action :nothing
end

execute 'install-ibm-java' do
  cwd Chef::Config[:file_cache_path]
  environment('_JAVA_OPTIONS' => '-Dlax.debug.level=3 -Dlax.debug.all=true',
              'LAX_DEBUG' => '1')
  command "./#{jdk_filename} -f ./installer.properties -i silent"
  notifies :set, 'java_alternatives[set-java-alternatives]', :immediately
  creates "#{node['java']['java_home']}/jre/bin/java"
end

include_recipe 'java::set_java_home'
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000000ed6138
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/windows.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000000ed6980>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "windows.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Kendrick Martin (<kendrick.martin@webtrends.com>)
# Cookbook Name:: java
# Recipe:: windows
#
# Copyright 2008-2012 Webtrends, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

require 'uri'

Chef::Log.fatal('No download url set for java installer.') unless node['java'] && node['java']['windows'] && node['java']['windows']['url']

pkg_checksum = node['java']['windows']['checksum']
aws_access_key_id = node['java']['windows']['aws_access_key_id']
aws_secret_access_key = node['java']['windows']['aws_secret_access_key']

uri = ::URI.parse(node['java']['windows']['url'])
cache_file_path = File.join(Chef::Config[:file_cache_path], File.basename(::URI.unescape(uri.path)))

if aws_access_key_id && aws_secret_access_key
  include_recipe 'aws::default' # install right_aws gem for aws_s3_file

  aws_s3_file cache_file_path do
    aws_access_key_id aws_access_key_id
    aws_secret_access_key aws_secret_access_key
    checksum pkg_checksum if pkg_checksum
    bucket node['java']['windows']['bucket']
    remote_path node['java']['windows']['remote_path']
    backup false
    action :create
  end
else
  remote_file cache_file_path do
    checksum pkg_checksum if pkg_checksum
    source node['java']['windows']['url']
    backup false
    action :create
  end
end

if node['java'].attribute?('java_home')
  java_home_win = win_friendly_path(node['java']['java_home'])
  if node['java']['jdk_version'] == '8'
    # Seems that the jdk 8 EXE installer does not need anymore the /v /qn flags
    additional_options = "INSTALLDIR=\"#{java_home_win}\""
  else
    # The jdk 7 EXE installer expects escaped quotes, so we need to double escape
    # them here. The final string looks like :
    # /v"/qn INSTALLDIR=\"C:\Program Files\Java\""
    additional_options = "/v\"/qn INSTALLDIR=\\\"#{java_home_win}\\\"\""
  end

  env 'JAVA_HOME' do
    value java_home_win
  end

  # update path
  windows_path "#{java_home_win}\\bin" do
    action :add
  end
end

if node['java']['windows'].attribute?('public_jre_home') && node['java']['windows']['public_jre_home'] 
  java_publicjre_home_win = win_friendly_path(node['java']['windows']['public_jre_home'])
  additional_options = "#{additional_options} /INSTALLDIRPUBJRE=\"#{java_publicjre_home_win}\""
end

windows_package node['java']['windows']['package_name'] do
  source cache_file_path
  checksum node['java']['windows']['checksum']
  action :install
  installer_type :custom
  options "/s #{additional_options}"
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/windows.rb to tempfile /tmp/chef-rest20160914-18248-1muj55h
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/windows.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/ibm_tar.rb
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Cookbook Name:: java
# Recipe:: default_java_symlink
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

link '/usr/lib/jvm/default-java' do
  to node['java']['java_home']
  not_if { node['java']['java_home'] == '/usr/lib/jvm/default-java' }
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/default_java_symlink.rb to tempfile /tmp/chef-rest20160914-18248-w7sjcw
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/default_java_symlink.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/libraries/helpers.rb
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/openjdk.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001293488
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/openjdk.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001293b18>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "openjdk.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Author:: Bryan W. Berry (<bryan.berry@gmail.com>)
# Author:: Seth Chisamore (<schisamo@chef.io>)
# Author:: Joshua Timberman (<joshua@chef.io>)
#
# Cookbook Name:: java
# Recipe:: openjdk
#
# Copyright 2010-2015, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

unless node.recipe?('java::default')
  Chef::Log.warn('Using java::default instead is recommended.')

  # Even if this recipe is included by itself, a safety check is nice...
  [node['java']['openjdk_packages'], node['java']['java_home']].each do |v|
    include_recipe 'java::set_attributes_from_version' if v.nil? || v.empty?
  end
end

jdk = Opscode::OpenJDK.new(node)

if platform_requires_license_acceptance?
  file '/opt/local/.dlj_license_accepted' do
    owner 'root'
    group 'root'
    mode '0400'
    action :create
    only_if { node['java']['accept_license_agreement'] }
  end
end

if node['platform'] == 'ubuntu'
  include_recipe 'apt'
  apt_repository 'openjdk-r-ppa' do
    uri 'ppa:openjdk-r'
    distribution node['lsb']['codename']
  end
end

node['java']['openjdk_packages'].each do |pkg|
  package pkg do
    version node['java']['openjdk_version'] if node['java']['openjdk_version']
  end
end

if platform_family?('debian', 'rhel', 'fedora')
  java_alternatives 'set-java-alternatives' do
    java_location jdk.java_home
    default node['java']['set_default']
    priority jdk.alternatives_priority
    case node['java']['jdk_version'].to_s
    when '6'
      bin_cmds node['java']['jdk']['6']['bin_cmds']
    when '7'
      bin_cmds node['java']['jdk']['7']['bin_cmds']
    when '8'
      bin_cmds node['java']['jdk']['8']['bin_cmds']
    end
    action :set
  end
end

if node['java']['set_default'] && platform_family?('debian')
  include_recipe 'java::default_java_symlink'
end

# We must include this recipe AFTER updating the alternatives or else JAVA_HOME
# will not point to the correct java.
include_recipe 'java::set_java_home'
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/homebrew.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003b46fd8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/homebrew.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003b470f0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "homebrew.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Cookbook Name:: java
# Recipe:: purge_packages
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

%w(sun-java6-jdk sun-java6-bin sun-java6-jre).each do |pkg|
  package pkg do
    action :purge
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/purge_packages.rb to tempfile /tmp/chef-rest20160914-18248-tder64
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/purge_packages.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/libraries/matchers.rb
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/recipes/oracle.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000012d9f50
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/oracle.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000012da1f8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "oracle.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000009b1ef0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/java/recipes/set_attributes_from_version.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000009b1fb8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "set_attributes_from_version.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Cookbook Name:: java
# Recipe:: set_attributes_from_version
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Calculate variables that depend on jdk_version
# If you need to override this in an attribute file you must use
# force_default or higher precedence.

case node['platform_family']
when 'rhel', 'fedora'
  case node['java']['install_flavor']
  when 'oracle'
    node.default['java']['java_home'] = '/usr/lib/jvm/java'
  when 'oracle_rpm'
    node.default['java']['java_home'] = '/usr/java/latest'
  else
    node.default['java']['java_home'] = "/usr/lib/jvm/java-1.#{node['java']['jdk_version']}.0"
  end
  node.default['java']['openjdk_packages'] = ["java-1.#{node['java']['jdk_version']}.0-openjdk", "java-1.#{node['java']['jdk_version']}.0-openjdk-devel"]
when 'freebsd'
  node.default['java']['java_home'] = "/usr/local/openjdk#{node['java']['jdk_version']}"
  node.default['java']['openjdk_packages'] = ["openjdk#{node['java']['jdk_version']}"]
when 'arch'
  node.default['java']['java_home'] = "/usr/lib/jvm/java-#{node['java']['jdk_version']}-openjdk"
  node.default['java']['openjdk_packages'] = ["openjdk#{node['java']['jdk_version']}"]
when 'debian'
  node.default['java']['java_home'] = "/usr/lib/jvm/java-#{node['java']['jdk_version']}-#{node['java']['install_flavor']}"
  # Newer Debian & Ubuntu adds the architecture to the path
  if node['platform'] == 'debian' && Chef::VersionConstraint.new('>= 7.0').include?(node['platform_version']) ||
     node['platform'] == 'ubuntu' && Chef::VersionConstraint.new('>= 12.04').include?(node['platform_version'])
    node.default['java']['java_home'] = "#{node['java']['java_home']}-#{node['kernel']['machine'] == 'x86_64' ? 'amd64' : 'i386'}"
  end
  node.default['java']['openjdk_packages'] = ["openjdk-#{node['java']['jdk_version']}-jdk", "openjdk-#{node['java']['jdk_version']}-jre-headless"]
when 'smartos'
  node.default['java']['java_home'] = '/opt/local/java/sun6'
  node.default['java']['openjdk_packages'] = ["sun-jdk#{node['java']['jdk_version']}", "sun-jre#{node['java']['jdk_version']}"]
when 'windows'
  # Do nothing otherwise we will fall through to the else and set java_home to an invalid path, causing the installer to popup a dialog
when 'macosx'
  # Nothing. Homebrew driven.
else
  node.default['java']['java_home'] = '/usr/lib/jvm/default-java'
  node.default['java']['openjdk_packages'] = ["openjdk-#{node['java']['jdk_version']}-jdk"]
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/set_attributes_from_version.rb to tempfile /tmp/chef-rest20160914-18248-1ylw66e
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/set_attributes_from_version.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/attributes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000038d8fd0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/attributes/default.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000038d9098>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "attributes",
   "default.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Seth Chisamore (<schisamo@chef.io>)
# Cookbook Name:: java
# Attributes:: default
#
# Copyright 2010-2015, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# default jdk attributes
default['java']['jdk_version'] = '6'
default['java']['arch'] = kernel['machine'] =~ /x86_64/ ? 'x86_64' : 'i586'
default['java']['openjdk_packages'] = []
default['java']['openjdk_version'] = nil
default['java']['accept_license_agreement'] = false
default['java']['set_default'] = true
default['java']['alternatives_priority'] = 1062
default['java']['set_etc_environment'] = false
default['java']['use_alt_suffix'] = true
default['java']['reset_alternatives'] = true

# the following retry parameters apply when downloading oracle java
default['java']['ark_retries'] = 0
default['java']['ark_retry_delay'] = 2
default['java']['ark_timeout'] = 600
default['java']['ark_download_timeout'] = 600

case node['platform_family']
when 'windows'
  default['java']['install_flavor'] = 'windows'
  default['java']['windows']['url'] = nil
  default['java']['windows']['checksum'] = nil
  default['java']['windows']['package_name'] = 'Java(TM) SE Development Kit 7 (64-bit)'
  default['java']['windows']['public_jre_home'] = nil
when 'mac_os_x'
  default['java']['install_flavor'] = 'homebrew'
else
  default['java']['install_flavor'] = 'oracle'
end

case node['java']['install_flavor']
when 'ibm', 'ibm_tar'
  default['java']['ibm']['url'] = nil
  default['java']['ibm']['checksum'] = nil
  default['java']['ibm']['accept_ibm_download_terms'] = false
  default['java']['java_home'] = '/opt/ibm/java'

  default['java']['ibm']['6']['bin_cmds'] = %w(appletviewer apt ControlPanel extcheck HtmlConverter idlj jar jarsigner
                                               java javac javadoc javah javap javaws jconsole jcontrol jdb jdmpview
                                               jrunscript keytool native2ascii policytool rmic rmid rmiregistry
                                               schemagen serialver tnameserv wsgen wsimport xjc)

  default['java']['ibm']['7']['bin_cmds'] = node['java']['ibm']['6']['bin_cmds'] + %w(pack200 unpack200)
when 'oracle_rpm'
  # type of java RPM : jdk or jre
  default['java']['oracle_rpm']['type'] = 'jdk'

  # optional, can be overriden to pin to a version different
  # from the up-to-date.
  default['java']['oracle_rpm']['package_version'] = nil

  # optional, some distros re-package the official Oracle's RPM
  # with a different name
  default['java']['oracle_rpm']['package_name'] = nil

  # set the JAVA_HOME path, it may be overriden
  # when a package version is provided.
  default['java']['java_home'] = '/usr/java/latest'
end

# if you change this to true, you can download directly from Oracle
default['java']['oracle']['accept_oracle_download_terms'] = true

# direct download paths for oracle, you have been warned!

# jdk6 attributes
default['java']['jdk']['6']['bin_cmds'] = %w(appletviewer apt ControlPanel extcheck HtmlConverter idlj jar jarsigner
                                             java javac javadoc javah javap javaws jconsole jcontrol jdb jhat
                                             jinfo jmap jps jrunscript jsadebugd jstack jstat jstatd jvisualvm
                                             keytool native2ascii orbd pack200 policytool rmic rmid rmiregistry
                                             schemagen serialver servertool tnameserv unpack200 wsgen wsimport xjc)

# x86_64
default['java']['jdk']['6']['x86_64']['url'] = 'http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64.bin'
default['java']['jdk']['6']['x86_64']['checksum'] = '6b493aeab16c940cae9e3d07ad2a5c5684fb49cf06c5d44c400c7993db0d12e8'

# i586
default['java']['jdk']['6']['i586']['url'] = 'http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-i586.bin'
default['java']['jdk']['6']['i586']['checksum'] = 'd53b5a2518d80e1d95565f0adda54eee229dc5f4a1d1a3c2f7bf5045b168a357'

# jdk7 attributes

default['java']['jdk']['7']['bin_cmds'] = %w(appletviewer apt ControlPanel extcheck idlj jar jarsigner java javac
                                             javadoc javafxpackager javah javap javaws jcmd jconsole jcontrol jdb
                                             jhat jinfo jmap jps jrunscript jsadebugd jstack jstat jstatd jvisualvm
                                             keytool native2ascii orbd pack200 policytool rmic rmid rmiregistry
                                             schemagen serialver servertool tnameserv unpack200 wsgen wsimport xjc)

# Oracle doesn't seem to publish SHA256 checksums for Java releases, so we use MD5 instead.
# Official checksums for the latest release can be found at https://www.oracle.com/webfolder/s/digest/7u75checksum.html

# x86_64
default['java']['jdk']['7']['x86_64']['url'] = 'http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-x64.tar.gz'
default['java']['jdk']['7']['x86_64']['checksum'] = '6f1f81030a34f7a9c987f8b68a24d139'

# i586
default['java']['jdk']['7']['i586']['url'] = 'http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-i586.tar.gz'
default['java']['jdk']['7']['i586']['checksum'] = 'e4371a4fddc049eca3bfef293d812b8e'

# jdk8 attributes

default['java']['jdk']['8']['bin_cmds'] = %w(appletviewer apt ControlPanel extcheck idlj jar jarsigner java javac
                                             javadoc javafxpackager javah javap javaws jcmd jconsole jcontrol jdb
                                             jdeps jhat jinfo jjs jmap jmc jps jrunscript jsadebugd jstack
                                             jstat jstatd jvisualvm keytool native2ascii orbd pack200 policytool
                                             rmic rmid rmiregistry schemagen serialver servertool tnameserv
                                             unpack200 wsgen wsimport xjc)

# Oracle just started publishing SHA256 checksums for Java releases with 8u51, so we use MD5 instead.
# Official checksums for the latest release can be found at https://www.oracle.com/webfolder/s/digest/8u60checksum.html

# x86_64
default['java']['jdk']['8']['x86_64']['url'] = 'http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-x64.tar.gz'
default['java']['jdk']['8']['x86_64']['checksum'] = '196880a42c45ec9ab2f00868d69619c0'

# i586
default['java']['jdk']['8']['i586']['url'] = 'http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-i586.tar.gz'
default['java']['jdk']['8']['i586']['checksum'] = '7b715e1fe2316c94aaa968b23ce49c9a'

default['java']['oracle']['jce']['enabled'] = false
default['java']['oracle']['jce']['8']['url'] = 'http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip'
default['java']['oracle']['jce']['8']['checksum'] = 'f3020a3922efd6626c2fff45695d527f34a8020e938a49292561f18ad1320b59'
default['java']['oracle']['jce']['7']['url'] = 'http://download.oracle.com/otn-pub/java/jce/7/UnlimitedJCEPolicyJDK7.zip'
default['java']['oracle']['jce']['7']['checksum'] = '7a8d790e7bd9c2f82a83baddfae765797a4a56ea603c9150c87b7cdb7800194d'
default['java']['oracle']['jce']['6']['url'] = 'http://download.oracle.com/otn-pub/java/jce_policy/6/jce_policy-6.zip'
default['java']['oracle']['jce']['6']['checksum'] = 'd0c2258c3364120b4dbf7dd1655c967eee7057ac6ae6334b5ea8ceb8bafb9262'
default['java']['oracle']['jce']['home'] = '/opt/java_jce'
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/attributes/default.rb to tempfile /tmp/chef-rest20160914-18248-revauu
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/attributes/default.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java/attributes
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/templates/default/ibm_jdk.installer.properties.erb
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/jboss/attributes/default.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/jboss/attributes
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000395e630
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/libraries/matchers.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000395e720>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "libraries",
   "matchers.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
if defined?(ChefSpec)
  def set_java_alternatives(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:java_alternatives, :set, resource_name)
  end

  def unset_java_alternatives(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:java_alternatives, :set, resource_name)
 end

  def install_java_ark(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:java_ark, :install, resource_name)
  end

  def remove_java_ark(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:java_ark, :remove, resource_name)
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/matchers.rb to tempfile /tmp/chef-rest20160914-18248-1gd05gk
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/libraries/matchers.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java/libraries
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/TESTING.md
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/openjdk.rb to tempfile /tmp/chef-rest20160914-18248-1okjsf5
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/openjdk.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm.rb to tempfile /tmp/chef-rest20160914-18248-18xzq7q
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/ibm.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003aa9530
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/recipes/ibm_tar.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003aa9788>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "recipes",
   "ibm_tar.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Cookbook Name:: java
# Recipe:: ibm_tar
#
# Copyright 2013-2015, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

require 'uri'

source_url = node['java']['ibm']['url']
jdk_uri = ::URI.parse(source_url)
jdk_filename = ::File.basename(jdk_uri.path)

unless valid_ibm_jdk_uri?(source_url)
  fail "You must set the attribute `node['java']['ibm']['url']` to a valid URI"
end

unless jdk_filename =~ /\.(tar.gz|tgz)$/
  fail "The attribute `node['java']['ibm']['url']` must specify a .tar.gz file"
end

remote_file "#{Chef::Config[:file_cache_path]}/#{jdk_filename}" do
  source source_url
  mode 00755
  if node['java']['ibm']['checksum']
    checksum node['java']['ibm']['checksum']
    action :create
  else
    action :create_if_missing
  end
  notifies :create, 'directory[create-java-home]', :immediately
  notifies :run, 'execute[untar-ibm-java]', :immediately
end

directory 'create-java-home' do
  path node['java']['java_home']
  mode 00755
  recursive true
end

java_alternatives 'set-java-alternatives' do
  java_location node['java']['java_home']
  default node['java']['set_default']
  case node['java']['jdk_version'].to_s
  when '6'
    bin_cmds node['java']['ibm']['6']['bin_cmds']
  when '7'
    bin_cmds node['java']['ibm']['7']['bin_cmds']
  end
  action :nothing
end

execute 'untar-ibm-java' do
  cwd Chef::Config[:file_cache_path]
  command "tar xzf ./#{jdk_filename} -C #{node['java']['java_home']} --strip 1"
  notifies :set, 'java_alternatives[set-java-alternatives]', :immediately
  creates "#{node['java']['java_home']}/jre/bin/java"
end

include_recipe 'java::set_java_home'
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/ibm_tar.rb to tempfile /tmp/chef-rest20160914-18248-1h41k7q
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/ibm_tar.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/README.md
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003a4de88
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/libraries/helpers.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003a4dff0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "libraries",
   "helpers.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Joshua Timberman <joshua@chef.io>
# Copyright:: Copyright (c) 2013-2015, Chef Software, Inc. <legal@chef.io>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

require 'chef/version_constraint'
require 'uri'
require 'pathname'

module Opscode
  class OpenJDK
    attr_accessor :java_home, :jdk_version

    def initialize(node)
      @node = node.to_hash
      @java_home = @node['java']['java_home'] || '/usr/lib/jvm/default-java'
      @jdk_version = @node['java']['jdk_version'].to_s || '6'
    end

    def java_location
      File.join(java_home_parent(@java_home), openjdk_path, 'bin/java')
    end

    def alternatives_priority
      if @jdk_version == '6'
        # 'accepted' default for java 6
        1061
      elsif @jdk_version == '7'
        # i just made this number up
        1100
      elsif @jdk_version.to_i > 7
        # just a guard against the incoming java 8
        # so this cookbook will actually work for.. new versions of java
        1110
      else
        # it's not 6, it's not 7, it's not newer than
        # 7, but we probably want to install it, so
        # override 6's priority. arbitrary number.
        1062
      end
    end

    def java_home_parent(java_home)
      Pathname.new(java_home).parent.to_s
    end

    def openjdk_path
      case @node['platform_family']
      when 'debian'
        'java-%s-openjdk%s/jre' % [@jdk_version, arch_dir]
      when 'rhel', 'fedora'
        'jre-1.%s.0-openjdk%s' % [@jdk_version, arch_dir]
      when 'smartos'
        'jre'
      else
        'jre'
      end
    end

    def arch_dir
      @node['kernel']['machine'] == 'x86_64' ? sixty_four : thirty_two
    end

    def sixty_four
      case @node['platform_family']
      when 'debian'
        old_version? ? '' : '-amd64'
      when 'rhel', 'fedora'
        '.x86_64'
      else
        '-x86_64'
      end
    end

    def thirty_two
      case @node['platform_family']
      when 'debian'
        old_version? ? '' : '-i386'
      else
        ''
      end
    end

    # This method is used above (#sixty_four, #thirty_two) so we know
    # whether to specify the architecture as part of the path name.
    def old_version?
      case @node['platform']
      when 'ubuntu'
        Chef::VersionConstraint.new('< 11.0').include?(@node['platform_version'])
      when 'debian'
        Chef::VersionConstraint.new('< 7.0').include?(@node['platform_version'])
      end
    end
  end
end

class Chef
  class Recipe
    def valid_ibm_jdk_uri?(url)
      url =~ ::URI::ABS_URI && %w(file http https).include?(::URI.parse(url).scheme)
    end

    def platform_requires_license_acceptance?
      %w(smartos).include?(node.platform)
    end
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/libraries/helpers.rb to tempfile /tmp/chef-rest20160914-18248-kozfhd
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/libraries/helpers.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/Rakefile
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/.kitchen.yml
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000036fb3c0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/.kitchen.yml",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000036fb4d8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   ".kitchen.yml"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Bryan W. Berry (<bryan.berry@gmail.com>)
# Cookbook Name:: java
# Recipe:: oracle
#
# Copyright 2011, Bryan w. Berry
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

unless node.recipe?('java::default')
  Chef::Log.warn('Using java::default instead is recommended.')

  # Even if this recipe is included by itself, a safety check is nice...
  if node['java']['java_home'].nil? || node['java']['java_home'].empty?
    include_recipe 'java::set_attributes_from_version'
  end
end

java_home = node['java']['java_home']
arch = node['java']['arch']

case node['java']['jdk_version'].to_s
when '6'
  tarball_url = node['java']['jdk']['6'][arch]['url']
  tarball_checksum = node['java']['jdk']['6'][arch]['checksum']
  bin_cmds = node['java']['jdk']['6']['bin_cmds']
when '7'
  tarball_url = node['java']['jdk']['7'][arch]['url']
  tarball_checksum = node['java']['jdk']['7'][arch]['checksum']
  bin_cmds = node['java']['jdk']['7']['bin_cmds']
when '8'
  tarball_url = node['java']['jdk']['8'][arch]['url']
  tarball_checksum = node['java']['jdk']['8'][arch]['checksum']
  bin_cmds = node['java']['jdk']['8']['bin_cmds']
end

if tarball_url =~ /example.com/
  Chef::Application.fatal!('You must change the download link to your private repository. You can no longer download java directly from http://download.oracle.com without a web broswer')
end

include_recipe 'java::set_java_home'

package 'tar'

java_ark 'jdk' do
  url tarball_url
  default node['java']['set_default']
  checksum tarball_checksum
  app_home java_home
  bin_cmds bin_cmds
  alternatives_priority node['java']['alternatives_priority']
  retries node['java']['ark_retries']
  retry_delay node['java']['ark_retry_delay']
  connect_timeout node['java']['ark_timeout']
  use_alt_suffix node['java']['use_alt_suffix']
  reset_alternatives node['java']['reset_alternatives']
  download_timeout node['java']['ark_download_timeout']
  action :install
end

if node['java']['set_default'] && platform_family?('debian')
  include_recipe 'java::default_java_symlink'
end

include_recipe 'java::oracle_jce' if node['java']['oracle']['jce']['enabled']
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle.rb to tempfile /tmp/chef-rest20160914-18248-1xdm45m
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/oracle.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/CONTRIBUTING.md
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000035c6608
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/CONTRIBUTING.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000035c6720>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "CONTRIBUTING.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
Contributing
============
1. Fork it
2. Create your feature branch (`git checkout -b my-new-feature`)
3. Commit your changes (`git commit -am 'Add some feature'`)
4. [**Add tests!**](https://github.com/agileorbit-cookbooks/java/blob/master/TESTING.md)
5. Push to the branch (`git push origin my-new-feature`)
6. Create new Pull Request

As this cookbook is no longer maintained by Chef, you **do not** need to sign any sort of contributor agreement. Simply make your change and open a pull request.

Contributions will only be accepted if they are fully tested as specified in [TESTING.md](https://github.com/agileorbit-cookbooks/java/blob/master/TESTING.md)
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Author:: Bryan W. Berry (<bryan.berry@gmail.com>)
# Cookbook Name:: java
# Recipe:: oracle_i386
#
# Copyright 2010-2015, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

unless node.recipe?('java::default')
  Chef::Log.warn('Using java::default instead is recommended.')

  # Even if this recipe is included by itself, a safety check is nice...
  if node['java']['java_home'].nil? || node['java']['java_home'].empty?
    include_recipe 'java::set_attributes_from_version'
  end
end

java_home = node['java']['java_home']

case node['java']['jdk_version'].to_s
when '6'
  tarball_url = node['java']['jdk']['6']['i586']['url']
  tarball_checksum = node['java']['jdk']['6']['i586']['checksum']
  bin_cmds = node['java']['jdk']['6']['bin_cmds']
when '7'
  tarball_url = node['java']['jdk']['7']['i586']['url']
  tarball_checksum = node['java']['jdk']['7']['i586']['checksum']
  bin_cmds = node['java']['jdk']['7']['bin_cmds']
when '8'
  tarball_url = node['java']['jdk']['8']['i586']['url']
  tarball_checksum = node['java']['jdk']['8']['i586']['checksum']
  bin_cmds = node['java']['jdk']['8']['bin_cmds']
end

include_recipe 'java::set_java_home'

yum_package 'glibc' do
  arch 'i686'
  only_if { platform_family?('rhel', 'fedora') }
end

package 'tar'

java_ark 'jdk-alt' do
  url tarball_url
  default node['java']['set_default']
  checksum tarball_checksum
  app_home java_home
  bin_cmds bin_cmds
  retries node['java']['ark_retries']
  retry_delay node['java']['ark_retries']
  use_alt_suffix node['java']['use_alt_suffix']
  reset_alternatives node['java']['reset_alternatives']
  action :install
  default false
end

if node['java']['set_default'] && platform_family?('debian')
  include_recipe 'java::default_java_symlink'
end

include_recipe 'java::oracle_jce' if node['java']['oracle']['jce']['enabled']
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/oracle_i386.rb to tempfile /tmp/chef-rest20160914-18248-117fxit
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/oracle_i386.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/metadata.json
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000350d2c0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/metadata.json",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000350d5b8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "metadata.json"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
include_recipe 'homebrew'
include_recipe 'homebrew::cask'
homebrew_cask 'java'
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/recipes/homebrew.rb to tempfile /tmp/chef-rest20160914-18248-1yt76mt
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/recipes/homebrew.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/Gemfile
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000346de28
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/Gemfile",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000346df90>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "Gemfile"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
source 'https://rubygems.org'

group :rake do
  gem 'rake'
end

group :lint do
  gem 'foodcritic', '~> 5.0'
  gem 'rubocop', '~> 0.34'
end

group :unit do
  gem 'berkshelf',  '~> 4.0'
  gem 'chefspec',   '~> 4.4'
end

group :kitchen_common do
  gem 'test-kitchen', '~> 1.4'
end

group :kitchen_vagrant do
  gem 'kitchen-vagrant', '~> 0.19'
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/Gemfile to tempfile /tmp/chef-rest20160914-18248-19nzh6j
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/Gemfile in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/chefignore
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003416858
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/chefignore",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003416920>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "chefignore"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Put files/directories that should be ignored in this file when uploading
# or sharing to the community site.
# Lines that start with '# ' are comments.

# OS generated files #
######################
.DS_Store
Icon?
nohup.out
ehthumbs.db
Thumbs.db

# SASS #
########
.sass-cache

# EDITORS #
###########
\#*
.#*
*~
*.sw[a-z]
*.bak
REVISION
TAGS*
tmtags
*_flymake.*
*_flymake
*.tmproj
.project
.settings
mkmf.log

## COMPILED ##
##############
a.out
*.o
*.pyc
*.so
*.com
*.class
*.dll
*.exe
*/rdoc/

# Testing #
###########
.watchr
.rspec
spec/*
spec/fixtures/*
test/*
features/*
examples/*
Guardfile
Procfile
test/*
spec/*

# SCM #
#######
.git
*/.git
.gitignore
.gitmodules
.gitconfig
.gitattributes
.svn
*/.bzr/*
*/.hg/*
*/.svn/*

# Berkshelf #
#############
Berksfile
Berksfile.lock
cookbooks/*
tmp

# Cookbooks #
#############
CONTRIBUTING
CHANGELOG*

# Strainer #
############
Colanderfile
Strainerfile
.colander
.strainer

# Vagrant #
###########
.vagrant
Vagrantfile

# Travis #
##########
.travis.yml
.travis/*
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/chefignore to tempfile /tmp/chef-rest20160914-18248-12ezwsr
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/chefignore in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/LICENSE
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/templates/default/oracle.jinfo.erb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000037d8068
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/java/templates/default/oracle.jinfo.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000037d8158>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "templates",
   "default",
   "oracle.jinfo.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/CONTRIBUTING.md to tempfile /tmp/chef-rest20160914-18248-t60wxt
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/CONTRIBUTING.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/.rubocop.yml
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003741b18
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/.rubocop.yml",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003741c58>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   ".rubocop.yml"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
AllCops:
  Exclude:
    - vendor/**/*
    - Guardfile

AlignParameters:
  Enabled: false
ClassLength:
  Enabled: false
CyclomaticComplexity:
  Enabled: false
Documentation:
  Enabled: false
Encoding:
  Enabled: false
Style/FileName:
  Enabled: false
LineLength:
  Enabled: false
MethodLength:
  Enabled: false
Metrics/AbcSize:
  Enabled: false
PerceivedComplexity:
  Enabled: false
SingleSpaceBeforeFirstArg:
  Enabled: false
Style/ClassAndModuleChildren:
  Enabled: false
Style/FileName:
  Enabled: false
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000036633b8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/Rakefile",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003663480>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "Rakefile"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#!/usr/bin/env rake

# Style tests. Rubocop and Foodcritic
namespace :style do
  begin
    require 'rubocop/rake_task'
    desc 'Run Ruby style checks'
    RuboCop::RakeTask.new(:ruby)
  rescue LoadError
    puts '>>>>> Rubocop gem not loaded, omitting tasks' unless ENV['CI']
  end

  begin
    require 'foodcritic'

    desc 'Run Chef style checks'
    FoodCritic::Rake::LintTask.new(:chef) do |t|
      t.options = {
        fail_tags: ['any']
      }
    end
  rescue LoadError
    puts '>>>>> foodcritic gem not loaded, omitting tasks' unless ENV['CI']
  end
end

desc 'Run all style checks'
task style: ['style:chef', 'style:ruby']

namespace :unit do
  begin
    require 'rspec/core/rake_task'
    desc 'Runs specs with chefspec.'
    RSpec::Core::RakeTask.new(:rspec)
  rescue LoadError
    puts '>>>>> chefspec gem not loaded, omitting tasks' unless ENV['CI']
  end
end

desc 'Run all unit tests'
task unit: ['unit:rspec']

# Integration tests. Kitchen.ci
namespace :integration do
  begin
    require 'kitchen/rake_tasks'

    desc 'Run kitchen integration tests'
    Kitchen::RakeTasks.new
  rescue LoadError
    puts '>>>>> Kitchen gem not loaded, omitting tasks' unless ENV['CI']
  end
end

desc 'Run all tests on Travis'
task travis: ['unit']

# Default
# task default: ['unit', 'style', 'integration:kitchen:all']
task default: ['unit', 'style', 'integration:kitchen:all']
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/Rakefile to tempfile /tmp/chef-rest20160914-18248-59x4fs
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/Rakefile in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/resources/repository.rb
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
{
  "name": "java",
  "description": "Installs Java runtime.",
  "long_description": "java [![travis-badge](https://travis-ci.org/agileorbit-cookbooks/java.svg)](https://travis-ci.org/agileorbit-cookbooks/java)\n=====\n\nThis cookbook installs a Java JDK/JRE. It defaults to installing\nOpenJDK, but it can also install Oracle and IBM JDKs.\n\nUsage\n-----\n\nSimply include the `java` recipe wherever you would like Java installed, such as a run list (`recipe[java]`) or a cookbook (`include_recipe 'java'`). By default, OpenJDK 6 is installed. The `install_flavor` attribute is used to determine which JDK to install (OpenJDK, Oracle, IBM, or Windows), and `jdk_version` specifies which version to install (currently 6 and 7 are supported for all JDK types, 8 for Oracle only).\n\n### Examples\n\nTo install Oracle Java 7 (note that when installing Oracle JDK, `accept_oracle_download_terms` attribute must be set -- see below role for an example):\n```ruby\nname \"java\"\ndescription \"Install Oracle Java\"\ndefault_attributes(\n  \"java\" => {\n    \"install_flavor\" => \"oracle\",\n    \"jdk_version\" => \"7\",\n    \"oracle\" => {\n      \"accept_oracle_download_terms\" => true\n    }\n  }\n)\nrun_list(\n  \"recipe[java]\"\n)\n```\n\nExample role to install IBM flavored Java:\n```ruby\nname \"java\"\ndescription \"Install IBM Java on Ubuntu\"\ndefault_attributes(\n  \"java\" => {\n    \"install_flavor\" => \"ibm\",\n    \"ibm\" => {\n      \"accept_ibm_download_terms\" => true,\n      \"url\" => \"http://fileserver.example.com/ibm-java-x86_64-sdk-7.0-4.1.bin\",\n      \"checksum\" => \"The SHA256 checksum of the bin\"\n    }\n  }\n)\nrun_list(\n  \"recipe[java]\"\n)\n```\n\nRequirements\n-----\n\nChef 11+\n\n### Platform\n\n* Debian, Ubuntu\n* CentOS, Red Hat, Fedora, Scientific, Amazon, XenServer\n* ArchLinux\n* FreeBSD\n* SmartOS\n* Windows\n* Mac OS X\n\nAttributes\n-----\n\nSee `attributes/default.rb` for default values.\n\n* `node['java']['install_flavor']` - Flavor of JVM you would like\ninstalled (`oracle`, `oracle_rpm`, `openjdk`, `ibm`, `windows`), default `openjdk`\non Linux/Unix platforms, `windows` on Windows platforms.\n* `node['java']['jdk_version']` - JDK version to install, defaults to\n  `'6'`.\n* `node['java']['java_home']` - Default location of the\n  \"`$JAVA_HOME`\".\n* `node['java']['set_etc_environment']` - Optionally sets\n  JAVA_HOME in `/etc/environment` for  Default `false`.\n* `node['java']['openjdk_packages']` - Array of OpenJDK package names\n  to install in the `java::openjdk` recipe. This is set based on the\n  platform.\n* `node['java']['tarball']` - Name of the tarball to retrieve from\nyour internal repository, default `jdk1.6.0_29_i386.tar.gz`\n* `node['java']['tarball_checksum']` - Checksum for the tarball, if\nyou use a different tarball, you also need to create a new sha256\nchecksum\n* `node['java']['jdk']` - Version and architecture specific attributes\nfor setting the URL on Oracle's site for the JDK, and the checksum of\nthe .tar.gz.\n* `node['java']['oracle']['accept_oracle_download_terms']` - Indicates\n  that you accept Oracle's EULA\n* `node['java']['windows']['url']` - The internal location of your\n  java install for windows\n* `node['java']['windows']['package_name']` - The package name used by\n  windows_package to check in the registry to determine if the install\n  has already been run\n* `node['java']['windows']['checksum']` - The checksum for the package to\n  download on Windows machines (default is nil, which does not perform\n  checksum validation)\n* `node['java']['ibm']['url']` - The URL which to download the IBM\n  JDK/SDK. See the `ibm` recipe section below.\n* `node['java']['ibm']['accept_ibm_download_terms']` - Indicates that\n  you accept IBM's EULA (for `java::ibm`)\n* `node['java']['oracle_rpm']['type']` - Type of java RPM (`jre` or `jdk`), default `jdk`\n* `node['java']['oracle_rpm']['package_version']` - optional, can be set\n  to pin a version different from the up-to-date one available in the YUM repo,\n  it might be needed to also override the node['java']['java_home'] attribute\n  to a value consistent with the defined version\n* `node['java']['oracle_rpm']['package_name']` - optional, can be set\n  to define a package name different from the RPM published by Oracle.\n* `node['java']['accept_license_agreement']` - Indicates that you accept\n  the EULA for openjdk package installation.\n* `node['java']['set_default']` - Indicates whether or not you want the\n  JDK installed to be default on the system.  Defaults to true.\n* `node['java']['oracle']['jce']['enabled']` - Indicates if the JCE Unlimited Strength Jurisdiction Policy Files should be installed for oracle JDKs\n* `node['java']['oracle']['jce']['home']` - Where the JCE policy files should be installed to\n* `node['java']['oracle']['jce'][java_version]['checksum']` - Checksum of the JCE policy zip. Can be sha256 or md5\n* `node['java']['oracle']['jce'][java_version]['url']` - URL which to download the JCE policy zip\n\nRecipes\n-----\n\n### default\n\nInclude the default recipe in a run list or recipe to get `java`.  By default\nthe `openjdk` flavor of Java is installed, but this can be changed by\nusing the `install_flavor` attribute. By default on Windows platform\nsystems, the `install_flavor` is `windows` and on Mac OS X platform systems, the `install_flavor` is `homebrew`.\n\nOpenJDK is the default because of licensing changes made upstream by\nOracle. See notes on the `oracle` recipe below.\n\nNOTE: In most cases, including just the default recipe will be sufficient.\nIt's possible to include the install_type recipes directly, as long as\nthe necessary attributes (such as java_home) are set.\n\n### set_attributes_from_version\n\nSets default attributes based on the JDK version. This is included by `default.rb`. This logic must be in\na recipe instead of attributes/default.rb. See [#95](https://github.com/agileorbit-cookbooks/java/pull/95)\nfor details.\n\n### default_java_symlink\n\nUpdates /usr/lib/jvm/default-java to point to JAVA_HOME.\n\n### purge_packages\n\nPurges deprecated Sun Java packages.\n\n### openjdk\n\nThis recipe installs the `openjdk` flavor of Java. It also uses the\n`alternatives` system on RHEL/Debian families to set the default Java.\n\nOn platforms such as SmartOS that require the acceptance of a license\nagreement during package installation, set\n`node['java']['accept_license_agreement']` to true in order to indicate\nthat you accept the license.\n\n### oracle\n\nThis recipe installs the `oracle` flavor of Java. This recipe does not\nuse distribution packages as Oracle changed the licensing terms with\nJDK 1.6u27 and prohibited the practice for both RHEL and Debian family\nplatforms.\n\nAs of 26 March 2012 you can no longer directly download the JDK from\nOracle's website without using a special cookie. This cookbook uses\nthat cookie to download the oracle recipe on your behalf, however the\n`java::oracle` recipe forces you to set either override the\n`node['java']['oracle']['accept_oracle_download_terms']` to true or\nset up a private repository accessible by HTTP.\n\noverride the `accept_oracle_download_terms` in, e.g., `roles/base.rb`\n```ruby\n    default_attributes(\n      :java => {\n         :oracle => {\n           \"accept_oracle_download_terms\" => true\n         }\n       }\n    )\n```\n\nFor both RHEL and Debian families, this recipe pulls the binary\ndistribution from the Oracle website, and installs it in the default\n`JAVA_HOME` for each distribution. For Debian, this is\n`/usr/lib/jvm/default-java`. For RHEl, this is `/usr/lib/jvm/java`.\n\nAfter putting the binaries in place, the `java::oracle` recipe updates\n`/usr/bin/java` to point to the installed JDK using the\n`update-alternatives` script. This is all handled in the `java_ark`\nLWRP.\n\n### oracle_i386\n\nThis recipe installs the 32-bit Java virtual machine without setting\nit as the default. This can be useful if you have applications on the\nsame machine that require different versions of the JVM.\n\nThis recipe operates in a similar manner to `java::oracle`.\n\n### oracle_rpm\n\nThis recipe installs the Oracle JRE or JDK provided by a custom YUM\nrepositories.\nIt also uses the `alternatives` system on RHEL families to set\nthe default Java.\n\nWhile public YUM repos for Oracle Java 7 and prior are available,\nyou need to download the RPMs manually for Java 8 and make\nyour own internal repository. This must be done to use this recipe to\ninstall Oracle Java 8 via RPM. You will also likely need to set\n`node['java']['oracle_rpm']['package_name']` to `jdk1.8.0_40`,\nreplacing `40` with the most current version in your local repo.\n\n### windows\n\nBecause there is no easy way to pull the java msi off oracle's site,\nthis recipe requires you to host it internally on your own http repo.\n\n**IMPORTANT NOTE**\n\nIf you use the `windows` recipe, you'll need to make sure you've uploaded\nthe `aws` and `windows` cookbooks. As of version 1.18.0, this cookbook\nreferences them with `suggests` instead of `depends`, as they are only\nused by the `windows` recipe.\n\n### ibm\n\nThe `java::ibm` recipe is used to install the IBM version of Java.\nNote that IBM requires you to create an account *and* log in to\ndownload the binary installer for your platform. You must accept the\nlicense agreement with IBM to use their version of Java. In this\ncookbook, you indicate this by setting\n`node['java']['ibm']['accept_ibm_download_terms']` to `true`. You must\nalso host the binary on your own HTTP server to have an automated\ninstallation. The `node['java']['ibm']['url']` attribute must be set\nto a valid https/http URL; the URL is checked for validity in the recipe.\n\nAt this time the `java::ibm` recipe does not support multiple SDK\ninstallations.\n\nResources/Providers\n-----\n\n### java_ark\n\nThis cookbook contains the `java_ark` LWRP. Generally speaking this\nLWRP is deprecated in favor of `ark` from the\n[ark cookbook](https://github.com/opscode-cookbooks/ark), but it is\nstill used in this cookbook for handling the Oracle JDK installation.\n\nBy default, the extracted directory is extracted to\n`app_root/extracted_dir_name` and symlinked to `app_root/default`\n\n#### Actions\n\n- `:install`: extracts the tarball and makes necessary symlinks\n- `:remove`: removes the tarball and run update-alternatives for all\n  symlinked `bin_cmds`\n\n#### Attribute Parameters\n\n- `url`: path to tarball, .tar.gz, .bin (oracle-specific), and .zip\n  currently supported\n- `checksum`: SHA256 checksum, not used for security but avoid\n  redownloading the archive on each chef-client run\n- `app_home`: the default for installations of this type of\n  application, for example, `/usr/lib/tomcat/default`. If your\n  application is not set to the default, it will be placed at the same\n  level in the directory hierarchy but the directory name will be\n   `app_root/extracted_directory_name + \"_alt\"`\n- `app_home_mode`: file mode for app_home, is an integer\n- `bin_cmds`: array of binary commands that should be symlinked to\n  `/usr/bin`, examples are mvn, java, javac, etc. These cmds must be in\n  the `bin` subdirectory of the extracted folder. Will be ignored if this\n  `java_ark` is not the default\n- `owner`: owner of extracted directory, set to \"root\" by default\n- `group`: group of extracted directory, set to `:owner` by default\n- `default`: whether this the default installation of this package,\n  boolean true or false\n- `reset_alternatives`: whether alternatives is reset\n  boolean true or false\n- `use_alt_suffix`: whether '_alt' suffix is used for not default javas\n  boolean true or false\n\n#### Examples\n```ruby\n# install jdk6 from Oracle\njava_ark \"jdk\" do\n    url 'http://download.oracle.com/otn-pub/java/jdk/6u29-b11/jdk-6u29-linux-x64.bin'\n    checksum  'a8603fa62045ce2164b26f7c04859cd548ffe0e33bfc979d9fa73df42e3b3365'\n    app_home '/usr/local/java/default'\n    bin_cmds [\"java\", \"javac\"]\n    action :install\nend\n```\n### java_alternatives\n\nThe `java_alternatives` LWRP uses `update-alternatives` command\nto set and unset command alternatives for various Java tools\nsuch as java, javac, etc.\n\n#### Actions\n\n- `:set`: set alternatives for Java tools\n- `:unset`: unset alternatives for Java tools\n\n#### Attribute Parameters\n\n- `java_location`: Java installation location.\n- `bin_cmds`: array of Java tool names to set or unset alternatives on.\n- `default`: whether to set the Java tools as system default. Boolean, defaults to `true`.\n- `priority`: priority of the alternatives. Integer, defaults to `1061`.\n\n#### Examples\n```ruby\n# set alternatives for java and javac commands\njava_alternatives \"set java alternatives\" do\n    java_location '/usr/local/java'\n    bin_cmds [\"java\", \"javac\"]\n    action :set\nend\n```\n\nProduction Deployment with Oracle Java\n-----\nOracle has been known to change the behavior of its download site frequently. It is recommended you store the archives on an artifact server or s3 bucket. You can then override the attributes in a cookbook, role, or environment:\n\n```ruby\ndefault['java']['jdk_version'] = '7'\ndefault['java']['install_flavor'] = 'oracle'\ndefault['java']['jdk']['7']['x86_64']['url'] = 'http://artifactory.example.com/artifacts/jdk-7u65-linux-x64.tar.gz'\ndefault['java']['oracle']['accept_oracle_download_terms'] = true\n```\n\nRecommendations for inclusion in community cookbooks\n-----\n\nThis cookbook is a dependency for many other cookbooks in the Java/Chef sphere. Here are some guidelines for including it into other cookbooks:\n\n### Allow people to not use this cookbook\nMany users manage Java on their own or have systems that already have java installed. Give these users an option to skip this cookbook, for example:\n```ruby\ninclude_recipe 'java' if node['maven']['install_java']\n```\n\nThis would allow a users of the maven cookbook to choose if they want the maven cookbook to install java for them or leave that up to the consumer.\n\nAnother good example is from the [Jenkins Cookbook Java recipe](https://github.com/opscode-cookbooks/jenkins/commit/ca2a69d982011dc1bec6a6d0ee4da5c1a1599864).\n\n### Pinning to major version of cookbook and Java\nThis cookbook follows semver. It is recommended to pin at the major version of this cookbook when including it in other cookbooks, eg: `depends 'java', '~> 1.0'`\n\nIt is acceptable to set the `node['java']['jdk_version']` to a specific version if required for your software to run, eg software xyz requires Java 8 to run. Refrain from pinning to specific patches of the JDK to allow users to consume security updates.\n\nDevelopment\n-----\n\nThis cookbook uses\n[test-kitchen](https://github.com/opscode/test-kitchen) for\nintegration tests and\n[ChefSpec/RSpec](https://github.com/sethvargo/chefspec) for unit tests.\nSee [TESTING.md](https://github.com/agileorbit-cookbooks/java/blob/master/TESTING.md) for testing instructions.\n\nAt this time due to licensing concerns, the IBM recipe is not set up\nin test kitchen. If you would like to test this locally, copy\n.kitchen.yml to .kitchen.local.yml and add the following suite:\n```yml\nsuites:\n- name: ibm\n  run_list: [\"recipe[java]\"]\n  attributes:\n    java:\n      install_flavor: \"ibm\"\n      ibm:\n        accept_ibm_download_terms: true\n        url: \"http://jenkins/ibm-java-x86_64-sdk-7.0-4.1.bin\"\n        checksum: the-sha256-checksum\n```\n\nLog into the IBM DeveloperWorks site to download a copy of the IBM\nJava SDK you wish to use/test, host it on an internal HTTP server, and\ncalculate the SHA256 checksum to use in the suite.\n\nLicense and Author\n-----\n* Author: Eric Helgeson (<erichelgeson@gmail.com>)\n\nCopyright: 2014-2015, Agile Orbit, LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n",
  "maintainer": "Agile Orbit",
  "maintainer_email": "info@agileorbit.com",
  "license": "Apache 2.0",
  "platforms": {
    "debian": ">= 0.0.0",
    "ubuntu": ">= 0.0.0",
    "centos": ">= 0.0.0",
    "redhat": ">= 0.0.0",
    "scientific": ">= 0.0.0",
    "fedora": ">= 0.0.0",
    "amazon": ">= 0.0.0",
    "arch": ">= 0.0.0",
    "oracle": ">= 0.0.0",
    "freebsd": ">= 0.0.0",
    "windows": ">= 0.0.0",
    "suse": ">= 0.0.0",
    "xenserver": ">= 0.0.0",
    "smartos": ">= 0.0.0",
    "mac_os_x": ">= 0.0.0"
  },
  "dependencies": {
    "apt": ">= 0.0.0"
  },
  "recommendations": {

  },
  "suggestions": {
    "homebrew": ">= 0.0.0",
    "windows": ">= 0.0.0",
    "aws": ">= 0.0.0"
  },
  "conflicting": {

  },
  "providing": {

  },
  "replacing": {

  },
  "attributes": {

  },
  "groupings": {

  },
  "recipes": {
    "java::default": "Installs Java runtime",
    "java::default_java_symlink": "Updates /usr/lib/jvm/default-java",
    "java::ibm": "Installs the JDK for IBM",
    "java::ibm_tar": "Installs the JDK for IBM from a tarball",
    "java::openjdk": "Installs the OpenJDK flavor of Java",
    "java::oracle": "Installs the Oracle flavor of Java",
    "java::oracle_i386": "Installs the 32-bit jvm without setting it as the default",
    "java::oracle_rpm": "Installs the Oracle RPM flavor of Java",
    "java::purge_packages": "Purges old Sun JDK packages",
    "java::set_attributes_from_version": "Sets various attributes that depend on jdk_version",
    "java::set_java_home": "Sets the JAVA_HOME environment variable",
    "java::windows": "Installs the JDK on Windows",
    "java::homebrew": "Installs the JDK on Mac OS X via Homebrew"
  },
  "version": "1.39.0",
  "source_url": "",
  "issues_url": "",
  "privacy": false
}
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
---
driver:
  name: vagrant
  require_chef_omnibus: true
  customize:
    memory: 1024

provisioner:
  name: chef_zero
  attributes:
    java:
      ark_retries: 2
      ark_retry_delay: 10

platforms:
  - name: ubuntu-14.04
    run_list:
    - recipe[apt]
    driver:
      box: box-cutter/ubuntu1404
    run_list:
    - recipe[apt]
  - name: ubuntu-12.04
    driver:
      box: box-cutter/ubuntu1204
    run_list:
    - recipe[apt]
  - name: debian-8.2
    driver:
      box: box-cutter/debian82
    run_list:
    - recipe[apt]
  - name: debian-7.9
    driver:
      box: box-cutter/debian79
    run_list:
    - recipe[apt]
  - name: centos-7.1
    driver:
      box: box-cutter/centos71
  - name: centos-6.7
    driver:
      box: box-cutter/centos67
  - name: centos-5.11
    driver:
      box: box-cutter/centos511
  - name: fedora-22
    driver:
      box: box-cutter/fedora22
  - name: fedora-21
    driver:
      box: box-cutter/fedora21

suites:
  - name: openjdk-6
    includes:
      - centos-5.11
      - centos-6.7
      - centos-7.1
      - debian-7.9
      - ubuntu-12.04
      - ubuntu-14.04
    run_list:
      - recipe[java::default]
  - name: openjdk-7
    includes:
      - centos-5.11
      - centos-6.7
      - centos-7.1
      - debian-7.9
      - debian-8.2
      - ubuntu-12.04
      - ubuntu-14.04
    run_list:
      - recipe[java::default]
    attributes:
      java:
        jdk_version: "7"
  - name: openjdk-8
    includes:
      - ubuntu-14.04
      - centos-6.7
      - centos-7.1
      - fedora-21
      - fedora-22
    run_list:
      - recipe[java::default]
    attributes:
      java:
        jdk_version: "8"
  - name: oracle
    run_list:
      - recipe[test_java::default]
      - recipe[java::default]
    attributes:
      java:
        oracle:
          accept_oracle_download_terms: true
          jce:
            enabled: true
        install_flavor: oracle
  - name: oracle-7
    run_list:
      - recipe[test_java::default]
      - recipe[java::default]
    attributes:
      java:
        jdk_version: "7"
        oracle:
          accept_oracle_download_terms: true
          jce:
            enabled: true
        install_flavor: oracle
  - name: oracle-8
    run_list:
      - recipe[test_java::default]
      - recipe[java::default]
    attributes:
      java:
        jdk_version: "8"
        oracle:
          accept_oracle_download_terms: true
          jce:
            enabled: true
        install_flavor: oracle
  - name: oracle-direct
    run_list:
      - recipe[java::oracle]
    attributes:
      java:
        oracle:
          accept_oracle_download_terms: true
  - name: openjdk-direct
    run_list:
      - recipe[java::openjdk]
  - name: oracle-rpm
    includes:
      - centos-5.11
      - centos-6.7
      - centos-7.1
      - fedora-21
    run_list:
      - recipe[java::default]
    attributes:
      java:
        install_flavor: oracle_rpm
        jdk_version: 7
        oracle:
          accept_oracle_download_terms: true
  - name: oracle-rpm-8
    includes:
      - centos-5.11
      - centos-6.7
      - centos-7.1
      - fedora-21
    run_list:
      - recipe[java::default]
    attributes:
      java:
        install_flavor: oracle_rpm
        jdk_version: 8
        oracle:
          accept_oracle_download_terms: true
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/.kitchen.yml to tempfile /tmp/chef-rest20160914-18248-1ci3g1y
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/.kitchen.yml in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/resources/preference.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000036c2020
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/README.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000036c2160>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "README.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
java [![travis-badge](https://travis-ci.org/agileorbit-cookbooks/java.svg)](https://travis-ci.org/agileorbit-cookbooks/java)
=====

This cookbook installs a Java JDK/JRE. It defaults to installing
OpenJDK, but it can also install Oracle and IBM JDKs.

Usage
-----

Simply include the `java` recipe wherever you would like Java installed, such as a run list (`recipe[java]`) or a cookbook (`include_recipe 'java'`). By default, OpenJDK 6 is installed. The `install_flavor` attribute is used to determine which JDK to install (OpenJDK, Oracle, IBM, or Windows), and `jdk_version` specifies which version to install (currently 6 and 7 are supported for all JDK types, 8 for Oracle only).

### Examples

To install Oracle Java 7 (note that when installing Oracle JDK, `accept_oracle_download_terms` attribute must be set -- see below role for an example):
```ruby
name "java"
description "Install Oracle Java"
default_attributes(
  "java" => {
    "install_flavor" => "oracle",
    "jdk_version" => "7",
    "oracle" => {
      "accept_oracle_download_terms" => true
    }
  }
)
run_list(
  "recipe[java]"
)
```

Example role to install IBM flavored Java:
```ruby
name "java"
description "Install IBM Java on Ubuntu"
default_attributes(
  "java" => {
    "install_flavor" => "ibm",
    "ibm" => {
      "accept_ibm_download_terms" => true,
      "url" => "http://fileserver.example.com/ibm-java-x86_64-sdk-7.0-4.1.bin",
      "checksum" => "The SHA256 checksum of the bin"
    }
  }
)
run_list(
  "recipe[java]"
)
```

Requirements
-----

Chef 11+

### Platform

* Debian, Ubuntu
* CentOS, Red Hat, Fedora, Scientific, Amazon, XenServer
* ArchLinux
* FreeBSD
* SmartOS
* Windows
* Mac OS X

Attributes
-----

See `attributes/default.rb` for default values.

* `node['java']['install_flavor']` - Flavor of JVM you would like
installed (`oracle`, `oracle_rpm`, `openjdk`, `ibm`, `windows`), default `openjdk`
on Linux/Unix platforms, `windows` on Windows platforms.
* `node['java']['jdk_version']` - JDK version to install, defaults to
  `'6'`.
* `node['java']['java_home']` - Default location of the
  "`$JAVA_HOME`".
* `node['java']['set_etc_environment']` - Optionally sets
  JAVA_HOME in `/etc/environment` for  Default `false`.
* `node['java']['openjdk_packages']` - Array of OpenJDK package names
  to install in the `java::openjdk` recipe. This is set based on the
  platform.
* `node['java']['tarball']` - Name of the tarball to retrieve from
your internal repository, default `jdk1.6.0_29_i386.tar.gz`
* `node['java']['tarball_checksum']` - Checksum for the tarball, if
you use a different tarball, you also need to create a new sha256
checksum
* `node['java']['jdk']` - Version and architecture specific attributes
for setting the URL on Oracle's site for the JDK, and the checksum of
the .tar.gz.
* `node['java']['oracle']['accept_oracle_download_terms']` - Indicates
  that you accept Oracle's EULA
* `node['java']['windows']['url']` - The internal location of your
  java install for windows
* `node['java']['windows']['package_name']` - The package name used by
  windows_package to check in the registry to determine if the install
  has already been run
* `node['java']['windows']['checksum']` - The checksum for the package to
  download on Windows machines (default is nil, which does not perform
  checksum validation)
* `node['java']['ibm']['url']` - The URL which to download the IBM
  JDK/SDK. See the `ibm` recipe section below.
* `node['java']['ibm']['accept_ibm_download_terms']` - Indicates that
  you accept IBM's EULA (for `java::ibm`)
* `node['java']['oracle_rpm']['type']` - Type of java RPM (`jre` or `jdk`), default `jdk`
* `node['java']['oracle_rpm']['package_version']` - optional, can be set
  to pin a version different from the up-to-date one available in the YUM repo,
  it might be needed to also override the node['java']['java_home'] attribute
  to a value consistent with the defined version
* `node['java']['oracle_rpm']['package_name']` - optional, can be set
  to define a package name different from the RPM published by Oracle.
* `node['java']['accept_license_agreement']` - Indicates that you accept
  the EULA for openjdk package installation.
* `node['java']['set_default']` - Indicates whether or not you want the
  JDK installed to be default on the system.  Defaults to true.
* `node['java']['oracle']['jce']['enabled']` - Indicates if the JCE Unlimited Strength Jurisdiction Policy Files should be installed for oracle JDKs
* `node['java']['oracle']['jce']['home']` - Where the JCE policy files should be installed to
* `node['java']['oracle']['jce'][java_version]['checksum']` - Checksum of the JCE policy zip. Can be sha256 or md5
* `node['java']['oracle']['jce'][java_version]['url']` - URL which to download the JCE policy zip

Recipes
-----

### default

Include the default recipe in a run list or recipe to get `java`.  By default
the `openjdk` flavor of Java is installed, but this can be changed by
using the `install_flavor` attribute. By default on Windows platform
systems, the `install_flavor` is `windows` and on Mac OS X platform systems, the `install_flavor` is `homebrew`.

OpenJDK is the default because of licensing changes made upstream by
Oracle. See notes on the `oracle` recipe below.

NOTE: In most cases, including just the default recipe will be sufficient.
It's possible to include the install_type recipes directly, as long as
the necessary attributes (such as java_home) are set.

### set_attributes_from_version

Sets default attributes based on the JDK version. This is included by `default.rb`. This logic must be in
a recipe instead of attributes/default.rb. See [#95](https://github.com/agileorbit-cookbooks/java/pull/95)
for details.

### default_java_symlink

Updates /usr/lib/jvm/default-java to point to JAVA_HOME.

### purge_packages

Purges deprecated Sun Java packages.

### openjdk

This recipe installs the `openjdk` flavor of Java. It also uses the
`alternatives` system on RHEL/Debian families to set the default Java.

On platforms such as SmartOS that require the acceptance of a license
agreement during package installation, set
`node['java']['accept_license_agreement']` to true in order to indicate
that you accept the license.

### oracle

This recipe installs the `oracle` flavor of Java. This recipe does not
use distribution packages as Oracle changed the licensing terms with
JDK 1.6u27 and prohibited the practice for both RHEL and Debian family
platforms.

As of 26 March 2012 you can no longer directly download the JDK from
Oracle's website without using a special cookie. This cookbook uses
that cookie to download the oracle recipe on your behalf, however the
`java::oracle` recipe forces you to set either override the
`node['java']['oracle']['accept_oracle_download_terms']` to true or
set up a private repository accessible by HTTP.

override the `accept_oracle_download_terms` in, e.g., `roles/base.rb`
```ruby
    default_attributes(
      :java => {
         :oracle => {
           "accept_oracle_download_terms" => true
         }
       }
    )
```

For both RHEL and Debian families, this recipe pulls the binary
distribution from the Oracle website, and installs it in the default
`JAVA_HOME` for each distribution. For Debian, this is
`/usr/lib/jvm/default-java`. For RHEl, this is `/usr/lib/jvm/java`.

After putting the binaries in place, the `java::oracle` recipe updates
`/usr/bin/java` to point to the installed JDK using the
`update-alternatives` script. This is all handled in the `java_ark`
LWRP.

### oracle_i386

This recipe installs the 32-bit Java virtual machine without setting
it as the default. This can be useful if you have applications on the
same machine that require different versions of the JVM.

This recipe operates in a similar manner to `java::oracle`.

### oracle_rpm

This recipe installs the Oracle JRE or JDK provided by a custom YUM
repositories.
It also uses the `alternatives` system on RHEL families to set
the default Java.

While public YUM repos for Oracle Java 7 and prior are available,
you need to download the RPMs manually for Java 8 and make
your own internal repository. This must be done to use this recipe to
install Oracle Java 8 via RPM. You will also likely need to set
`node['java']['oracle_rpm']['package_name']` to `jdk1.8.0_40`,
replacing `40` with the most current version in your local repo.

### windows

Because there is no easy way to pull the java msi off oracle's site,
this recipe requires you to host it internally on your own http repo.

**IMPORTANT NOTE**

If you use the `windows` recipe, you'll need to make sure you've uploaded
the `aws` and `windows` cookbooks. As of version 1.18.0, this cookbook
references them with `suggests` instead of `depends`, as they are only
used by the `windows` recipe.

### ibm

The `java::ibm` recipe is used to install the IBM version of Java.
Note that IBM requires you to create an account *and* log in to
download the binary installer for your platform. You must accept the
license agreement with IBM to use their version of Java. In this
cookbook, you indicate this by setting
`node['java']['ibm']['accept_ibm_download_terms']` to `true`. You must
also host the binary on your own HTTP server to have an automated
installation. The `node['java']['ibm']['url']` attribute must be set
to a valid https/http URL; the URL is checked for validity in the recipe.

At this time the `java::ibm` recipe does not support multiple SDK
installations.

Resources/Providers
-----

### java_ark

This cookbook contains the `java_ark` LWRP. Generally speaking this
LWRP is deprecated in favor of `ark` from the
[ark cookbook](https://github.com/opscode-cookbooks/ark), but it is
still used in this cookbook for handling the Oracle JDK installation.

By default, the extracted directory is extracted to
`app_root/extracted_dir_name` and symlinked to `app_root/default`

#### Actions

- `:install`: extracts the tarball and makes necessary symlinks
- `:remove`: removes the tarball and run update-alternatives for all
  symlinked `bin_cmds`

#### Attribute Parameters

- `url`: path to tarball, .tar.gz, .bin (oracle-specific), and .zip
  currently supported
- `checksum`: SHA256 checksum, not used for security but avoid
  redownloading the archive on each chef-client run
- `app_home`: the default for installations of this type of
  application, for example, `/usr/lib/tomcat/default`. If your
  application is not set to the default, it will be placed at the same
  level in the directory hierarchy but the directory name will be
   `app_root/extracted_directory_name + "_alt"`
- `app_home_mode`: file mode for app_home, is an integer
- `bin_cmds`: array of binary commands that should be symlinked to
  `/usr/bin`, examples are mvn, java, javac, etc. These cmds must be in
  the `bin` subdirectory of the extracted folder. Will be ignored if this
  `java_ark` is not the default
- `owner`: owner of extracted directory, set to "root" by default
- `group`: group of extracted directory, set to `:owner` by default
- `default`: whether this the default installation of this package,
  boolean true or false
- `reset_alternatives`: whether alternatives is reset
  boolean true or false
- `use_alt_suffix`: whether '_alt' suffix is used for not default javas
  boolean true or false

#### Examples
```ruby
# install jdk6 from Oracle
java_ark "jdk" do
    url 'http://download.oracle.com/otn-pub/java/jdk/6u29-b11/jdk-6u29-linux-x64.bin'
    checksum  'a8603fa62045ce2164b26f7c04859cd548ffe0e33bfc979d9fa73df42e3b3365'
    app_home '/usr/local/java/default'
    bin_cmds ["java", "javac"]
    action :install
end
```
### java_alternatives

The `java_alternatives` LWRP uses `update-alternatives` command
to set and unset command alternatives for various Java tools
such as java, javac, etc.

#### Actions

- `:set`: set alternatives for Java tools
- `:unset`: unset alternatives for Java tools

#### Attribute Parameters

- `java_location`: Java installation location.
- `bin_cmds`: array of Java tool names to set or unset alternatives on.
- `default`: whether to set the Java tools as system default. Boolean, defaults to `true`.
- `priority`: priority of the alternatives. Integer, defaults to `1061`.

#### Examples
```ruby
# set alternatives for java and javac commands
java_alternatives "set java alternatives" do
    java_location '/usr/local/java'
    bin_cmds ["java", "javac"]
    action :set
end
```

Production Deployment with Oracle Java
-----
Oracle has been known to change the behavior of its download site frequently. It is recommended you store the archives on an artifact server or s3 bucket. You can then override the attributes in a cookbook, role, or environment:

```ruby
default['java']['jdk_version'] = '7'
default['java']['install_flavor'] = 'oracle'
default['java']['jdk']['7']['x86_64']['url'] = 'http://artifactory.example.com/artifacts/jdk-7u65-linux-x64.tar.gz'
default['java']['oracle']['accept_oracle_download_terms'] = true
```

Recommendations for inclusion in community cookbooks
-----

This cookbook is a dependency for many other cookbooks in the Java/Chef sphere. Here are some guidelines for including it into other cookbooks:

### Allow people to not use this cookbook
Many users manage Java on their own or have systems that already have java installed. Give these users an option to skip this cookbook, for example:
```ruby
include_recipe 'java' if node['maven']['install_java']
```

This would allow a users of the maven cookbook to choose if they want the maven cookbook to install java for them or leave that up to the consumer.

Another good example is from the [Jenkins Cookbook Java recipe](https://github.com/opscode-cookbooks/jenkins/commit/ca2a69d982011dc1bec6a6d0ee4da5c1a1599864).

### Pinning to major version of cookbook and Java
This cookbook follows semver. It is recommended to pin at the major version of this cookbook when including it in other cookbooks, eg: `depends 'java', '~> 1.0'`

It is acceptable to set the `node['java']['jdk_version']` to a specific version if required for your software to run, eg software xyz requires Java 8 to run. Refrain from pinning to specific patches of the JDK to allow users to consume security updates.

Development
-----

This cookbook uses
[test-kitchen](https://github.com/opscode/test-kitchen) for
integration tests and
[ChefSpec/RSpec](https://github.com/sethvargo/chefspec) for unit tests.
See [TESTING.md](https://github.com/agileorbit-cookbooks/java/blob/master/TESTING.md) for testing instructions.

At this time due to licensing concerns, the IBM recipe is not set up
in test kitchen. If you would like to test this locally, copy
.kitchen.yml to .kitchen.local.yml and add the following suite:
```yml
suites:
- name: ibm
  run_list: ["recipe[java]"]
  attributes:
    java:
      install_flavor: "ibm"
      ibm:
        accept_ibm_download_terms: true
        url: "http://jenkins/ibm-java-x86_64-sdk-7.0-4.1.bin"
        checksum: the-sha256-checksum
```

Log into the IBM DeveloperWorks site to download a copy of the IBM
Java SDK you wish to use/test, host it on an internal HTTP server, and
calculate the SHA256 checksum to use in the suite.

License and Author
-----
* Author: Eric Helgeson (<erichelgeson@gmail.com>)

Copyright: 2014-2015, Agile Orbit, LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/README.md to tempfile /tmp/chef-rest20160914-18248-13dqpoe
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/README.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/providers/repository.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000031c69b8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/providers/repository.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000031c6ad0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "providers",
   "repository.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/metadata.json to tempfile /tmp/chef-rest20160914-18248-1kcn7p8
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/metadata.json in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003813460
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/java/templates/default/ibm_jdk.installer.properties.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003813528>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "templates",
   "default",
   "ibm_jdk.installer.properties.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
INSTALLER_UI=silent
USER_INSTALL_DIR=<%= node['java']['java_home'] %>
-fileOverwrite_<%= node['java']['java_home'] %>_uninstall/uninstall.lax=Yes
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/ibm_jdk.installer.properties.erb to tempfile /tmp/chef-rest20160914-18248-128jhn8
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000378db80
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/TESTING.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000378dd88>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "TESTING.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
Testing the java cookbook
=====

This cookbook includes both unit tests via [ChefSpec](https://github.com/sethvargo/chefspec) and integration tests via [Test Kitchen](https://github.com/test-kitchen/test-kitchen). Contributions to this cookbook will only be accepted if all tests pass successfully:

```bash
kitchen test
chef exec rspec
```

Setting up the test environment
-----

Install the latest version of [Vagrant](http://www.vagrantup.com/downloads.html) and [VirtualBox](https://www.virtualbox.org/wiki/Downloads) (free) or [VMWare Fusion](http://www.vmware.com/products/fusion) (paid).

The Chef tooling (chefspec/test kitchen/etc) is managed by the [Chef Development Kit](http://downloads.getchef.com/chef-dk/) - Version 0.3.4

Clone the latest version of the cookbook from the repository.

```bash
git clone git@github.com:agileorbit-cookbooks/java.git
cd java
```

Running ChefSpec
-----

ChefSpec unit tests are located in `spec`. Each recipe has a `recipename_spec.rb` file that contains unit tests for that recipe. Your new functionality or bug fix should have corresponding test coverage - if it's a change, make sure it doesn't introduce a regression (existing tests should pass). If it's a change or introduction of new functionality, add new tests as appropriate.

To run ChefSpec for the whole cookbook:

`chef exec rspec`

To run ChefSpec for a specific recipe:

`chef exec rspec spec/set_java_home_spec.rb`

Running Test Kitchen
-----

Test Kitchen test suites are defined in [.kitchen.yml](https://github.com/agileorbit-cookbooks/java/blob/master/.kitchen.yml). Running `kitchen test` will cause Test Kitchen to spin up each platform VM in turn, running the `java::default` recipe with differing parameters in order to test all possible combinations of platform, install_flavor, and JDK version. If the Chef run completes successfully, corresponding tests in `test/integration` are executed. These must also pass.
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/TESTING.md to tempfile /tmp/chef-rest20160914-18248-1udov09
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/TESTING.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/recipes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/templates/default/ibm_jdk.installer.properties.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java/templates
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/java/templates/default
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/java/ISSUES.md
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003319c98
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/ISSUES.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003319d60>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "ISSUES.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/recipes/cacher-ng.rb
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/providers/preference.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001f195e0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/providers/preference.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001f197e8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "providers",
   "preference.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Provider:: preference
#
# Copyright 2010-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

use_inline_resources

def whyrun_supported?
  true
end

# Build preferences.d file contents
def build_pref(package_name, pin, pin_priority)
  "Package: #{package_name}\nPin: #{pin}\nPin-Priority: #{pin_priority}\n"
end

def safe_name(name)
  name.tr('.', '_').gsub('*', 'wildcard')
end

action :add do
  preference = build_pref(
    new_resource.glob || new_resource.package_name,
    new_resource.pin,
    new_resource.pin_priority
  )

  directory '/etc/apt/preferences.d' do
    owner 'root'
    group 'root'
    mode '0755'
    recursive true
    action :create
  end

  name = safe_name(new_resource.name)

  file "/etc/apt/preferences.d/#{new_resource.name}.pref" do
    action :delete
    if ::File.exist?("/etc/apt/preferences.d/#{new_resource.name}.pref")
      Chef::Log.warn "Replacing #{new_resource.name}.pref with #{name}.pref in /etc/apt/preferences.d/"
    end
    only_if { name != new_resource.name }
  end

  file "/etc/apt/preferences.d/#{new_resource.name}" do
    action :delete
    if ::File.exist?("/etc/apt/preferences.d/#{new_resource.name}")
      Chef::Log.warn "Replacing #{new_resource.name} with #{new_resource.name}.pref in /etc/apt/preferences.d/"
    end
  end

  file "/etc/apt/preferences.d/#{name}.pref" do
    owner 'root'
    group 'root'
    mode '0644'
    content preference
    action :create
  end
end

action :remove do
  name = safe_name(new_resource.name)
  if ::File.exist?("/etc/apt/preferences.d/#{name}.pref")
    Chef::Log.info "Un-pinning #{name} from /etc/apt/preferences.d/"
    file "/etc/apt/preferences.d/#{name}.pref" do
      action :delete
    end
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/preference.rb to tempfile /tmp/chef-rest20160914-18248-1apqyqt
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/providers/preference.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/providers
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/recipes/cacher-client.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001c01b28
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/recipes/cacher-client.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001c01d30>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "recipes",
   "cacher-client.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Recipe:: cacher-client
#
# Copyright 2011-2016 Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

class ::Chef::Recipe
  include ::Apt
end

# remove Acquire::http::Proxy lines from /etc/apt/apt.conf since we use 01proxy
# these are leftover from preseed installs
execute 'Remove proxy from /etc/apt/apt.conf' do
  command "sed --in-place '/^Acquire::http::Proxy/d' /etc/apt/apt.conf"
  only_if 'grep Acquire::http::Proxy /etc/apt/apt.conf'
end

servers = []
if node['apt']
  if node['apt']['cacher_ipaddress']
    cacher = Chef::Node.new
    cacher.default.name = node['apt']['cacher_ipaddress']
    cacher.default.ipaddress = node['apt']['cacher_ipaddress']
    cacher.default.apt.cacher_port = node['apt']['cacher_port']
    cacher.default.apt.cacher_interface = node['apt']['cacher_interface']
    cacher.default.apt.cacher_ssl_support = node['apt']['cacher_ssl_support']
    servers << cacher
  elsif node['apt']['caching_server']
    node.override['apt']['compiletime'] = false
    servers << node
  end
end

unless Chef::Config[:solo] || !servers.empty?
  query = 'apt_caching_server:true'
  query += " AND chef_environment:#{node.chef_environment}" if node['apt']['cacher-client']['restrict_environment']
  Chef::Log.debug("apt::cacher-client searching for '#{query}'")
  servers += search(:node, query)
end

if !servers.empty?
  Chef::Log.info("apt-cacher-ng server found on #{servers[0]}.")
  cacher_ipaddress = if servers[0]['apt']['cacher_interface']
                       interface_ipaddress(servers[0], servers[0]['apt']['cacher_interface'])
                     else
                       servers[0].ipaddress
                     end
  t = template '/etc/apt/apt.conf.d/01proxy' do
    source '01proxy.erb'
    owner 'root'
    group 'root'
    mode '0644'
    variables(
      proxy: cacher_ipaddress,
      port: servers[0]['apt']['cacher_port'],
      proxy_ssl: servers[0]['apt']['cacher_ssl_support'],
      bypass: node['apt']['cache_bypass']
    )
    action(node['apt']['compiletime'] ? :nothing : :create)
    notifies :run, 'execute[apt-get update]', :immediately
  end
  t.run_action(:create) if node['apt']['compiletime']
else
  Chef::Log.info('No apt-cacher-ng server found.')
  file '/etc/apt/apt.conf.d/01proxy' do
    action :delete
  end
end

include_recipe 'apt::default'
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-client.rb to tempfile /tmp/chef-rest20160914-18248-8nnw7i
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/recipes/cacher-client.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/recipes
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/recipes/unattended-upgrades.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001b27a68
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/apt/recipes/unattended-upgrades.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001b27c70>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "recipes",
   "unattended-upgrades.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
name=<%= @name %>
priority=<%= @priority %>
section=main

<% @bin_cmds.each do |cmd| -%>jdk <%= cmd %> <%= @app_dir %>/bin/<%= cmd %>
<% end -%>
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/templates/default/oracle.jinfo.erb to tempfile /tmp/chef-rest20160914-18248-1257pfc
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/templates/default/oracle.jinfo.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/libraries/helpers.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001a68690
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/libraries/helpers.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001a687f8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "libraries",
   "helpers.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/.rubocop.yml to tempfile /tmp/chef-rest20160914-18248-14u74at
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/.rubocop.yml in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
Java Cookbook Issues
=======================
This file documents the steps necessary to report and issue with the Java cookbook. Following these guidelines will help ensure your issue is resolved in a timely manner.

Reporting
---------
When you report an issue, please include the following information:

- A high-level overview of what you are trying to accomplish
- An [SSCCE](http://sscce.org/) _Short, Self Contained, Correct (Compilable), Example_
- The command you ran
- What you expected to happen
- What actually happened
- The exception backtrace(s), if any
- What operating system and version
- Everything output by running `env`
- What version of the cookbook are you using?
- What version of Ruby you are using (run `ruby -v`)
- What version of Rubygems you are using (run `gem -v`)
- What version of Chef you are using (run `knife -v`)

Here's a snippet you can copy-paste into the issue and fill out:

```text
(What is the issue? What are you trying to do? What happened?)

- Command: `...`
- OS:
- Cookbook Version:
- Ruby Version:
- Rubygems Version:
- Chef Version:
- env:
    ```text
    # Paste your env here
    ```
- Backtrace:
    ```text
    # Paste backtrace here
    ```
```

[Create a ticket](https://github.com/agileorbit-cookbooks/java/issues/new) describing your problem and include the information above.
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/ISSUES.md to tempfile /tmp/chef-rest20160914-18248-1ymxoj
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/ISSUES.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/libraries/matchers.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000123d448
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/libraries/matchers.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000123d588>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "libraries",
   "matchers.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003298828
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/resources/repository.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000032988f0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "resources",
   "repository.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Resource:: repository
#
# Copyright 2010-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

actions :add, :remove
default_action :add

state_attrs :arch,
            :cache_rebuild,
            :components,
            :cookbook,
            :deb_src,
            :distribution,
            :key,
            :keyserver,
            :key_proxy,
            :repo_name,
            :trusted,
            :uri,
            :sensitive

# name of the repo, used for source.list filename
attribute :repo_name, kind_of: String, name_attribute: true, regex: [/^([a-z]|[A-Z]|[0-9]|_|-|\.)+$/]
attribute :uri, kind_of: String
attribute :distribution, kind_of: String
attribute :components, kind_of: Array, default: []
attribute :arch, kind_of: String, default: nil
attribute :trusted, kind_of: [TrueClass, FalseClass], default: false
# whether or not to add the repository as a source repo as well
attribute :deb_src, default: false
attribute :keyserver, kind_of: String, default: nil
attribute :key, kind_of: String, default: nil
attribute :key_proxy, kind_of: String, default: node['apt']['key_proxy']
attribute :cookbook, kind_of: String, default: nil
# trigger cache rebuild
# If not you can trigger in the recipe itself after checking the status of resource.updated{_by_last_action}?
attribute :cache_rebuild, kind_of: [TrueClass, FalseClass], default: true
# Hide content of the source file, don't show output for commands being run, etc.
attribute :sensitive, kind_of: [TrueClass, FalseClass], default: false
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/repository.rb to tempfile /tmp/chef-rest20160914-18248-2f7mz8
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/resources/repository.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/resources
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003254ba0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/resources/preference.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003254d30>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "resources",
   "preference.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Resource:: preference
#
# Copyright 2010-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

actions :add, :remove
default_action :add

state_attrs :glob,
            :package_name,
            :pin,
            :pin_priority

attribute :package_name, kind_of: String, name_attribute: true, regex: [/^([a-z]|[A-Z]|[0-9]|_|-|\.|\*|\+)+$/]
attribute :glob, kind_of: String
attribute :pin, kind_of: String
attribute :pin_priority, kind_of: String
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/resources/preference.rb to tempfile /tmp/chef-rest20160914-18248-3er2ha
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/resources/preference.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Provider:: repository
#
# Copyright 2010-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

use_inline_resources

def whyrun_supported?
  true
end

# install apt key from keyserver
def install_key_from_keyserver(key, keyserver, key_proxy)
  execute "install-key #{key}" do
    if keyserver.start_with?('hkp://')
      command "apt-key adv --keyserver #{keyserver} --recv #{key}"
    elsif key_proxy.empty?
      command "apt-key adv --keyserver hkp://#{keyserver}:80 --recv #{key}"
    else
      command "apt-key adv --keyserver-options http-proxy=#{key_proxy} --keyserver hkp://#{keyserver}:80 --recv #{key}"
    end
    sensitive new_resource.sensitive if respond_to?(:sensitive)
    action :run
    not_if do
      key_present = extract_fingerprints_from_cmd('apt-key finger').any? do |fingerprint|
        fingerprint.end_with?(key.upcase)
      end

      key_present && key_is_valid('apt-key list', key.upcase)
    end
  end

  ruby_block "validate-key #{key}" do
    block do
      raise "The key #{key} is no longer valid and cannot be used for an apt repository."
    end
    not_if { key_is_valid('apt-key list', key.upcase) }
  end
end

# run command and extract gpg ids
def extract_fingerprints_from_cmd(cmd)
  so = Mixlib::ShellOut.new(cmd, env: { 'LANG' => 'en_US', 'LANGUAGE' => 'en_US' })
  so.run_command
  so.stdout.split(/\n/).map do |t|
    if z = t.match(/^ +Key fingerprint = ([0-9A-F ]+)/) # rubocop: disable Lint/AssignmentInCondition
      z[1].split.join
    end
  end.compact
end

# determine whether apt thinks the key is still valid
def key_is_valid(cmd, key)
  valid = true

  so = Mixlib::ShellOut.new(cmd, env: { 'LANG' => 'en_US', 'LANGUAGE' => 'en_US' })
  so.run_command
  # rubocop:disable Style/Next
  so.stdout.split(/\n/).map do |t|
    if t =~ %r{^\/#{key}.*\[expired: .*\]$}
      Chef::Log.debug "Found expired key: #{t}"
      valid = false
      break
    end
  end

  Chef::Log.debug "key #{key} validity: #{valid}"
  valid
end

# install apt key from URI
def install_key_from_uri(uri)
  key_name = uri.split(%r{\/}).last
  cached_keyfile = "#{Chef::Config[:file_cache_path]}/#{key_name}"
  if new_resource.key =~ /http/
    remote_file cached_keyfile do
      source new_resource.key
      mode '0644'
      sensitive new_resource.sensitive if respond_to?(:sensitive)
      action :create
    end
  else
    cookbook_file cached_keyfile do
      source new_resource.key
      cookbook new_resource.cookbook
      mode '0644'
      sensitive new_resource.sensitive if respond_to?(:sensitive)
      action :create
    end

    ruby_block "validate-key #{cached_keyfile}" do
      block do
        raise "The key #{cached_keyfile} is no longer valid and cannot be used for an apt repository." unless key_is_valid("gpg #{cached_keyfile}", '')
      end
    end
  end

  execute "install-key #{key_name}" do
    command "apt-key add #{cached_keyfile}"
    sensitive new_resource.sensitive if respond_to?(:sensitive)
    action :run
    not_if do
      installed_keys = extract_fingerprints_from_cmd('apt-key finger')
      proposed_keys = extract_fingerprints_from_cmd("gpg --with-fingerprint #{cached_keyfile}")
      (installed_keys & proposed_keys).sort == proposed_keys.sort
    end
  end
end

# build repo file contents
def build_repo(uri, distribution, components, trusted, arch, add_deb_src) # rubocop: disable Metrics/ParameterLists
  uri = '"' + uri + '"' unless uri.start_with?('"', "'")
  components = components.join(' ') if components.respond_to?(:join)
  repo_options = []
  repo_options << "arch=#{arch}" if arch
  repo_options << 'trusted=yes' if trusted
  repo_opts = '[' + repo_options.join(' ') + ']' unless repo_options.empty?
  repo_info = "#{repo_opts} #{uri} #{distribution} #{components}\n".lstrip
  repo =  "deb     #{repo_info}"
  repo << "deb-src #{repo_info}" if add_deb_src
  repo
end

def get_ppa_key(ppa_owner, ppa_repo, key_proxy)
  # Launchpad has currently only one stable API which is marked as EOL April 2015.
  # The new api in devel still uses the same api call for +archive, so I made the version
  # configurable to provide some sort of workaround if api 1.0 ceases to exist.
  # See https://launchpad.net/+apidoc/
  launchpad_ppa_api = "https://launchpad.net/api/#{node['apt']['launchpad_api_version']}/~%s/+archive/%s"
  default_keyserver = 'keyserver.ubuntu.com'

  require 'open-uri'
  api_query = format("#{launchpad_ppa_api}/signing_key_fingerprint", ppa_owner, ppa_repo)
  begin
    key_id = open(api_query).read.delete('"')
  rescue OpenURI::HTTPError => e
    error = 'Could not access launchpad ppa key api: HttpError: ' + e.message
    raise error
  rescue SocketError => e
    error = 'Could not access launchpad ppa key api: SocketError: ' + e.message
    raise error
  end

  install_key_from_keyserver(key_id, default_keyserver, key_proxy)
end

# fetch ppa key, return full repo url
def get_ppa_url(ppa, key_proxy)
  repo_schema = 'http://ppa.launchpad.net/%s/%s/ubuntu'

  # ppa:user/repo logic ported from
  # http://bazaar.launchpad.net/~ubuntu-core-dev/software-properties/main/view/head:/softwareproperties/ppa.py#L86
  return false unless ppa.start_with?('ppa:')

  ppa_name = ppa.split(':')[1]
  ppa_owner = ppa_name.split('/')[0]
  ppa_repo  = ppa_name.split('/')[1]
  ppa_repo  = 'ppa' if ppa_repo.nil?

  get_ppa_key(ppa_owner, ppa_repo, key_proxy)

  format(repo_schema, ppa_owner, ppa_repo)
end

action :add do
  # add key
  if new_resource.keyserver && new_resource.key
    install_key_from_keyserver(new_resource.key, new_resource.keyserver, new_resource.key_proxy)
  elsif new_resource.key
    install_key_from_uri(new_resource.key)
  end

  file '/var/lib/apt/periodic/update-success-stamp' do
    action :nothing
  end

  execute 'apt-cache gencaches' do
    ignore_failure true
    action :nothing
  end

  execute 'apt-get update' do
    command "apt-get update -o Dir::Etc::sourcelist='sources.list.d/#{new_resource.name}.list' -o Dir::Etc::sourceparts='-' -o APT::Get::List-Cleanup='0'"
    ignore_failure true
    sensitive new_resource.sensitive if respond_to?(:sensitive)
    action :nothing
    notifies :run, 'execute[apt-cache gencaches]', :immediately
  end

  repository = if new_resource.uri.start_with?('ppa:')
                 # build ppa repo file
                 build_repo(
                   get_ppa_url(new_resource.uri, new_resource.key_proxy),
                   new_resource.distribution,
                   'main',
                   new_resource.trusted,
                   new_resource.arch,
                   new_resource.deb_src
                 )
               else
                 # build repo file
                 build_repo(
                   new_resource.uri,
                   new_resource.distribution,
                   new_resource.components,
                   new_resource.trusted,
                   new_resource.arch,
                   new_resource.deb_src
                 )
               end

  file "/etc/apt/sources.list.d/#{new_resource.name}.list" do
    owner 'root'
    group 'root'
    mode '0644'
    content repository
    sensitive new_resource.sensitive if respond_to?(:sensitive)
    action :create
    notifies :delete, 'file[/var/lib/apt/periodic/update-success-stamp]', :immediately
    notifies :run, 'execute[apt-get update]', :immediately if new_resource.cache_rebuild
  end
end

action :remove do
  if ::File.exist?("/etc/apt/sources.list.d/#{new_resource.name}.list")
    Chef::Log.info "Removing #{new_resource.name} repository from /etc/apt/sources.list.d/"
    file "/etc/apt/sources.list.d/#{new_resource.name}.list" do
      sensitive new_resource.sensitive if respond_to?(:sensitive)
      action :delete
    end
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/providers/repository.rb to tempfile /tmp/chef-rest20160914-18248-10v01z6
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/providers/repository.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/files/default/apt-proxy-v2.conf
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000009d8d98
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/apt/files/default/apt-proxy-v2.conf",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000009d8e88>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "files",
   "default",
   "apt-proxy-v2.conf"]>

[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001e18718
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/recipes/default.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001e18970>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "recipes",
   "default.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Recipe:: default
#
# Copyright 2008-2016, Chef Software, Inc.
# Copyright 2009, Bryan McLellan <btm@loftninjas.org>
#
# Licensed under the Apache License, Version 2.0 (the 'License');
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an 'AS IS' BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# On systems where apt is not installed, the resources in this recipe are not
# executed. However, they _must_ still be present in the resource collection
# or other cookbooks which notify these resources will fail on non-apt-enabled
# systems.

if apt_installed?
  first_run_file = File.join(Chef::Config[:file_cache_path], 'apt_compile_time_update_first_run')

  file '/var/lib/apt/periodic/update-success-stamp' do
    owner 'root'
    group 'root'
    action :nothing
  end

  # If compile_time_update run apt-get update at compile time
  if node['apt']['compile_time_update'] && (!apt_up_to_date? || !::File.exist?(first_run_file))
    e = bash 'apt-get-update at compile time' do
      code <<-EOH
        apt-get update
        touch #{first_run_file}
      EOH
      ignore_failure true
      action :nothing
      notifies :touch, 'file[/var/lib/apt/periodic/update-success-stamp]', :immediately
    end
    e.run_action(:run)
  end

  # Updates 'apt-get update' timestamp after each update success
  directory '/etc/apt/apt.conf.d' do
    recursive true
  end

  cookbook_file '/etc/apt/apt.conf.d/15update-stamp' do
    source '15update-stamp'
  end

  # For other recipes to call to force an update
  execute 'apt-get update' do
    command 'apt-get update'
    ignore_failure true
    action :nothing
    notifies :touch, 'file[/var/lib/apt/periodic/update-success-stamp]', :immediately
  end

  # Automatically remove packages that are no longer needed for dependencies
  execute 'apt-get autoremove' do
    command 'apt-get -y autoremove'
    environment(
      'DEBIAN_FRONTEND' => 'noninteractive'
    )
    action :nothing
  end

  # Automatically remove .deb files for packages no longer on your system
  execute 'apt-get autoclean' do
    command 'apt-get -y autoclean'
    action :nothing
  end

  execute 'apt-get-update-periodic' do
    command 'apt-get update'
    ignore_failure true
    not_if { apt_up_to_date? }
    notifies :touch, 'file[/var/lib/apt/periodic/update-success-stamp]', :immediately
  end

  %w(/var/cache/local /var/cache/local/preseeding).each do |dirname|
    directory dirname do
      owner 'root'
      group 'root'
      mode '0755'
      action :create
    end
  end

  template '/etc/apt/apt.conf.d/10recommends' do
    owner 'root'
    group 'root'
    mode '0644'
    source '10recommends.erb'
  end

  package 'apt-transport-https'

else
  Chef::Log.debug 'apt is not installed. Apt-specific resources will not be executed.'
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/default.rb to tempfile /tmp/chef-rest20160914-18248-wmskpm
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/recipes/default.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/templates/default/01proxy.erb
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000033a2b38
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/java/LICENSE",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000033a2d40>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "java",
   "LICENSE"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
                              Apache License
                        Version 2.0, January 2004
                     http://www.apache.org/licenses/

TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

1. Definitions.

   "License" shall mean the terms and conditions for use, reproduction,
   and distribution as defined by Sections 1 through 9 of this document.

   "Licensor" shall mean the copyright owner or entity authorized by
   the copyright owner that is granting the License.

   "Legal Entity" shall mean the union of the acting entity and all
   other entities that control, are controlled by, or are under common
   control with that entity. For the purposes of this definition,
   "control" means (i) the power, direct or indirect, to cause the
   direction or management of such entity, whether by contract or
   otherwise, or (ii) ownership of fifty percent (50%) or more of the
   outstanding shares, or (iii) beneficial ownership of such entity.

   "You" (or "Your") shall mean an individual or Legal Entity
   exercising permissions granted by this License.

   "Source" form shall mean the preferred form for making modifications,
   including but not limited to software source code, documentation
   source, and configuration files.

   "Object" form shall mean any form resulting from mechanical
   transformation or translation of a Source form, including but
   not limited to compiled object code, generated documentation,
   and conversions to other media types.

   "Work" shall mean the work of authorship, whether in Source or
   Object form, made available under the License, as indicated by a
   copyright notice that is included in or attached to the work
   (an example is provided in the Appendix below).

   "Derivative Works" shall mean any work, whether in Source or Object
   form, that is based on (or derived from) the Work and for which the
   editorial revisions, annotations, elaborations, or other modifications
   represent, as a whole, an original work of authorship. For the purposes
   of this License, Derivative Works shall not include works that remain
   separable from, or merely link (or bind by name) to the interfaces of,
   the Work and Derivative Works thereof.

   "Contribution" shall mean any work of authorship, including
   the original version of the Work and any modifications or additions
   to that Work or Derivative Works thereof, that is intentionally
   submitted to Licensor for inclusion in the Work by the copyright owner
   or by an individual or Legal Entity authorized to submit on behalf of
   the copyright owner. For the purposes of this definition, "submitted"
   means any form of electronic, verbal, or written communication sent
   to the Licensor or its representatives, including but not limited to
   communication on electronic mailing lists, source code control systems,
   and issue tracking systems that are managed by, or on behalf of, the
   Licensor for the purpose of discussing and improving the Work, but
   excluding communication that is conspicuously marked or otherwise
   designated in writing by the copyright owner as "Not a Contribution."

   "Contributor" shall mean Licensor and any individual or Legal Entity
   on behalf of whom a Contribution has been received by Licensor and
   subsequently incorporated within the Work.

2. Grant of Copyright License. Subject to the terms and conditions of
   this License, each Contributor hereby grants to You a perpetual,
   worldwide, non-exclusive, no-charge, royalty-free, irrevocable
   copyright license to reproduce, prepare Derivative Works of,
   publicly display, publicly perform, sublicense, and distribute the
   Work and such Derivative Works in Source or Object form.

3. Grant of Patent License. Subject to the terms and conditions of
   this License, each Contributor hereby grants to You a perpetual,
   worldwide, non-exclusive, no-charge, royalty-free, irrevocable
   (except as stated in this section) patent license to make, have made,
   use, offer to sell, sell, import, and otherwise transfer the Work,
   where such license applies only to those patent claims licensable
   by such Contributor that are necessarily infringed by their
   Contribution(s) alone or by combination of their Contribution(s)
   with the Work to which such Contribution(s) was submitted. If You
   institute patent litigation against any entity (including a
   cross-claim or counterclaim in a lawsuit) alleging that the Work
   or a Contribution incorporated within the Work constitutes direct
   or contributory patent infringement, then any patent licenses
   granted to You under this License for that Work shall terminate
   as of the date such litigation is filed.

4. Redistribution. You may reproduce and distribute copies of the
   Work or Derivative Works thereof in any medium, with or without
   modifications, and in Source or Object form, provided that You
   meet the following conditions:

   (a) You must give any other recipients of the Work or
       Derivative Works a copy of this License; and

   (b) You must cause any modified files to carry prominent notices
       stating that You changed the files; and

   (c) You must retain, in the Source form of any Derivative Works
       that You distribute, all copyright, patent, trademark, and
       attribution notices from the Source form of the Work,
       excluding those notices that do not pertain to any part of
       the Derivative Works; and

   (d) If the Work includes a "NOTICE" text file as part of its
       distribution, then any Derivative Works that You distribute must
       include a readable copy of the attribution notices contained
       within such NOTICE file, excluding those notices that do not
       pertain to any part of the Derivative Works, in at least one
       of the following places: within a NOTICE text file distributed
       as part of the Derivative Works; within the Source form or
       documentation, if provided along with the Derivative Works; or,
       within a display generated by the Derivative Works, if and
       wherever such third-party notices normally appear. The contents
       of the NOTICE file are for informational purposes only and
       do not modify the License. You may add Your own attribution
       notices within Derivative Works that You distribute, alongside
       or as an addendum to the NOTICE text from the Work, provided
       that such additional attribution notices cannot be construed
       as modifying the License.

   You may add Your own copyright statement to Your modifications and
   may provide additional or different license terms and conditions
   for use, reproduction, or distribution of Your modifications, or
   for any such Derivative Works as a whole, provided Your use,
   reproduction, and distribution of the Work otherwise complies with
   the conditions stated in this License.

5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.

6. Trademarks. This License does not grant permission to use the trade
   names, trademarks, service marks, or product names of the Licensor,
   except as required for reasonable and customary use in describing the
   origin of the Work and reproducing the content of the NOTICE file.

7. Disclaimer of Warranty. Unless required by applicable law or
   agreed to in writing, Licensor provides the Work (and each
   Contributor provides its Contributions) on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
   implied, including, without limitation, any warranties or conditions
   of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
   PARTICULAR PURPOSE. You are solely responsible for determining the
   appropriateness of using or redistributing the Work and assume any
   risks associated with Your exercise of permissions under this License.

8. Limitation of Liability. In no event and under no legal theory,
   whether in tort (including negligence), contract, or otherwise,
   unless required by applicable law (such as deliberate and grossly
   negligent acts) or agreed to in writing, shall any Contributor be
   liable to You for damages, including any direct, indirect, special,
   incidental, or consequential damages of any character arising as a
   result of this License or out of the use or inability to use the
   Work (including but not limited to damages for loss of goodwill,
   work stoppage, computer failure or malfunction, or any and all
   other commercial damages or losses), even if such Contributor
   has been advised of the possibility of such damages.

9. Accepting Warranty or Additional Liability. While redistributing
   the Work or Derivative Works thereof, You may choose to offer,
   and charge a fee for, acceptance of support, warranty, indemnity,
   or other liability obligations and/or rights consistent with this
   License. However, in accepting such obligations, You may act only
   on Your own behalf and on Your sole responsibility, not on behalf
   of any other Contributor, and only if You agree to indemnify,
   defend, and hold each Contributor harmless for any liability
   incurred by, or claims asserted against, such Contributor by reason
   of your accepting any such warranty or additional liability.

END OF TERMS AND CONDITIONS

APPENDIX: How to apply the Apache License to your work.

   To apply the Apache License to your work, attach the following
   boilerplate notice, with the fields enclosed by brackets "[]"
   replaced with your own identifying information. (Don't include
   the brackets!)  The text should be enclosed in the appropriate
   comment syntax for the file format. We also recommend that a
   file or class name and description of purpose be included on the
   same "printed page" as the copyright notice for easier
   identification within third-party archives.

Copyright [yyyy] [name of copyright owner]

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/java/LICENSE to tempfile /tmp/chef-rest20160914-18248-11ejsss
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/java/LICENSE in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000001d7b8f0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/recipes/cacher-ng.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001d7bb70>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "recipes",
   "cacher-ng.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Recipe:: cacher-ng
#
# Copyright 2008-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the 'License');
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an 'AS IS' BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

node.set['apt']['caching_server'] = true

package 'apt-cacher-ng'

directory node['apt']['cacher_dir'] do
  owner 'apt-cacher-ng'
  group 'apt-cacher-ng'
  mode '0755'
end

template '/etc/apt-cacher-ng/acng.conf' do
  source 'acng.conf.erb'
  owner 'root'
  group 'root'
  mode '0644'
  notifies :restart, 'service[apt-cacher-ng]', :immediately
end

service 'apt-cacher-ng' do
  supports restart: true, status: false
  action [:enable, :start]
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/cacher-ng.rb to tempfile /tmp/chef-rest20160914-18248-507tnc
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/recipes/cacher-ng.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/templates/default/acng.conf.erb
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
if defined?(ChefSpec)
  def add_apt_preference(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:apt_preference, :add, resource_name)
  end

  def remove_apt_preference(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:apt_preference, :remove, resource_name)
  end

  def add_apt_repository(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:apt_repository, :add, resource_name)
  end

  def remove_apt_repository(resource_name)
    ChefSpec::Matchers::ResourceMatcher.new(:apt_repository, :remove, resource_name)
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/matchers.rb to tempfile /tmp/chef-rest20160914-18248-141brzf
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/libraries/matchers.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/libraries
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/templates/default/unattended-upgrades.seed.erb
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Recipe:: unattended-upgrades
#
# Copyright 2014-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the 'License');
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an 'AS IS' BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# On systems where apt is not installed, the resources in this recipe are not
# executed. However, they _must_ still be present in the resource collection
# or other cookbooks which notify these resources will fail on non-apt-enabled
# systems.
#

package 'unattended-upgrades' do
  response_file 'unattended-upgrades.seed.erb'
  action :install
end

package 'bsd-mailx' do
  only_if { node['apt']['unattended_upgrades']['mail'] }
end

template '/etc/apt/apt.conf.d/20auto-upgrades' do
  owner 'root'
  group 'root'
  mode '0644'
  source '20auto-upgrades.erb'
end

template '/etc/apt/apt.conf.d/50unattended-upgrades' do
  owner 'root'
  group 'root'
  mode '0644'
  source '50unattended-upgrades.erb'
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/recipes/unattended-upgrades.rb to tempfile /tmp/chef-rest20160914-18248-r7rlt3
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/recipes/unattended-upgrades.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/templates/default/50unattended-upgrades.erb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003aaa980
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/apt/templates/default/50unattended-upgrades.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003aaaa48>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "templates",
   "default",
   "50unattended-upgrades.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Library:: helpers
#
# Copyright 2013-2016 Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

module Apt
  # Helpers for apt
  module Helpers
    # Determines if apt is installed on a system.
    #
    # @return [Boolean]
    def apt_installed?
      !which('apt-get').nil?
    end

    # Determines whether we need to run `apt-get update`
    #
    # @return [Boolean]
    def apt_up_to_date?
      if ::File.exist?('/var/lib/apt/periodic/update-success-stamp') &&
         ::File.mtime('/var/lib/apt/periodic/update-success-stamp') > Time.now - node['apt']['periodic_update_min_delay']
        true
      else
        false
      end
    end

    # Finds a command in $PATH
    #
    # @return [String, nil]
    def which(cmd)
      ENV['PATH'] = '' if ENV['PATH'].nil?
      paths = (ENV['PATH'].split(::File::PATH_SEPARATOR) + %w(/bin /usr/bin /sbin /usr/sbin))

      paths.each do |path|
        possible = File.join(path, cmd)
        return possible if File.executable?(possible)
      end

      nil
    end
  end
end

Chef::Recipe.send(:include, ::Apt::Helpers)
Chef::Resource.send(:include, ::Apt::Helpers)
Chef::Provider.send(:include, ::Apt::Helpers)
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/helpers.rb to tempfile /tmp/chef-rest20160914-18248-1hagh04
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/libraries/helpers.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/templates/default/10recommends.erb
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/libraries/network.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000012909e0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/libraries/network.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000001291750>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "libraries",
   "network.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/files/default/15update-stamp
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003bed180
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/files/default/15update-stamp",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003bed2c0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "files",
   "default",
   "15update-stamp"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
APT::Update::Post-Invoke-Success {"touch /var/lib/apt/periodic/update-success-stamp 2>/dev/null || true";};
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/15update-stamp to tempfile /tmp/chef-rest20160914-18248-y3a7nf
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/files/default/15update-stamp in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/files
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/files/default
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/attributes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003ba4818
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/attributes/default.rb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003ba49d0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "attributes",
   "default.rb"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# Attributes:: default
#
# Copyright 2009-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

default['apt']['cacher-client']['restrict_environment'] = false
default['apt']['cacher_dir'] = '/var/cache/apt-cacher-ng'
default['apt']['cacher_interface'] = nil
default['apt']['cacher_port'] = 3142
default['apt']['cacher_ssl_support'] = false
default['apt']['caching_server'] = false
default['apt']['compiletime'] = false
default['apt']['compile_time_update'] = false
default['apt']['key_proxy'] = ''
default['apt']['cache_bypass'] = {}
default['apt']['periodic_update_min_delay'] = 86_400
default['apt']['launchpad_api_version'] = '1.0'
default['apt']['unattended_upgrades']['enable'] = false
default['apt']['unattended_upgrades']['update_package_lists'] = true
# this needs a good default
codename = node.attribute?('lsb') ? node['lsb']['codename'] : 'notlinux'
default['apt']['unattended_upgrades']['allowed_origins'] = [
  "#{node['platform'].capitalize} #{codename}"
]
default['apt']['unattended_upgrades']['package_blacklist'] = []
default['apt']['unattended_upgrades']['auto_fix_interrupted_dpkg'] = false
default['apt']['unattended_upgrades']['minimal_steps'] = false
default['apt']['unattended_upgrades']['install_on_shutdown'] = false
default['apt']['unattended_upgrades']['mail'] = nil
default['apt']['unattended_upgrades']['mail_only_on_error'] = true
default['apt']['unattended_upgrades']['remove_unused_dependencies'] = false
default['apt']['unattended_upgrades']['automatic_reboot'] = false
default['apt']['unattended_upgrades']['automatic_reboot_time'] = 'now'
default['apt']['unattended_upgrades']['dl_limit'] = nil

default['apt']['confd']['install_recommends'] = true
default['apt']['confd']['install_suggests'] = false
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/attributes/default.rb to tempfile /tmp/chef-rest20160914-18248-ax6y27
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/attributes/default.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/attributes
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/MAINTAINERS.md
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003902ba0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/MAINTAINERS.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003902c90>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "MAINTAINERS.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
<!-- This is a generated file. Please do not edit directly -->

# Maintainers
This file lists how this cookbook project is maintained. When making changes to the system, this
file tells you who needs to review your patch - you need a simple majority of maintainers
for the relevant subsystems to provide a :+1: on your pull request. Additionally, you need
to not receive a veto from a Lieutenant or the Project Lead.

Check out [How Cookbooks are Maintained](https://github.com/chef-cookbooks/community_cookbook_documentation/blob/master/CONTRIBUTING.MD) 
for details on the process and how to become a maintainer or the project lead.

# Project Maintainer
* [Tim Smith](https://github.com/tas50)

# Maintainers
* [Jennifer Davis](https://github.com/sigje)
* [Sean OMeara](https://github.com/someara)
* [Tim Smith](https://github.com/tas50)
* [Thom May](https://github.com/thommay)
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/MAINTAINERS.md to tempfile /tmp/chef-rest20160914-18248-1xkkvyd
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/MAINTAINERS.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/README.md
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003a35658
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/apt/templates/default/10recommends.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003a35810>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "templates",
   "default",
   "10recommends.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Managed by Chef
APT::Install-Recommends "<%= node['apt']['confd']['install_recommends'] ? 1 : 0 %>";
APT::Install-Suggests "<%= node['apt']['confd']['install_suggests'] ? 1 : 0 %>";
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/10recommends.erb to tempfile /tmp/chef-rest20160914-18248-15fofvj
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/templates/default/10recommends.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/templates
[2016-09-14T19:09:36+01:00] DEBUG: Creating directory /root/.chef/cookbooks/apt/templates/default
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/metadata.json
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003b497d8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/apt/templates/default/acng.conf.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003b498a0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "templates",
   "default",
   "acng.conf.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# Letter case in directive names does not matter. Must be separated with colons.
# Valid boolean values are a zero number for false, non-zero numbers for true.

CacheDir: <%= node['apt']['cacher_dir'] %>

# set empty to disable logging
LogDir: /var/log/apt-cacher-ng

# place to look for additional configuration and resource files if they are not
# found in the configuration directory
# SupportDir: /usr/lib/apt-cacher-ng

# TCP (http) port
# Set to 9999 to emulate apt-proxy
Port:<%= node['apt']['cacher_port'] %>

# Addresses or hostnames to listen on. Multiple addresses must be separated by
# spaces. Each entry must be an exact local address which is associated with a
# local interface. DNS resolution is performed using getaddrinfo(3) for all
# available protocols (IPv4, IPv6, ...). Using a protocol specific format will
# create binding(s) only on protocol specific socket(s) (e.g. 0.0.0.0 will listen
# only to IPv4).
#
# Default: not set, will listen on all interfaces and protocols
#
# BindAddress: localhost 192.168.7.254 publicNameOnMainInterface

# The specification of another proxy which shall be used for downloads.
# Username and password are, and see manual for limitations.
#
#Proxy: http://www-proxy.example.net:80
#proxy: username:proxypassword@proxy.example.net:3128

# Repository remapping. See manual for details.
# In this example, some backends files might be generated during package
# installation using information collected on the system.
Remap-debrep: file:deb_mirror*.gz /debian ; file:backends_debian # Debian Archives
Remap-uburep: file:ubuntu_mirrors /ubuntu ; file:backends_ubuntu # Ubuntu Archives
Remap-debvol: file:debvol_mirror*.gz /debian-volatile ; file:backends_debvol # Debian Volatile Archives
Remap-cygwin: file:cygwin_mirrors /cygwin # ; file:backends_cygwin # incomplete, please create this file or specify preferred mirrors here
Remap-sfnet:  file:sfnet_mirrors # ; file:backends_sfnet # incomplete, please create this file or specify preferred mirrors here
Remap-alxrep: file:archlx_mirrors /archlinux # ; file:backend_archlx # Arch Linux
Remap-fedora:  file:fedora_mirrors # Fedora Linux
Remap-epel:   file:epel_mirrors # Fedora EPEL
Remap-slrep:  file:sl_mirrors # Scientific Linux

# This is usually not needed for security.debian.org because it's always the
# same DNS hostname. However, it might be enabled in order to use hooks,
# ForceManaged mode or special flags in this context.
# Remap-secdeb: security.debian.org

# Virtual page accessible in a web browser to see statistics and status
# information, i.e. under http://localhost:3142/acng-report.html
ReportPage: acng-report.html

# Socket file for accessing through local UNIX socket instead of TCP/IP. Can be
# used with inetd bridge or cron client.
# SocketPath:/var/run/apt-cacher-ng/socket

# Forces log file to be written to disk after every line when set to 1. Default
# is 0, buffers are flushed when the client disconnects.
#
# (technically, alias to the Debug option, see its documentation for details)
#
# UnbufferLogs: 0

# Set to 0 to store only type, time and transfer sizes.
# 1 -> client IP and relative local path are logged too
# VerboseLog: 1

# Don't detach from the console
# ForeGround: 0

# Store the pid of the daemon process therein
# PidFile: /var/run/apt-cacher-ng/pid

# Forbid outgoing connections, work around them or respond with 503 error
# offlinemode:0

# Forbid all downloads that don't run through preconfigured backends (.where)
#ForceManaged: 0

# Days before considering an unreferenced file expired (to be deleted).
# Warning: if the value is set too low and particular index files are not
# available for some days (mirror downtime) there is a risk of deletion of
# still useful package files.
ExTreshold: 4

# Stop expiration when a critical problem appeared. Currently only failed
# refresh of an index file is considered as critical.
#
# WARNING: don't touch this option or set to zero.
# Anything else is DANGEROUS and may cause data loss.
#
# ExAbortOnProblems: 1

# Replace some Windows/DOS-FS incompatible chars when storing
# StupidFs: 0

# Experimental feature for apt-listbugs: pass-through SOAP requests and
# responses to/from bugs.debian.org. If not set, default is true if
# ForceManaged is enabled and false otherwise.
# ForwardBtsSoap: 1

# The daemon has a small cache for DNS data, to speed up resolution. The
# expiration time of the DNS entries can be configured in seconds.
# DnsCacheSeconds: 3600

# Don't touch the following values without good consideration!
#
# Max. count of connection threads kept ready (for faster response in the
# future). Should be a sane value between 0 and average number of connections,
# and depend on the amount of spare RAM.
# MaxStandbyConThreads: 8
#
# Hard limit of active thread count for incoming connections, i.e. operation
# is refused when this value is reached (below zero = unlimited).
# MaxConThreads: -1
#
# Pigeonholing files with regular expressions (static/volatile). Can be
# overriden here but not should not be done permanently because future update
# of default settings would not be applied later.
# VfilePattern = (^|.*?/)(Index|Packages(\.gz|\.bz2|\.lzma|\.xz)?|InRelease|Release|Release\.gpg|Sources(\.gz|\.bz2|\.lzma|\.xz)?|release|index\.db-.*\.gz|Contents-[^/]*(\.gz|\.bz2|\.lzma|\.xz)?|pkglist[^/]*\.bz2|rclist[^/]*\.bz2|/meta-release[^/]*|Translation[^/]*(\.gz|\.bz2|\.lzma|\.xz)?|MD5SUMS|SHA1SUMS|((setup|setup-legacy)(\.ini|\.bz2|\.hint)(\.sig)?)|mirrors\.lst|repo(index|md)\.xml(\.asc|\.key)?|directory\.yast|products|content(\.asc|\.key)?|media|filelists\.xml\.gz|filelists\.sqlite\.bz2|repomd\.xml|packages\.[a-zA-Z][a-zA-Z]\.gz|info\.txt|license\.tar\.gz|license\.zip|.*\.db(\.tar\.gz)?|.*\.files\.tar\.gz|.*\.abs\.tar\.gz|metalink\?repo|.*prestodelta\.xml\.gz)$|/dists/.*/installer-[^/]+/[^0-9][^/]+/images/.*
# PfilePattern = .*(\.d?deb|\.rpm|\.dsc|\.tar(\.gz|\.bz2|\.lzma|\.xz)(\.gpg)?|\.diff(\.gz|\.bz2|\.lzma|\.xz)|\.jigdo|\.template|changelog|copyright|\.udeb|\.debdelta|\.diff/.*\.gz|(Devel)?ReleaseAnnouncement(\?.*)?|[a-f0-9]+-(susedata|updateinfo|primary|deltainfo).xml.gz|fonts/(final/)?[a-z]+32.exe(\?download.*)?|/dists/.*/installer-[^/]+/[0-9][^/]+/images/.*)$
# Whitelist for expiration, file types not to be removed even when being
# unreferenced. Default: many parts from VfilePattern where no parent index
# exists or might be unknown.
# WfilePattern = (^|.*?/)(Release|InRelease|Release\.gpg|(Packages|Sources)(\.gz|\.bz2|\.lzma|\.xz)?|Translation[^/]*(\.gz|\.bz2|\.lzma|\.xz)?|MD5SUMS|SHA1SUMS|.*\.xml|.*\.db\.tar\.gz|.*\.files\.tar\.gz|.*\.abs\.tar\.gz|[a-z]+32.exe)$|/dists/.*/installer-.*/images/.*

# Higher modes only working with the debug version
# Warning, writes a lot into apt-cacher.err logfile
# Value overwrites UnbufferLogs setting (aliased)
# Debug:3

# Usually, general purpose proxies like Squid expose the IP address of the
# client user to the remote server using the X-Forwarded-For HTTP header. This
# behaviour can be optionally turned on with the Expose-Origin option.
# ExposeOrigin: 0

# When logging the originating IP address, trust the information supplied by
# the client in the X-Forwarded-For header.
# LogSubmittedOrigin: 0

# The version string reported to the peer, to be displayed as HTTP client (and
# version) in the logs of the mirror.
# WARNING: some archives use this header to detect/guess capabilities of the
# client (i.e. redirection support) and change the behaviour accordingly, while
# ACNG might not support the expected features. Expect side effects.
#
# UserAgent: Yet Another HTTP Client/1.2.3p4

# In some cases the Import and Expiration tasks might create fresh volatile
# data for internal use by reconstructing them using patch files. This
# by-product might be recompressed with bzip2 and with some luck the resulting
# file becomes identical to the *.bz2 file on the server, usable for APT
# clients trying to fetch the full .bz2 compressed version. Injection of the
# generated files into the cache has however a disadvantage on underpowered
# servers: bzip2 compression can create high load on the server system and the
# visible download of the busy .bz2 files also becomes slower.
#
# RecompBz2: 0

# Network timeout for outgoing connections.
# NetworkTimeout: 60

# Sometimes it makes sense to not store the data in cache and just return the
# package data to client as it comes in. DontCache parameters can enable this
# behaviour for certain URL types. The tokens are extended regular expressions
# that URLs are matched against.
#
# DontCacheRequested is applied to the URL as it comes in from the client.
# Example: exclude packages built with kernel-package for x86
# DontCacheRequested: linux-.*_10\...\.Custo._i386
# Example usecase: exclude popular private IP ranges from caching
# DontCacheRequested: 192.168.0 ^10\..* 172.30
#
# DontCacheResolved is applied to URLs after mapping to the target server. If
# multiple backend servers are specified then it's only matched against the
# download link for the FIRST possible source (due to implementation limits).
# Example usecase: all Ubuntu stuff comes from a local mirror (specified as
# backend), don't cache it again:
# DontCacheResolved: ubuntumirror.local.net
#
# DontCache directive sets (overrides) both, DontCacheResolved and
# DontCacheRequested.  Provided for convenience, see those directives for
# details.
#
# Default permission set of freshly created files and directories, as octal
# numbers (see chmod(1) for details).
# Can by limited by the umask value (see umask(2) for details) if it's set in
# the environment of the starting shell, e.g. in apt-cacher-ng init script or
# in its configuration file.
# DirPerms: 00755
# FilePerms: 00664
#
#
# It's possible to use use apt-cacher-ng as a regular web server with limited
# feature set, i.e.
# including directory browsing and download of any file;
# excluding sorting, mime types/encodings, CGI execution, index page
# redirection and other funny things.
# To get this behavior, mappings between virtual directories and real
# directories on the server must be defined with the LocalDirs directive.
# Virtual and real dirs are separated by spaces, multiple pairs are separated
# by semi-colons. Real directories must be absolute paths.
# NOTE: Since the names of that key directories share the same namespace as
# repository names (see Remap-...) it's administrators job to avoid such
# collisions on them (unless created deliberately).
#
# LocalDirs: woo /data/debarchive/woody ; hamm /data/debarchive/hamm

# Precache a set of files referenced by specified index files. This can be used
# to create a partial mirror usable for offline work. There are certain limits
# and restrictions on the path specification, see manual for details. A list of
# (maybe) relevant index files could be retrieved via
# "apt-get --print-uris update" on a client machine.
#
# PrecacheFor: debrep/dists/unstable/*/source/Sources* debrep/dists/unstable/*/binary-amd64/Packages*

# Arbitrary set of data to append to request headers sent over the wire. Should
# be a well formated HTTP headers part including newlines (DOS style) which
# can be entered as escape sequences (\r\n).
# RequestAppendix: X-Tracking-Choice: do-not-track\r\n

# Specifies the IP protocol families to use for remote connections. Order does
# matter, first specified are considered first. Possible combinations:
# v6 v4
# v4 v6
# v6
# v4
# (empty or not set: use system default)
#
# ConnectProto: v6 v4

# Regular expiration algorithm finds package files which are no longer listed
# in any index file and removes them of them after a safety period.
# This option allows to keep more versions of a package in the cache after
# safety period is over.
# KeepExtraVersions: 1

# Optionally uses TCP access control provided by libwrap, see hosts_access(5)
# for details. Daemon name is apt-cacher-ng. Default if not set: decided on
# startup by looking for explicit mentioning of apt-cacher-ng in
# /etc/hosts.allow or /etc/hosts.deny files.
# UseWrap: 0

# If many machines from the same local network attempt to update index files
# (apt-get update) at nearly the same time, the known state of these index file
# is temporarily frozen and multiple requests receive the cached response
# without contacting the server. This parameter (in seconds) specifies the
# length of this period before the files are considered outdated.
# Setting it too low transfers more data and increases remote server load,
# setting it too high (more than a couple of minutes) increases the risk of
# delivering inconsistent responses to the clients.
# FreshIndexMaxAge: 27

# Usually the users are not allowed to specify custom TCP ports of remote
# mirrors in the requests, only the default HTTP port can be used (instead,
# proxy administrator can create Remap- rules with custom ports). This
# restriction can be disabled by specifying a list of allowed ports or 0 for
# any port.
#
# AllowUserPorts: 80

# Normally the HTTP redirection responses are forwarded to the original caller
# (i.e. APT) which starts a new download attempt from the new URL. This
# solution is ok for client configurations with proxy mode but doesn't work
# well with configurations using URL prefixes. To work around this the server
# can restart its own download with another URL. However, this might be used to
# circumvent download source policies by malicious users.
# The RedirMax option specifies how many such redirects the server should
# follow per request, 0 disables the internal redirection. If not set,
# default value is 0 if ForceManaged is used and 5 otherwise.
#
# RedirMax: 5
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
// Automatically upgrade packages from these (origin:archive) pairs
Unattended-Upgrade::Allowed-Origins {
<% unless node['apt']['unattended_upgrades']['allowed_origins'].empty? -%>
<% node['apt']['unattended_upgrades']['allowed_origins'].each do |origin| -%>
	"<%= origin %>";
<% end -%>
<% end -%>
};


// List of packages to not update
Unattended-Upgrade::Package-Blacklist {
<% unless node['apt']['unattended_upgrades']['package_blacklist'].empty? -%>
<% node['apt']['unattended_upgrades']['package_blacklist'].each do |package| -%>
	"<%= package %>";
<% end -%>
<% end -%>
};

// This option allows you to control if on a unclean dpkg exit
// unattended-upgrades will automatically run 
//   dpkg --force-confold --configure -a
// The default is true, to ensure updates keep getting installed
Unattended-Upgrade::AutoFixInterruptedDpkg "<%= node['apt']['unattended_upgrades']['auto_fix_interrupted_dpkg'] ? 'true' : 'false' %>";

// Split the upgrade into the smallest possible chunks so that
// they can be interrupted with SIGUSR1. This makes the upgrade
// a bit slower but it has the benefit that shutdown while a upgrade
// is running is possible (with a small delay)
Unattended-Upgrade::MinimalSteps "<%= node['apt']['unattended_upgrades']['minimal_steps'] ? 'true' : 'false' %>";

// Install all unattended-upgrades when the machine is shuting down
// instead of doing it in the background while the machine is running
// This will (obviously) make shutdown slower
Unattended-Upgrade::InstallOnShutdown "<%= node['apt']['unattended_upgrades']['install_on_shutdown'] ? 'true' : 'false' %>";

// Send email to this address for problems or packages upgrades
// If empty or unset then no email is sent, make sure that you
// have a working mail setup on your system. A package that provides
// 'mailx' must be installed.
<% if node['apt']['unattended_upgrades']['mail'] -%>
Unattended-Upgrade::Mail "<%= node['apt']['unattended_upgrades']['mail'] %>";
<% end -%>

// Set this value to "true" to get emails only on errors. Default
// is to always send a mail if Unattended-Upgrade::Mail is set
Unattended-Upgrade::MailOnlyOnError "<%= node['apt']['unattended_upgrades']['mail_only_on_error'] ? 'true' : 'false' %>";

// Do automatic removal of new unused dependencies after the upgrade
// (equivalent to apt-get autoremove)
Unattended-Upgrade::Remove-Unused-Dependencies "<%= node['apt']['unattended_upgrades']['remove_unused_dependencies'] ? 'true' : 'false' %>";

// Automatically reboot *WITHOUT CONFIRMATION* if a 
// the file /var/run/reboot-required is found after the upgrade 
Unattended-Upgrade::Automatic-Reboot "<%= node['apt']['unattended_upgrades']['automatic_reboot'] ? 'true' : 'false' %>";

// If automatic reboot is enabled and needed, reboot at the specific
// time instead of immediately
//  Default: "now"
<% if node['apt']['unattended_upgrades']['automatic_reboot'] -%>
Unattended-Upgrade::Automatic-Reboot-Time "<%= node['apt']['unattended_upgrades']['automatic_reboot_time'] %>";
<% end %>

// Use apt bandwidth limit feature, this example limits the download
// speed to 70kb/sec
<% if node['apt']['unattended_upgrades']['dl_limit'] -%>
Acquire::http::Dl-Limit "<%= node['apt']['unattended_upgrades']['dl_limit'] %>";
<% end -%>
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/50unattended-upgrades.erb to tempfile /tmp/chef-rest20160914-18248-1hs599p
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/templates/default/50unattended-upgrades.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/CHANGELOG.md
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/templates/default/20auto-upgrades.erb
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003811a48
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/apt/templates/default/20auto-upgrades.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003811b38>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "templates",
   "default",
   "20auto-upgrades.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
APT::Periodic::Update-Package-Lists "<%= node['apt']['unattended_upgrades']['update_package_lists'] ? 1 : 0 %>";
APT::Periodic::Unattended-Upgrade "<%= node['apt']['unattended_upgrades']['enable'] ? 1 : 0 %>";
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
[DEFAULT]
;; All times are in seconds, but you can add a suffix
;; for minutes(m), hours(h) or days(d)

;; commented out address so apt-proxy will listen on all IPs
;; address = 127.0.0.1
port = 9999
cache_dir = /var/cache/apt-proxy

;; Control files (Packages/Sources/Contents) refresh rate
min_refresh_delay = 1s
complete_clientless_downloads = 1

;; Debugging settings.
debug = all:4 db:0

time = 30
passive_ftp = on

;;--------------------------------------------------------------
;; Cache housekeeping

cleanup_freq = 1d
max_age = 120d
max_versions = 3

;;---------------------------------------------------------------
;; Backend servers
;;
;; Place each server in its own [section]

[ubuntu]
; Ubuntu archive
backends =
        http://us.archive.ubuntu.com/ubuntu

[ubuntu-security]
; Ubuntu security updates
backends = http://security.ubuntu.com/ubuntu

[debian]
;; Backend servers, in order of preference
backends =
        http://debian.osuosl.org/debian/

[security]
;; Debian security archive
backends =
        http://security.debian.org/debian-security
        http://ftp2.de.debian.org/debian-security
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/files/default/apt-proxy-v2.conf to tempfile /tmp/chef-rest20160914-18248-1m5jx30
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/files/default/apt-proxy-v2.conf in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
#
# Cookbook Name:: apt
# library:: network
#
# Copyright 2013-2016, Chef Software, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

module ::Apt
  def interface_ipaddress(host, interface)
    if interface # rubocop: disable Style/GuardClause
      addresses = host['network']['interfaces'][interface]['addresses']
      addresses.select do |ip, data|
        return ip if data['family'].eql?('inet')
      end
    else
      return host.ipaddress
    end
  end
end
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/libraries/network.rb to tempfile /tmp/chef-rest20160914-18248-1gp3u1e
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/libraries/network.rb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: GET /organizations/chef/file_store/repo/cookbooks/apt/CONTRIBUTING.md
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000381ccb8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/CONTRIBUTING.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000381c088>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "CONTRIBUTING.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003859618
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/templates/default/01proxy.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000038596e0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "templates",
   "default",
   "01proxy.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
Acquire::http::Proxy "http://<%= @proxy %>:<%= @port %>";
<% if @proxy_ssl %>
Acquire::https::Proxy "http://<%= @proxy %>:<%= @port %>";
<% else %>
Acquire::https::Proxy "DIRECT";
<% end %>
<% @bypass.each do |bypass, type| %>
Acquire::<%= type %>::Proxy::<%= bypass %> "DIRECT";
<% end %>
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/01proxy.erb to tempfile /tmp/chef-rest20160914-18248-13xda1t
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/templates/default/01proxy.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x00000003af35b8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>
    "/file_store/repo/cookbooks/apt/templates/default/unattended-upgrades.seed.erb",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000003af36f8>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "templates",
   "default",
   "unattended-upgrades.seed.erb"]>

[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
unattended-upgrades unattended-upgrades/enable_auto_updates boolean <%= node['apt']['unattended_upgrades']['enable'] ? 'true' : 'false' %>
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/unattended-upgrades.seed.erb to tempfile /tmp/chef-rest20160914-18248-dlq1yf
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/templates/default/unattended-upgrades.seed.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/acng.conf.erb to tempfile /tmp/chef-rest20160914-18248-1hswk10
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/templates/default/acng.conf.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/templates/default/20auto-upgrades.erb to tempfile /tmp/chef-rest20160914-18248-kh8iyt
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/templates/default/20auto-upgrades.erb in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
Please refer to
https://github.com/chef-cookbooks/community_cookbook_documentation/blob/master/CONTRIBUTING.MD
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/CONTRIBUTING.md to tempfile /tmp/chef-rest20160914-18248-vqsr2z
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/CONTRIBUTING.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000374a8d0
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/CHANGELOG.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000374a998>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "CHANGELOG.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# apt Cookbook CHANGELOG
## 3.0.0 (2015-03-01)
- Removed Chef 10 compatibility code. This cookbook requires Chef 11 or greater now
- The default recipe will no longer create /etc/apt/ and other directories on non-Debian based systems
- Updated the autoremove command in the default recipe to run in non-interactive mode
- Added CentOS 7 to Test Kitchenwith tests to ensure we don't create any files on RHEL or other non-Debian hosts
- Updated Chefspec to 4.X format
- Properly mock the existence of apt for the Chefspec runs so they don't just skip over the resources
- Fixed lwrp test kitchen tests to pass
- Resolved or disabled all Rubocop warnings
- Enabled testing in Travis CI
- Removed Apt Cacher NG support for Ubuntu 10.04 and Debian 6.X as they are both deprecated
- Fixed + signs in packages names with the preference LWRP being rejected

## v2.9.2
- #168 Adding guard to package resource.

## v2.9.1
- Adding package apt-transport-https to default.rb

## v2.9.0
- Add `sensitive` flag for apt_repositories
- Enable installation of recommended or suggested packages
- Tidy up `apt-get update` logic
- Fixing not_if guard on ruby_block[validate-key #{key}]

## v2.8.2 (2015-08-24)
- Fix removal of apt_preferences

## v2.8.1 (2015-08-18)
- Handle keyservers as URLs and bare hostnames

## v2.8.0 (2015-08-18)
- Access keyservers on port 80
- Adds key_proxy as LWRP attribute for apt_repository
- Fix wildcard glob preferences files
- Fix text output verification for non en_US locales
- Quote repo URLs to deal with spaces

## v2.7.0 (2015-03-23)
- Support Debian 8.0
- Filename verification for LWRPs
- Support SSL enabled apt repositories

## v2.6.1 (2014-12-29)
- Remove old preference files without .pref extension from previous versions

## v2.6.0 (2014-09-09)
- Always update on first run - check
- Adding ppa support for apt_repository

## v2.5.3 (2014-08-14)
- #87 - Improve default settings, account for non-linux platforms

## v2.5.2 (2014-08-14)
- Fully restore 2.3.10 behaviour

## v2.5.1 (2014-08-14)
- fix breakage introduced in apt 2.5.0

## v2.5.0 (2014-08-12)
- Add unattended-upgrades recipe
- Only update the cache for the created repository
- Added ChefSpec matchers and default_action for resources
- Avoid cloning resource attributes
- Minor documentation updates

## v2.4.0 (2014-05-15)
- [COOK-4534]: Add option to update apt cache at compile time

## v2.3.10 (2014-04-23)
- [COOK-4512] Bugfix: Use empty PATH if PATH is nil

## v2.3.8 (2014-02-14)
### Bug
- **[COOK-4287](https://tickets.opscode.com/browse/COOK-4287)** - Cleanup the Kitchen

## v2.3.6
- [COOK-4154] - Add chefspec matchers.rb file to apt cookbook
- [COOK-4102] - Only index created repository

## v2.3.6
- [COOK-4154] - Add chefspec matchers.rb file to apt cookbook
- [COOK-4102] - Only index created repository

## v2.3.4
No change. Version bump for toolchain sanity

## v2.3.2
- [COOK-3905] apt-get-update-periodic: configuration for the update period
- Updating style for rubocops
- Updating test-kitchen harness

## v2.3.0
### Bug
- **[COOK-3812](https://tickets.opscode.com/browse/COOK-3812)** - Add a way to bypass the apt existence check

### Improvement
- **[COOK-3567](https://tickets.opscode.com/browse/COOK-3567)** - Allow users to bypass apt-cache via attributes

## v2.2.1
### Improvement
- **[COOK-664](https://tickets.opscode.com/browse/COOK-664)** - Check platform before running apt-specific commands

## v2.2.0
### Bug
- **[COOK-3707](https://tickets.opscode.com/browse/COOK-3707)** - multiple nics confuse apt::cacher-client

## v2.1.2
### Improvement
- **[COOK-3551](https://tickets.opscode.com/browse/COOK-3551)** - Allow user to set up a trusted APT repository

## v2.1.1
### Bug
- **[COOK-1856](https://tickets.opscode.com/browse/COOK-1856)** - Match GPG keys without case sensitivity

## v2.1.0
- [COOK-3426]: cacher-ng fails with restrict_environment set to true
- [COOK-2859]: cacher-client executes out of order
- [COOK-3052]: Long GPG keys are downloaded on every run
- [COOK-1856]: apt cookbook should match keys without case sensitivity
- [COOK-3255]: Attribute name incorrect in README
- [COOK-3225]: Call use_inline_resources only if defined
- [COOK-3386]: Cache dir for apt-cacher-ng
- [COOK-3291]: apt_repository: enable usage of a keyserver on port 80
- Greatly expanded test coverage with ChefSpec and Test-Kitchen

## v2.0.0
### Bug
- [COOK-2258]: apt: LWRP results in error under why-run mode in apt 1.9.0 cookbook

## v1.10.0
### Improvement
- [COOK-2885]: Improvements for apt cache server search

### Bug
- [COOK-2441]: Apt recipe broken in new chef version
- [COOK-2660]: Create Debian 6.0 "squeeze" specific template for
- apt-cacher-ng

## v1.9.2
- [COOK-2631] - Create Ubuntu 10.04 specific template for apt-cacher-ng

## v1.9.0
- [COOK-2185] - Proxy for apt-key
- [COOK-2338] - Support pinning by glob() or regexp

## v1.8.4
- [COOK-2171] - Update README to clarify required Chef version: 10.18.0
- or higher.

## v1.8.2
- [COOK-2112] - need [] around "arch" in sources.list entries
- [COOK-2171] - fixes a regression in the notification

## v1.8.0
- [COOK-2143] - Allow for a custom cacher-ng port
- [COOK-2171] - On `apt_repository.run_action(:add)` the source file
- is not created.
- [COOK-2184] - apt::cacher-ng, use `cacher_port` attribute in
- acng.conf

## v1.7.0
- [COOK-2082] - add "arch" parameter to apt_repository LWRP

## v1.6.0
- [COOK-1893] - `apt_preference` use "`package_name`" resource instead of "name"
- [COOK-1894] - change filename for sources.list.d files
- [COOK-1914] - Wrong dir permissions for /etc/apt/preferences.d/
- [COOK-1942] - README.md has wrong name for the keyserver attribute
- [COOK-2019] - create 01proxy before any other apt-get updates get executed

## v1.5.2
- [COOK-1682] - use template instead of file resource in apt::cacher-client
- [COOK-1875] - cacher-client should be Environment-aware

## V1.5.0
- [COOK-1500] - Avoid triggering apt-get update
- [COOK-1548] - Add execute commands for autoclean and autoremove
- [COOK-1591] - Setting up the apt proxy should leave https
- connections direct
- [COOK-1596] - execute[apt-get-update-periodic] never runs
- [COOK-1762] - create /etc/apt/preferences.d directory
- [COOK-1776] - apt key check isn't idempotent

## v1.4.8
- Adds test-kitchen support
- [COOK-1435] - repository lwrp is not idempotent with http key

## v1.4.6
- [COOK-1530] - apt_repository isn't aware of update-success-stamp
- file (also reverts COOK-1382 patch).

## v1.4.4
- [COOK-1229] - Allow cacher IP to be set manually in non-Chef Solo
- environments
- [COOK-1530] - Immediately update apt-cache when sources.list file is dropped off

## v1.4.2
- [COOK-1155] - LWRP for apt pinning

## v1.4.0
- [COOK-889] - overwrite existing repo source files
- [COOK-921] - optionally use cookbook_file or remote_file for key
- [COOK-1032] - fixes problem with apt repository key installation
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/CHANGELOG.md to tempfile /tmp/chef-rest20160914-18248-1gsnp48
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/CHANGELOG.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x000000037d4dc8
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/metadata.json",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x000000037d4fd0>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "metadata.json"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: #<ChefZero::RestRequest:0x0000000383ad58
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"GET",
   "PATH_INFO"=>"/file_store/repo/cookbooks/apt/README.md",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x0000000383ae98>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=
  ["organizations",
   "chef",
   "file_store",
   "repo",
   "cookbooks",
   "apt",
   "README.md"]>

[2016-09-14T19:09:36+01:00] DEBUG: No chefignore file found at /root/chefignore no files will be ignored
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
{"name":"apt","version":"3.0.0","description":"Configures apt and apt services. Ships resources for managing apt repositories","long_description":"# apt Cookbook\n[![Build Status](https://img.shields.io/travis/chef-cookbooks/apt.svg)][travis] [![Cookbook Version](https://img.shields.io/cookbook/v/apt.svg)][cookbook]\n\nThis cookbook includes recipes to execute apt-get update to ensure the local APT package cache is up to date. There are recipes for managing the apt-cacher-ng caching proxy and proxy clients. It also includes a LWRP for managing APT repositories in /etc/apt/sources.list.d as well as an LWRP for pinning packages via /etc/apt/preferences.d.\n\n## Requirements\n### Platforms\n- Ubuntu 12.04+\n- Debian 7+\n\nMay work with or without modification on other Debian derivatives.\n\n### Chef\n- Chef 11+\n\n### Cookbooks\n- None\n\n## Recipes\n### default\nThis recipe manually updates the timestamp file used to only run `apt-get update` if the cache is more than one day old.\n\nThis recipe should appear first in the run list of Debian or Ubuntu nodes to ensure that the package cache is up to date before managing any `package` resources with Chef.\n\nThis recipe also sets up a local cache directory for preseeding packages.\n\n**Including the default recipe on a node that does not support apt (such as Windows) results in a noop.**\n\n### cacher-client\nConfigures the node to use the `apt-cacher-ng` server as a client.\n\n#### Bypassing the cache\nOccasionally you may come across repositories that do not play nicely when the node is using an `apt-cacher-ng` server. You can configure `cacher-client` to bypass the server and connect directly to the repository with the `cache_bypass` attribute.\n\nTo do this, you need to override the `cache_bypass` attribute with an array of repositories, with each array key as the repository URL and value as the protocol to use:\n\n```json\n{\n    \"apt\": {\n        \"cache_bypass\": {\n            \"URL\": \"PROTOCOL\"\n        }\n    }\n}\n```\n\nFor example, to prevent caching and directly connect to the repository at `download.oracle.com` via http:\n\n```json\n{\n    \"apt\": {\n        \"cache_bypass\": {\n            \"download.oracle.com\": \"http\"\n        }\n    }\n}\n```\n\n### cacher-ng\nInstalls the `apt-cacher-ng` package and service so the system can provide APT caching. You can check the usage report at [http://{hostname}:3142/acng-report.html](http://{hostname}:3142/acng-report.html).\n\nIf you wish to help the `cacher-ng` recipe seed itself, you must now explicitly include the `cacher-client` recipe in your run list **after** `cacher-ng` or you will block your ability to install any packages (ie. `apt-cacher-ng`).\n\n### unattended-upgrades\nInstalls and configures the `unattended-upgrades` package to provide automatic package updates. This can be configured to upgrade all packages or to just install security updates by setting `['apt']['unattended_upgrades']['allowed_origins']`.\n\nTo pull just security updates, you'd set `allowed_origins` to something link `[\"Ubuntu trusty-security\"]` (for Ubuntu trusty) or `[\"Debian wheezy-security\"]` (for Debian wheezy).\n\n## Attributes\n### General\n- `['apt']['compile_time_update']` - force the default recipe to run `apt-get update` at compile time.\n- `['apt']['periodic_update_min_delay']` - minimum delay (in seconds) beetween two actual executions of `apt-get update` by the `execute[apt-get-update-periodic]` resource, default is '86400' (24 hours)\n\n### Caching\n- `['apt']['cacher_ipaddress']` - use a cacher server (or standard proxy server) not available via search\n- `['apt']['cacher_interface']` - interface to connect to the cacher-ng service, no default.\n- `['apt']['cacher_port']` - port for the cacher-ng service (either client or server), default is '3142'\n- `['apt']['cacher_ssl_support']` - indicates whether the cacher supports upstream SSL servers, default is 'false'\n- `['apt']['cacher_dir']` - directory used by cacher-ng service, default is '/var/cache/apt-cacher-ng'\n- `['apt']['cacher-client']['restrict_environment']` - restrict your node to using the `apt-cacher-ng` server in your Environment, default is 'false'\n- `['apt']['compiletime']` - force the `cacher-client` recipe to run before other recipes. It forces apt to use the proxy before other recipes run. Useful if your nodes have limited access to public apt repositories. This is overridden if the `cacher-ng` recipe is in your run list. Default is 'false'\n- `['apt']['cache_bypass']` - array of URLs to bypass the cache. Accepts the URL and protocol to  fetch directly from the remote repository and not attempt to cache\n\n### Unattended Upgrades\n- `['apt']['unattended_upgrades']['enable']` - enables unattended upgrades, default is false\n- `['apt']['unattended_upgrades']['update_package_lists']` - automatically update package list (`apt-get update`) daily, default is true\n- `['apt']['unattended_upgrades']['allowed_origins']` - array of allowed apt origins from which to pull automatic upgrades, defaults to a guess at the system's main origin and should almost always be overridden\n- `['apt']['unattended_upgrades']['package_blacklist']` - an array of package which should never be automatically upgraded, defaults to none\n- `['apt']['unattended_upgrades']['auto_fix_interrupted_dpkg']` - attempts to repair dpkg state with `dpkg --force-confold --configure -a` if it exits uncleanly, defaults to false (contrary to the unattended-upgrades default)\n- `['apt']['unattended_upgrades']['minimal_steps']` - Split the upgrade into the smallest possible chunks. This makes the upgrade a bit slower but it has the benefit that shutdown while a upgrade is running is possible (with a small delay). Defaults to false.\n- `['apt']['unattended_upgrades']['install_on_shutdown']` - Install upgrades when the machine is shuting down instead of doing it in the background while the machine is running. This will (obviously) make shutdown slower. Defaults to false.\n- `['apt']['unattended_upgrades']['mail']` - Send email to this address for problems or packages upgrades. Defaults to no email.\n- `['apt']['unattended_upgrades']['mail_only_on_error']` - If set, email will only be set on upgrade errors. Otherwise, an email will be sent after each upgrade. Defaults to true.\n- `['apt']['unattended_upgrades']['remove_unused_dependencies']` Do automatic removal of new unused dependencies after the upgrade. Defaults to false.\n- `['apt']['unattended_upgrades']['automatic_reboot']` - Automatically reboots _without confirmation_ if a restart is required after the upgrade. Defaults to false.\n- `['apt']['unattended_upgrades']['dl_limit']` - Limits the bandwidth used by apt to download packages. Value given as an integer in kb/sec. Defaults to nil (no limit).\n\n### Configuration for APT\n- `['apt']['confd']['install_recommends']` - Consider recommended packages as a dependency for installing. (default: true)\n- `['apt']['confd']['install_suggests']` - Consider suggested packages as a dependency for installing. (default: false)\n\n## Libraries\nThere is an `interface_ipaddress` method that returns the IP address for a particular host and interface, used by the `cacher-client` recipe. To enable it on the server use the `['apt']['cacher_interface']` attribute.\n\n## Resources/Providers\n### `apt_repository`\nThis LWRP provides an easy way to manage additional APT repositories. Adding a new repository will notify running the `execute[apt-get-update]` resource immediately.\n\n#### Actions\n- :add: creates a repository file and builds the repository listing (default)\n- :remove: removes the repository file\n\n#### Attribute Parameters\n- repo_name: name attribute. The name of the channel to discover\n- uri: the base of the Debian distribution\n- distribution: this is usually your release's codename...ie something like `karmic`, `lucid` or `maverick`\n- components: package groupings... when in doubt use `main`\n- arch: constrain package to a particular arch like `i386`, `amd64` or even `armhf` or `powerpc`. Defaults to nil.\n- trusted: treat all packages from this repository as authenticated regardless of signature\n- deb_src: whether or not to add the repository as a source repo as well - value can be `true` or `false`, default `false`.\n- keyserver: the GPG keyserver where the key for the repo should be retrieved\n- key: if a `keyserver` is provided, this is assumed to be the fingerprint, otherwise it can be either the URI to the GPG key for the repo, or a cookbook_file.\n- key_proxy: if set, pass the specified proxy via `http-proxy=` to GPG.\n- cookbook: if key should be a cookbook_file, specify a cookbook where the key is located for files/default. Defaults to nil, so it will use the cookbook where the resource is used.\n\n#### Examples\nAdd the Zenoss repo:\n\n```ruby\napt_repository 'zenoss' do\n  uri        'http://dev.zenoss.org/deb'\n  components ['main', 'stable']\nend\n```\n\nEnable Ubuntu [multiverse](https://help.ubuntu.com/community/Repositories/Ubuntu) repositories:\n\n```ruby\napt_repository 'security-ubuntu-multiverse' do\n  uri        'http://security.ubuntu.com/ubuntu'\n  distribution 'trusty-security'\n  components ['multiverse']\n  deb_src 'true'\nend\n```\n\nAdd the Nginx PPA, autodetect the key and repository url:\n\n```ruby\napt_repository 'nginx-php' do\n  uri          'ppa:nginx/stable'\n  distribution node['lsb']['codename']\nend\n```\n\nAdd the JuJu PPA, grab the key from the keyserver, and add source repo:\n\n```ruby\napt_repository 'juju' do\n  uri 'http://ppa.launchpad.net/juju/stable/ubuntu'\n  components ['main']\n  distribution 'trusty'\n  key 'C8068B11'\n  keyserver 'keyserver.ubuntu.com'\n  action :add\n  deb_src true\nend\n```\n\nAdd the Cloudera Repo of CDH4 packages for Ubuntu 12.04 on AMD64:\n\n```ruby\napt_repository 'cloudera' do\n  uri          'http://archive.cloudera.com/cdh4/ubuntu/precise/amd64/cdh'\n  arch         'amd64'\n  distribution 'precise-cdh4'\n  components   ['contrib']\n  key          'http://archive.cloudera.com/debian/archive.key'\nend\n```\n\nRemove Zenoss repo:\n\n```ruby\napt_repository 'zenoss' do\n  action :remove\nend\n```\n\n### `apt_preference`\nThis LWRP provides an easy way to pin packages in /etc/apt/preferences.d. Although apt-pinning is quite helpful from time to time please note that Debian does not encourage its use without thorough consideration.\n\nFurther information regarding apt-pinning is available via [http://wiki.debian.org/AptPreferences](http://wiki.debian.org/AptPreferences).\n\n#### Actions\n- :add: creates a preferences file under /etc/apt/preferences.d\n- :remove: Removes the file, therefore unpin the package\n\n#### Attribute Parameters\n- package_name: name attribute. The name of the package\n- glob: Pin by glob() expression or regexp surrounded by /.\n- pin: The package version/repository to pin\n- pin_priority: The pinning priority aka \"the highest package version wins\"\n\n#### Examples\nPin libmysqlclient16 to version 5.1.49-3:\n\n```ruby\napt_preference 'libmysqlclient16' do\n  pin          'version 5.1.49-3'\n  pin_priority '700'\nend\n```\n\nUnpin libmysqlclient16:\n\n```ruby\napt_preference 'libmysqlclient16' do\n  action :remove\nend\n```\n\nPin all packages from dotdeb.org:\n\n```ruby\napt_preference 'dotdeb' do\n  glob         '*'\n  pin          'origin packages.dotdeb.org'\n  pin_priority '700'\nend\n```\n\n## Usage\nPut `recipe[apt]` first in the run list. If you have other recipes that you want to use to configure how apt behaves, like new sources, notify the execute resource to run, e.g.:\n\n```ruby\ntemplate '/etc/apt/sources.list.d/my_apt_sources.list' do\n  notifies :run, 'execute[apt-get update]', :immediately\nend\n```\n\nThe above will run during execution phase since it is a normal template resource, and should appear before other package resources that need the sources in the template.\n\nPut `recipe[apt::cacher-ng]` in the run_list for a server to provide APT caching and add `recipe[apt::cacher-client]` on the rest of the Debian-based nodes to take advantage of the caching server.\n\nIf you want to cleanup unused packages, there is also the `apt-get autoclean` and `apt-get autoremove` resources provided for automated cleanup.\n\n## License & Authors\n**Author:** Cookbook Engineering Team ([cookbooks@chef.io](mailto:cookbooks@chef.io))\n\n**Copyright:** 2009-2015, Chef Software, Inc.\n\n```\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n```\n\n[cookbook]: https://community.chef.io/cookbooks/apt\n[travis]: https://travis-ci.org/chef-cookbooks/apt\n","maintainer":"Chef Software, Inc.","maintainer_email":"cookbooks@chef.io","license":"Apache 2.0","platforms":{"ubuntu":">= 0.0.0","debian":">= 0.0.0"},"dependencies":{},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{"apt::default":"Runs apt-get update during compile phase and sets up preseed directories","apt::cacher-ng":"Set up an apt-cacher-ng caching proxy","apt::cacher-client":"Client for the apt::cacher-ng caching proxy"}}
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/metadata.json to tempfile /tmp/chef-rest20160914-18248-1kemm0d
[2016-09-14T19:09:36+01:00] DEBUG: 
--- RESPONSE (200) ---
# apt Cookbook
[![Build Status](https://img.shields.io/travis/chef-cookbooks/apt.svg)][travis] [![Cookbook Version](https://img.shields.io/cookbook/v/apt.svg)][cookbook]

This cookbook includes recipes to execute apt-get update to ensure the local APT package cache is up to date. There are recipes for managing the apt-cacher-ng caching proxy and proxy clients. It also includes a LWRP for managing APT repositories in /etc/apt/sources.list.d as well as an LWRP for pinning packages via /etc/apt/preferences.d.

## Requirements
### Platforms
- Ubuntu 12.04+
- Debian 7+

May work with or without modification on other Debian derivatives.

### Chef
- Chef 11+

### Cookbooks
- None

## Recipes
### default
This recipe manually updates the timestamp file used to only run `apt-get update` if the cache is more than one day old.

This recipe should appear first in the run list of Debian or Ubuntu nodes to ensure that the package cache is up to date before managing any `package` resources with Chef.

This recipe also sets up a local cache directory for preseeding packages.

**Including the default recipe on a node that does not support apt (such as Windows) results in a noop.**

### cacher-client
Configures the node to use the `apt-cacher-ng` server as a client.

#### Bypassing the cache
Occasionally you may come across repositories that do not play nicely when the node is using an `apt-cacher-ng` server. You can configure `cacher-client` to bypass the server and connect directly to the repository with the `cache_bypass` attribute.

To do this, you need to override the `cache_bypass` attribute with an array of repositories, with each array key as the repository URL and value as the protocol to use:

```json
{
    "apt": {
        "cache_bypass": {
            "URL": "PROTOCOL"
        }
    }
}
```

For example, to prevent caching and directly connect to the repository at `download.oracle.com` via http:

```json
{
    "apt": {
        "cache_bypass": {
            "download.oracle.com": "http"
        }
    }
}
```

### cacher-ng
Installs the `apt-cacher-ng` package and service so the system can provide APT caching. You can check the usage report at [http://{hostname}:3142/acng-report.html](http://{hostname}:3142/acng-report.html).

If you wish to help the `cacher-ng` recipe seed itself, you must now explicitly include the `cacher-client` recipe in your run list **after** `cacher-ng` or you will block your ability to install any packages (ie. `apt-cacher-ng`).

### unattended-upgrades
Installs and configures the `unattended-upgrades` package to provide automatic package updates. This can be configured to upgrade all packages or to just install security updates by setting `['apt']['unattended_upgrades']['allowed_origins']`.

To pull just security updates, you'd set `allowed_origins` to something link `["Ubuntu trusty-security"]` (for Ubuntu trusty) or `["Debian wheezy-security"]` (for Debian wheezy).

## Attributes
### General
- `['apt']['compile_time_update']` - force the default recipe to run `apt-get update` at compile time.
- `['apt']['periodic_update_min_delay']` - minimum delay (in seconds) beetween two actual executions of `apt-get update` by the `execute[apt-get-update-periodic]` resource, default is '86400' (24 hours)

### Caching
- `['apt']['cacher_ipaddress']` - use a cacher server (or standard proxy server) not available via search
- `['apt']['cacher_interface']` - interface to connect to the cacher-ng service, no default.
- `['apt']['cacher_port']` - port for the cacher-ng service (either client or server), default is '3142'
- `['apt']['cacher_ssl_support']` - indicates whether the cacher supports upstream SSL servers, default is 'false'
- `['apt']['cacher_dir']` - directory used by cacher-ng service, default is '/var/cache/apt-cacher-ng'
- `['apt']['cacher-client']['restrict_environment']` - restrict your node to using the `apt-cacher-ng` server in your Environment, default is 'false'
- `['apt']['compiletime']` - force the `cacher-client` recipe to run before other recipes. It forces apt to use the proxy before other recipes run. Useful if your nodes have limited access to public apt repositories. This is overridden if the `cacher-ng` recipe is in your run list. Default is 'false'
- `['apt']['cache_bypass']` - array of URLs to bypass the cache. Accepts the URL and protocol to  fetch directly from the remote repository and not attempt to cache

### Unattended Upgrades
- `['apt']['unattended_upgrades']['enable']` - enables unattended upgrades, default is false
- `['apt']['unattended_upgrades']['update_package_lists']` - automatically update package list (`apt-get update`) daily, default is true
- `['apt']['unattended_upgrades']['allowed_origins']` - array of allowed apt origins from which to pull automatic upgrades, defaults to a guess at the system's main origin and should almost always be overridden
- `['apt']['unattended_upgrades']['package_blacklist']` - an array of package which should never be automatically upgraded, defaults to none
- `['apt']['unattended_upgrades']['auto_fix_interrupted_dpkg']` - attempts to repair dpkg state with `dpkg --force-confold --configure -a` if it exits uncleanly, defaults to false (contrary to the unattended-upgrades default)
- `['apt']['unattended_upgrades']['minimal_steps']` - Split the upgrade into the smallest possible chunks. This makes the upgrade a bit slower but it has the benefit that shutdown while a upgrade is running is possible (with a small delay). Defaults to false.
- `['apt']['unattended_upgrades']['install_on_shutdown']` - Install upgrades when the machine is shuting down instead of doing it in the background while the machine is running. This will (obviously) make shutdown slower. Defaults to false.
- `['apt']['unattended_upgrades']['mail']` - Send email to this address for problems or packages upgrades. Defaults to no email.
- `['apt']['unattended_upgrades']['mail_only_on_error']` - If set, email will only be set on upgrade errors. Otherwise, an email will be sent after each upgrade. Defaults to true.
- `['apt']['unattended_upgrades']['remove_unused_dependencies']` Do automatic removal of new unused dependencies after the upgrade. Defaults to false.
- `['apt']['unattended_upgrades']['automatic_reboot']` - Automatically reboots _without confirmation_ if a restart is required after the upgrade. Defaults to false.
- `['apt']['unattended_upgrades']['dl_limit']` - Limits the bandwidth used by apt to download packages. Value given as an integer in kb/sec. Defaults to nil (no limit).

### Configuration for APT
- `['apt']['confd']['install_recommends']` - Consider recommended packages as a dependency for installing. (default: true)
- `['apt']['confd']['install_suggests']` - Consider suggested packages as a dependency for installing. (default: false)

## Libraries
There is an `interface_ipaddress` method that returns the IP address for a particular host and interface, used by the `cacher-client` recipe. To enable it on the server use the `['apt']['cacher_interface']` attribute.

## Resources/Providers
### `apt_repository`
This LWRP provides an easy way to manage additional APT repositories. Adding a new repository will notify running the `execute[apt-get-update]` resource immediately.

#### Actions
- :add: creates a repository file and builds the repository listing (default)
- :remove: removes the repository file

#### Attribute Parameters
- repo_name: name attribute. The name of the channel to discover
- uri: the base of the Debian distribution
- distribution: this is usually your release's codename...ie something like `karmic`, `lucid` or `maverick`
- components: package groupings... when in doubt use `main`
- arch: constrain package to a particular arch like `i386`, `amd64` or even `armhf` or `powerpc`. Defaults to nil.
- trusted: treat all packages from this repository as authenticated regardless of signature
- deb_src: whether or not to add the repository as a source repo as well - value can be `true` or `false`, default `false`.
- keyserver: the GPG keyserver where the key for the repo should be retrieved
- key: if a `keyserver` is provided, this is assumed to be the fingerprint, otherwise it can be either the URI to the GPG key for the repo, or a cookbook_file.
- key_proxy: if set, pass the specified proxy via `http-proxy=` to GPG.
- cookbook: if key should be a cookbook_file, specify a cookbook where the key is located for files/default. Defaults to nil, so it will use the cookbook where the resource is used.

#### Examples
Add the Zenoss repo:

```ruby
apt_repository 'zenoss' do
  uri        'http://dev.zenoss.org/deb'
  components ['main', 'stable']
end
```

Enable Ubuntu [multiverse](https://help.ubuntu.com/community/Repositories/Ubuntu) repositories:

```ruby
apt_repository 'security-ubuntu-multiverse' do
  uri        'http://security.ubuntu.com/ubuntu'
  distribution 'trusty-security'
  components ['multiverse']
  deb_src 'true'
end
```

Add the Nginx PPA, autodetect the key and repository url:

```ruby
apt_repository 'nginx-php' do
  uri          'ppa:nginx/stable'
  distribution node['lsb']['codename']
end
```

Add the JuJu PPA, grab the key from the keyserver, and add source repo:

```ruby
apt_repository 'juju' do
  uri 'http://ppa.launchpad.net/juju/stable/ubuntu'
  components ['main']
  distribution 'trusty'
  key 'C8068B11'
  keyserver 'keyserver.ubuntu.com'
  action :add
  deb_src true
end
```

Add the Cloudera Repo of CDH4 packages for Ubuntu 12.04 on AMD64:

```ruby
apt_repository 'cloudera' do
  uri          'http://archive.cloudera.com/cdh4/ubuntu/precise/amd64/cdh'
  arch         'amd64'
  distribution 'precise-cdh4'
  components   ['contrib']
  key          'http://archive.cloudera.com/debian/archive.key'
end
```

Remove Zenoss repo:

```ruby
apt_repository 'zenoss' do
  action :remove
end
```

### `apt_preference`
This LWRP provides an easy way to pin packages in /etc/apt/preferences.d. Although apt-pinning is quite helpful from time to time please note that Debian does not encourage its use without thorough consideration.

Further information regarding apt-pinning is available via [http://wiki.debian.org/AptPreferences](http://wiki.debian.org/AptPreferences).

#### Actions
- :add: creates a preferences file under /etc/apt/preferences.d
- :remove: Removes the file, therefore unpin the package

#### Attribute Parameters
- package_name: name attribute. The name of the package
- glob: Pin by glob() expression or regexp surrounded by /.
- pin: The package version/repository to pin
- pin_priority: The pinning priority aka "the highest package version wins"

#### Examples
Pin libmysqlclient16 to version 5.1.49-3:

```ruby
apt_preference 'libmysqlclient16' do
  pin          'version 5.1.49-3'
  pin_priority '700'
end
```

Unpin libmysqlclient16:

```ruby
apt_preference 'libmysqlclient16' do
  action :remove
end
```

Pin all packages from dotdeb.org:

```ruby
apt_preference 'dotdeb' do
  glob         '*'
  pin          'origin packages.dotdeb.org'
  pin_priority '700'
end
```

## Usage
Put `recipe[apt]` first in the run list. If you have other recipes that you want to use to configure how apt behaves, like new sources, notify the execute resource to run, e.g.:

```ruby
template '/etc/apt/sources.list.d/my_apt_sources.list' do
  notifies :run, 'execute[apt-get update]', :immediately
end
```

The above will run during execution phase since it is a normal template resource, and should appear before other package resources that need the sources in the template.

Put `recipe[apt::cacher-ng]` in the run_list for a server to provide APT caching and add `recipe[apt::cacher-client]` on the rest of the Debian-based nodes to take advantage of the caching server.

If you want to cleanup unused packages, there is also the `apt-get autoclean` and `apt-get autoremove` resources provided for automated cleanup.

## License & Authors
**Author:** Cookbook Engineering Team ([cookbooks@chef.io](mailto:cookbooks@chef.io))

**Copyright:** 2009-2015, Chef Software, Inc.

```
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```

[cookbook]: https://community.chef.io/cookbooks/apt
[travis]: https://travis-ci.org/chef-cookbooks/apt
--- END RESPONSE ---
[2016-09-14T19:09:36+01:00] DEBUG: Streaming download from chefzero://localhost:8889/file_store/repo/cookbooks/apt/README.md to tempfile /tmp/chef-rest20160914-18248-eg06e3
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: content_encoding = ''               initializing noop stream deflator.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::NoopInflater#handle_chunk
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/README.md in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_stream_complete
[2016-09-14T19:09:36+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_stream_complete
[2016-09-14T19:09:36+01:00] INFO: Storing updated cookbooks/apt/metadata.json in the cache.
[2016-09-14T19:09:36+01:00] DEBUG: Cookbooks to compile: [:apt, :java, :jboss]
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook apt's library file: /root/.chef/cookbooks/apt/libraries/helpers.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook apt's library file: /root/.chef/cookbooks/apt/libraries/matchers.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook apt's library file: /root/.chef/cookbooks/apt/libraries/network.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook java's library file: /root/.chef/cookbooks/java/libraries/helpers.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook java's library file: /root/.chef/cookbooks/java/libraries/matchers.rb
[2016-09-14T19:09:36+01:00] DEBUG: Node VM1 loading cookbook apt's attribute file /root/.chef/cookbooks/apt/attributes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loading Attribute apt::default
[2016-09-14T19:09:36+01:00] DEBUG: Node VM1 loading cookbook java's attribute file /root/.chef/cookbooks/java/attributes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loading Attribute java::default
[2016-09-14T19:09:36+01:00] WARN: method access to node attributes (node.foo.bar) is deprecated and will be removed in Chef 13, please use bracket syntax (node["foo"]["bar"]) at /root/.chef/cookbooks/java/attributes/default.rb:22:in `from_file' at /opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib/chef/event_dispatch/dispatcher.rb:43:in `call'
[2016-09-14T19:09:36+01:00] DEBUG: Node VM1 loading cookbook jboss's attribute file /root/.chef/cookbooks/jboss/attributes/default.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loading Attribute jboss::default
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook apt's providers from /root/.chef/cookbooks/apt/providers/preference.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/apt/providers/preference.rb into provider apt_preference (LWRP provider apt_preference from cookbook apt)
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook apt's providers from /root/.chef/cookbooks/apt/providers/repository.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/apt/providers/repository.rb into provider apt_repository (LWRP provider apt_repository from cookbook apt)
[2016-09-14T19:09:36+01:00] WARN: Chef::Provider::AptRepository already exists!  Cannot create deprecation class for LWRP provider apt_repository from cookbook apt
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook apt's resources from /root/.chef/cookbooks/apt/resources/preference.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/apt/resources/preference.rb into resource apt_preference (Custom resource apt_preference from cookbook apt)
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook apt's resources from /root/.chef/cookbooks/apt/resources/repository.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/apt/resources/repository.rb into resource apt_repository (Custom resource apt_repository from cookbook apt)
[2016-09-14T19:09:36+01:00] WARN: AptRepository already exists!  Deprecation class overwrites Custom resource apt_repository from cookbook apt
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook java's providers from /root/.chef/cookbooks/java/providers/alternatives.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/java/providers/alternatives.rb into provider java_alternatives (LWRP provider java_alternatives from cookbook java)
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook java's providers from /root/.chef/cookbooks/java/providers/ark.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/java/providers/ark.rb into provider java_ark (LWRP provider java_ark from cookbook java)
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook java's resources from /root/.chef/cookbooks/java/resources/alternatives.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/java/resources/alternatives.rb into resource java_alternatives (Custom resource java_alternatives from cookbook java)
[2016-09-14T19:09:36+01:00] DEBUG: Loading cookbook java's resources from /root/.chef/cookbooks/java/resources/ark.rb
[2016-09-14T19:09:36+01:00] DEBUG: Loaded contents of /root/.chef/cookbooks/java/resources/ark.rb into resource java_ark (Custom resource java_ark from cookbook java)
[2016-09-14T19:09:36+01:00] DEBUG: Loading recipe jboss::default via include_recipe
[2016-09-14T19:09:36+01:00] DEBUG: Found recipe default in cookbook jboss
[2016-09-14T19:09:36+01:00] DEBUG: Loading recipe java via include_recipe
[2016-09-14T19:09:36+01:00] DEBUG: Found recipe default in cookbook java
[2016-09-14T19:09:36+01:00] DEBUG: Loading recipe java::set_attributes_from_version via include_recipe
[2016-09-14T19:09:36+01:00] DEBUG: Found recipe set_attributes_from_version in cookbook java
[2016-09-14T19:09:36+01:00] DEBUG: Loading recipe java::oracle via include_recipe
[2016-09-14T19:09:36+01:00] DEBUG: Found recipe oracle in cookbook java
[2016-09-14T19:09:36+01:00] DEBUG: Loading recipe java::set_java_home via include_recipe
[2016-09-14T19:09:36+01:00] DEBUG: Found recipe set_java_home in cookbook java
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic ruby_block resource enabled on node include: [Chef::Resource::RubyBlock]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for ruby_block is Chef::Resource::RubyBlock
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic directory resource enabled on node include: [Chef::Resource::Directory]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for directory is Chef::Resource::Directory
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic file resource enabled on node include: [Chef::Resource::File]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for file is Chef::Resource::File
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic package resource enabled on node include: [Chef::Resource::YumPackage, Chef::Resource::Package]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for package is Chef::Resource::YumPackage
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic java_ark resource enabled on node include: [Custom resource java_ark from cookbook java]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for java_ark is Custom resource java_ark from cookbook java
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic user resource enabled on node include: [Chef::Resource::User]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for user is Chef::Resource::User
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic group resource enabled on node include: [Chef::Resource::Group]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for group is Chef::Resource::Group
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic yum_package resource enabled on node include: [Chef::Resource::YumPackage]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for yum_package is Chef::Resource::YumPackage
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic remote_file resource enabled on node include: [Chef::Resource::RemoteFile]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for remote_file is Chef::Resource::RemoteFile
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic execute resource enabled on node include: [Chef::Resource::Execute]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for execute is Chef::Resource::Execute
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic remote_file resource enabled on node include: [Chef::Resource::RemoteFile]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for remote_file is Chef::Resource::RemoteFile
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic execute resource enabled on node include: [Chef::Resource::Execute]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for execute is Chef::Resource::Execute
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic template resource enabled on node include: [Chef::Resource::Template]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for template is Chef::Resource::Template
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic template resource enabled on node include: [Chef::Resource::Template]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for template is Chef::Resource::Template
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic directory resource enabled on node include: [Chef::Resource::Directory]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for directory is Chef::Resource::Directory
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic execute resource enabled on node include: [Chef::Resource::Execute]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for execute is Chef::Resource::Execute
[2016-09-14T19:09:36+01:00] DEBUG: Resources for generic service resource enabled on node include: [Chef::Resource::Service]
[2016-09-14T19:09:36+01:00] DEBUG: Resource for service is Chef::Resource::Service
[2016-09-14T19:09:36+01:00] DEBUG: Converging node VM1
[2016-09-14T19:09:36+01:00] INFO: Processing ruby_block[set-env-java-home] action run (java::set_java_home line 19)
[2016-09-14T19:09:36+01:00] DEBUG: Providers for generic ruby_block resource enabled on node include: [Chef::Provider::RubyBlock]
[2016-09-14T19:09:36+01:00] DEBUG: Provider for action run on resource ruby_block[set-env-java-home] is Chef::Provider::RubyBlock
[2016-09-14T19:09:36+01:00] INFO: ruby_block[set-env-java-home] called
[2016-09-14T19:09:36+01:00] INFO: Processing directory[/etc/profile.d] action create (java::set_java_home line 26)
[2016-09-14T19:09:36+01:00] DEBUG: Providers for generic directory resource enabled on node include: [Chef::Provider::Directory]
[2016-09-14T19:09:36+01:00] DEBUG: Provider for action create on resource directory[/etc/profile.d] is Chef::Provider::Directory
[2016-09-14T19:09:36+01:00] DEBUG: Found target_mode == current_mode, not updating mode
[2016-09-14T19:09:36+01:00] DEBUG: Found target_uid == nil, so no owner was specified on resource, not managing owner
[2016-09-14T19:09:36+01:00] DEBUG: Found target_gid == nil, so no group was specified on resource, not managing group
[2016-09-14T19:09:36+01:00] INFO: Processing file[/etc/profile.d/jdk.sh] action create (java::set_java_home line 30)
[2016-09-14T19:09:36+01:00] DEBUG: Providers for generic file resource enabled on node include: [Chef::Provider::File]
[2016-09-14T19:09:36+01:00] DEBUG: Provider for action create on resource file[/etc/profile.d/jdk.sh] is Chef::Provider::File
[2016-09-14T19:09:36+01:00] DEBUG: Touching /etc/profile.d/jdk.sh to create it
[2016-09-14T19:09:36+01:00] INFO: file[/etc/profile.d/jdk.sh] created file /etc/profile.d/jdk.sh
[2016-09-14T19:09:36+01:00] DEBUG: calculating checksum of /etc/profile.d/.chef-jdk.sh20160914-18248-4k7hri to compare with 
[2016-09-14T19:09:36+01:00] DEBUG: Running: diff -u /etc/profile.d/jdk.sh /etc/profile.d/.chef-jdk.sh20160914-18248-4k7hri
[2016-09-14T19:09:36+01:00] DEBUG: Reading modes from /etc/profile.d/jdk.sh file
[2016-09-14T19:09:36+01:00] DEBUG: Applying mode = 644, uid = 0, gid = 0 to /etc/profile.d/.chef-jdk.sh20160914-18248-4k7hri
[2016-09-14T19:09:36+01:00] DEBUG: Moving temporary file /etc/profile.d/.chef-jdk.sh20160914-18248-4k7hri into place at /etc/profile.d/jdk.sh
[2016-09-14T19:09:36+01:00] INFO: file[/etc/profile.d/jdk.sh] updated file contents /etc/profile.d/jdk.sh
[2016-09-14T19:09:36+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:09:36+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:09:36+01:00] DEBUG: Found target_uid == nil, so no owner was specified on resource, not managing owner
[2016-09-14T19:09:36+01:00] DEBUG: Found target_gid == nil, so no group was specified on resource, not managing group
[2016-09-14T19:09:36+01:00] DEBUG: Found target_uid == nil, so no owner was specified on resource, not managing owner
[2016-09-14T19:09:36+01:00] DEBUG: Found target_gid == nil, so no group was specified on resource, not managing group
[2016-09-14T19:09:36+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:09:36+01:00] INFO: file[/etc/profile.d/jdk.sh] mode changed to 755
[2016-09-14T19:09:36+01:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2016-09-14T19:09:36+01:00] INFO: Processing yum_package[tar] action install (java::oracle line 53)
[2016-09-14T19:09:36+01:00] DEBUG: Providers for generic yum_package resource enabled on node include: [Chef::Provider::Package::Yum]
[2016-09-14T19:09:36+01:00] DEBUG: Provider for action install on resource yum_package[tar] is Chef::Provider::Package::Yum
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[tar] checking yum info for tar
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[tar] installed version: ["1.23-14.el6"] candidate version: 1.23-15.el6_8
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[tar] tar 1.23-14.el6 already installed
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[tar] is already installed - nothing to do
[2016-09-14T19:09:39+01:00] INFO: Processing java_ark[jdk] action install (java::oracle line 55)
[2016-09-14T19:09:39+01:00] DEBUG: Providers for generic java_ark resource enabled on node include: [LWRP provider java_ark from cookbook java]
[2016-09-14T19:09:39+01:00] DEBUG: Provider for action install on resource java_ark[jdk] is LWRP provider java_ark from cookbook java
[2016-09-14T19:09:39+01:00] INFO: Adding jdk to /usr/lib/jvm/jdk1.6.0_45
[2016-09-14T19:09:39+01:00] DEBUG: Resources for generic package resource enabled on node include: [Chef::Resource::YumPackage, Chef::Resource::Package]
[2016-09-14T19:09:39+01:00] DEBUG: Resource for package is Chef::Resource::YumPackage
[2016-09-14T19:09:39+01:00] INFO: Processing yum_package[curl] action install (/root/.chef/cookbooks/java/providers/ark.rb line 70)
[2016-09-14T19:09:39+01:00] DEBUG: Providers for generic yum_package resource enabled on node include: [Chef::Provider::Package::Yum]
[2016-09-14T19:09:39+01:00] DEBUG: Provider for action install on resource yum_package[curl] is Chef::Provider::Package::Yum
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[curl] checking yum info for curl
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[curl] installed version: ["7.19.7-52.el6"] candidate version: 7.19.7-52.el6
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[curl] curl 7.19.7-52.el6 already installed
[2016-09-14T19:09:39+01:00] DEBUG: yum_package[curl] is already installed - nothing to do
[2016-09-14T19:09:39+01:00] DEBUG: downloading oracle tarball straight from the source
[2016-09-14T19:11:05+01:00] DEBUG: app_home is /usr/lib/jvm/java and app_dir is /usr/lib/jvm/jdk1.6.0_45
[2016-09-14T19:11:05+01:00] DEBUG: Symlinking /usr/lib/jvm/jdk1.6.0_45 to /usr/lib/jvm/java
[2016-09-14T19:11:05+01:00] DEBUG: Resources for generic java_alternatives resource enabled on node include: [Custom resource java_alternatives from cookbook java]
[2016-09-14T19:11:05+01:00] DEBUG: Resource for java_alternatives is Custom resource java_alternatives from cookbook java
[2016-09-14T19:11:05+01:00] INFO: Processing yum_package[curl] action nothing (/root/.chef/cookbooks/java/providers/ark.rb line 70)
[2016-09-14T19:11:05+01:00] DEBUG: Skipping yum_package[curl] due to action :nothing
[2016-09-14T19:11:05+01:00] INFO: Processing java_alternatives[set-java-alternatives] action set (/root/.chef/cookbooks/java/providers/ark.rb line 218)
[2016-09-14T19:11:05+01:00] DEBUG: Providers for generic java_alternatives resource enabled on node include: [LWRP provider java_alternatives from cookbook java]
[2016-09-14T19:11:05+01:00] DEBUG: Provider for action set on resource java_alternatives[set-java-alternatives] is LWRP provider java_alternatives from cookbook java
[2016-09-14T19:11:05+01:00] DEBUG: Adding alternative for appletviewer
[2016-09-14T19:11:05+01:00] DEBUG: Adding alternative for apt
[2016-09-14T19:11:05+01:00] DEBUG: Adding alternative for ControlPanel
[2016-09-14T19:11:05+01:00] DEBUG: Adding alternative for extcheck
[2016-09-14T19:11:05+01:00] DEBUG: Adding alternative for HtmlConverter
[2016-09-14T19:11:05+01:00] DEBUG: Adding alternative for idlj
[2016-09-14T19:11:05+01:00] DEBUG: Adding alternative for jar
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for jarsigner
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for java
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for javac
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for javadoc
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for javah
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for javap
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for javaws
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for jconsole
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for jcontrol
[2016-09-14T19:11:06+01:00] DEBUG: Adding alternative for jdb
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jhat
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jinfo
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jmap
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jps
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jrunscript
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jsadebugd
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jstack
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jstat
[2016-09-14T19:11:07+01:00] DEBUG: Adding alternative for jstatd
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for jvisualvm
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for keytool
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for native2ascii
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for orbd
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for pack200
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for policytool
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for rmic
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for rmid
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for rmiregistry
[2016-09-14T19:11:08+01:00] DEBUG: Adding alternative for schemagen
[2016-09-14T19:11:09+01:00] DEBUG: Adding alternative for serialver
[2016-09-14T19:11:09+01:00] DEBUG: Adding alternative for servertool
[2016-09-14T19:11:09+01:00] DEBUG: Adding alternative for tnameserv
[2016-09-14T19:11:09+01:00] DEBUG: Adding alternative for unpack200
[2016-09-14T19:11:09+01:00] DEBUG: Adding alternative for wsgen
[2016-09-14T19:11:09+01:00] DEBUG: Adding alternative for wsimport
[2016-09-14T19:11:09+01:00] DEBUG: Adding alternative for xjc
[2016-09-14T19:11:09+01:00] INFO: Processing user[jboss] action create (jboss::default line 8)
[2016-09-14T19:11:09+01:00] DEBUG: Providers for generic user resource enabled on node include: [Chef::Provider::User::Useradd]
[2016-09-14T19:11:09+01:00] DEBUG: Provider for action create on resource user[jboss] is Chef::Provider::User::Useradd
[2016-09-14T19:11:09+01:00] DEBUG: user[jboss] user does not exist
[2016-09-14T19:11:09+01:00] DEBUG: user[jboss] setting shell to /bin/bash
[2016-09-14T19:11:09+01:00] DEBUG: user[jboss] setting home to /opt/jboss
[2016-09-14T19:11:09+01:00] INFO: user[jboss] created
[2016-09-14T19:11:09+01:00] INFO: Processing group[jboss] action create (jboss::default line 14)
[2016-09-14T19:11:09+01:00] DEBUG: Providers for generic group resource enabled on node include: [Chef::Provider::Group::Gpasswd]
[2016-09-14T19:11:09+01:00] DEBUG: Provider for action create on resource group[jboss] is Chef::Provider::Group::Gpasswd
[2016-09-14T19:11:09+01:00] INFO: Processing yum_package[unzip] action install (jboss::default line 18)
[2016-09-14T19:11:10+01:00] DEBUG: Providers for generic yum_package resource enabled on node include: [Chef::Provider::Package::Yum]
[2016-09-14T19:11:10+01:00] DEBUG: Provider for action install on resource yum_package[unzip] is Chef::Provider::Package::Yum
[2016-09-14T19:11:10+01:00] DEBUG: yum_package[unzip] checking yum info for unzip
[2016-09-14T19:11:10+01:00] DEBUG: yum_package[unzip] installed version: [nil] candidate version: 6.0-4.el6
[2016-09-14T19:11:10+01:00] DEBUG: yum_package[unzip] unzip not installed, installing 6.0-4.el6
[2016-09-14T19:11:10+01:00] INFO: yum_package[unzip] installing unzip-6.0-4.el6 from base repository
[2016-09-14T19:11:10+01:00] DEBUG: yum_package[unzip]: yum command: "yum -d0 -e0 -y install unzip-6.0-4.el6"
[2016-09-14T19:11:12+01:00] INFO: yum_package[unzip] installed unzip at 6.0-4.el6
[2016-09-14T19:11:12+01:00] INFO: Processing remote_file[/opt/jboss-as-distribution-6.1.0.Final.zip] action create (jboss::default line 23)
[2016-09-14T19:11:12+01:00] DEBUG: Skipping remote_file[/opt/jboss-as-distribution-6.1.0.Final.zip] due to not_if ruby block
[2016-09-14T19:11:12+01:00] INFO: Processing execute[jboss_unzip] action run (jboss::default line 30)
[2016-09-14T19:11:12+01:00] DEBUG: Providers for generic execute resource enabled on node include: [Chef::Provider::Execute]
[2016-09-14T19:11:12+01:00] DEBUG: Provider for action run on resource execute[jboss_unzip] is Chef::Provider::Execute
[2016-09-14T19:11:13+01:00] INFO: execute[jboss_unzip] ran successfully
[2016-09-14T19:11:13+01:00] INFO: Processing remote_file[/opt/testweb.zip] action create (jboss::default line 35)
[2016-09-14T19:11:13+01:00] DEBUG: remote_file[/opt/testweb.zip] checking for changes
[2016-09-14T19:11:13+01:00] DEBUG: Cache control headers: {}
[2016-09-14T19:11:13+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:11:13+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:11:13+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:11:13+01:00] DEBUG: Initiating GET to http://www.cumulogic.com/download/Apps/testweb.zip
[2016-09-14T19:11:13+01:00] DEBUG: ---- HTTP Request Header Data: ----
[2016-09-14T19:11:13+01:00] DEBUG: Accept-Encoding: gzip;q=1.0,deflate;q=0.6,identity;q=0.3
[2016-09-14T19:11:13+01:00] DEBUG: ---- End HTTP Request Header Data ----
[2016-09-14T19:11:14+01:00] DEBUG: ---- HTTP Status and Header Data: ----
[2016-09-14T19:11:14+01:00] DEBUG: HTTP 1.1 200 OK
[2016-09-14T19:11:14+01:00] DEBUG: date: Wed, 14 Sep 2016 18:15:56 GMT
[2016-09-14T19:11:14+01:00] DEBUG: server: Apache
[2016-09-14T19:11:14+01:00] DEBUG: last-modified: Thu, 16 Jan 2014 23:23:42 GMT
[2016-09-14T19:11:14+01:00] DEBUG: etag: "100020-6c6-4f01eb75b7ed7"
[2016-09-14T19:11:14+01:00] DEBUG: accept-ranges: bytes
[2016-09-14T19:11:14+01:00] DEBUG: cache-control: max-age=0
[2016-09-14T19:11:14+01:00] DEBUG: expires: Wed, 14 Sep 2016 18:15:56 GMT
[2016-09-14T19:11:14+01:00] DEBUG: vary: Accept-Encoding
[2016-09-14T19:11:14+01:00] DEBUG: content-encoding: gzip
[2016-09-14T19:11:14+01:00] DEBUG: content-length: 1685
[2016-09-14T19:11:14+01:00] DEBUG: connection: close
[2016-09-14T19:11:14+01:00] DEBUG: content-type: application/zip
[2016-09-14T19:11:14+01:00] DEBUG: ---- End HTTP Status/Header Data ----
[2016-09-14T19:11:14+01:00] DEBUG: Streaming download from http://www.cumulogic.com/download/Apps/testweb.zip to tempfile /tmp/chef-rest20160914-18248-1ma4w0n
[2016-09-14T19:11:14+01:00] DEBUG: Initializing gzip stream deflator
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::GzipInflater#handle_chunk
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::ValidateContentLength::ContentLengthCounter#handle_chunk
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP::StreamHandler calling Chef::HTTP::Decompressor::GzipInflater#handle_chunk
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_stream_complete
[2016-09-14T19:11:14+01:00] DEBUG: Content-Length validated correctly.
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_stream_complete
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_stream_complete
[2016-09-14T19:11:14+01:00] DEBUG: Creating directory /root/.chef/remote_file
[2016-09-14T19:11:14+01:00] DEBUG: Touching /opt/testweb.zip to create it
[2016-09-14T19:11:14+01:00] INFO: remote_file[/opt/testweb.zip] created file /opt/testweb.zip
[2016-09-14T19:11:14+01:00] DEBUG: calculating checksum of /tmp/chef-rest20160914-18248-1ma4w0n to compare with 
[2016-09-14T19:11:14+01:00] DEBUG: Reading modes from /opt/testweb.zip file
[2016-09-14T19:11:14+01:00] DEBUG: Applying mode = 644, uid = 0, gid = 0 to /tmp/chef-rest20160914-18248-1ma4w0n
[2016-09-14T19:11:14+01:00] DEBUG: Moving temporary file /tmp/chef-rest20160914-18248-1ma4w0n into place at /opt/testweb.zip
[2016-09-14T19:11:14+01:00] INFO: remote_file[/opt/testweb.zip] updated file contents /opt/testweb.zip
[2016-09-14T19:11:14+01:00] DEBUG: Found target_mode == nil, so no mode was specified on resource, not managing mode
[2016-09-14T19:11:14+01:00] DEBUG: Found target_uid == nil, so no owner was specified on resource, not managing owner
[2016-09-14T19:11:14+01:00] DEBUG: Found target_gid == nil, so no group was specified on resource, not managing group
[2016-09-14T19:11:14+01:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2016-09-14T19:11:14+01:00] INFO: Processing execute[app_unzip] action run (jboss::default line 39)
[2016-09-14T19:11:14+01:00] DEBUG: Providers for generic execute resource enabled on node include: [Chef::Provider::Execute]
[2016-09-14T19:11:14+01:00] DEBUG: Provider for action run on resource execute[app_unzip] is Chef::Provider::Execute
[2016-09-14T19:11:14+01:00] INFO: execute[app_unzip] ran successfully
[2016-09-14T19:11:14+01:00] INFO: Processing template[/etc/init.d/jboss] action create (jboss::default line 44)
[2016-09-14T19:11:14+01:00] DEBUG: Providers for generic template resource enabled on node include: [Chef::Provider::Template]
[2016-09-14T19:11:14+01:00] DEBUG: Provider for action create on resource template[/etc/init.d/jboss] is Chef::Provider::Template
[2016-09-14T19:11:14+01:00] DEBUG: Not fetching cookbooks/jboss/templates/default/jboss.erb, as the cache is up to date.
[2016-09-14T19:11:14+01:00] DEBUG: Current checksum: 78d7f927e70c91dec2b4b77d479ffbe6; manifest checksum: 78d7f927e70c91dec2b4b77d479ffbe6)
[2016-09-14T19:11:14+01:00] DEBUG: Touching /etc/init.d/jboss to create it
[2016-09-14T19:11:14+01:00] INFO: template[/etc/init.d/jboss] created file /etc/init.d/jboss
[2016-09-14T19:11:14+01:00] DEBUG: calculating checksum of /etc/init.d/.chef-jboss20160914-18248-141ok4j to compare with 
[2016-09-14T19:11:14+01:00] DEBUG: Running: diff -u /etc/init.d/jboss /etc/init.d/.chef-jboss20160914-18248-141ok4j
[2016-09-14T19:11:14+01:00] DEBUG: Reading modes from /etc/rc.d/init.d/jboss file
[2016-09-14T19:11:14+01:00] DEBUG: Applying mode = 644, uid = 0, gid = 0 to /etc/init.d/.chef-jboss20160914-18248-141ok4j
[2016-09-14T19:11:14+01:00] DEBUG: Moving temporary file /etc/init.d/.chef-jboss20160914-18248-141ok4j into place at /etc/rc.d/init.d/jboss
[2016-09-14T19:11:14+01:00] INFO: template[/etc/init.d/jboss] updated file contents /etc/init.d/jboss
[2016-09-14T19:11:14+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:11:14+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:11:14+01:00] DEBUG: Found current_uid == nil, so we are creating a new file, updating owner
[2016-09-14T19:11:14+01:00] DEBUG: Found current_gid == nil, so we are creating a new file, updating group
[2016-09-14T19:11:14+01:00] DEBUG: Found current_uid == nil, so we are creating a new file, updating owner
[2016-09-14T19:11:14+01:00] INFO: template[/etc/init.d/jboss] owner changed to 0
[2016-09-14T19:11:14+01:00] DEBUG: Found current_gid == nil, so we are creating a new file, updating group
[2016-09-14T19:11:14+01:00] INFO: template[/etc/init.d/jboss] group changed to 0
[2016-09-14T19:11:14+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:11:14+01:00] INFO: template[/etc/init.d/jboss] mode changed to 775
[2016-09-14T19:11:14+01:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2016-09-14T19:11:14+01:00] INFO: Processing template[/opt/jboss/bin/run.sh] action create (jboss::default line 55)
[2016-09-14T19:11:14+01:00] DEBUG: Providers for generic template resource enabled on node include: [Chef::Provider::Template]
[2016-09-14T19:11:14+01:00] DEBUG: Provider for action create on resource template[/opt/jboss/bin/run.sh] is Chef::Provider::Template
[2016-09-14T19:11:14+01:00] DEBUG: template[/opt/jboss/bin/run.sh] checksumming file at /opt/jboss/bin/run.sh.
[2016-09-14T19:11:14+01:00] DEBUG: Not fetching cookbooks/jboss/templates/default/run.erb, as the cache is up to date.
[2016-09-14T19:11:14+01:00] DEBUG: Current checksum: 99edcb01d139672c0406f8cbeeb719ac; manifest checksum: 99edcb01d139672c0406f8cbeeb719ac)
[2016-09-14T19:11:14+01:00] DEBUG: calculating checksum of /opt/jboss/bin/.chef-run.sh20160914-18248-aeh6ie to compare with b456ced08045ab31ddd174e334d1441714ba8480f7dc09a73838bc537e437d72
[2016-09-14T19:11:14+01:00] DEBUG: Running: diff -u /opt/jboss/bin/run.sh /opt/jboss/bin/.chef-run.sh20160914-18248-aeh6ie
[2016-09-14T19:11:14+01:00] INFO: template[/opt/jboss/bin/run.sh] backed up to /root/.chef/local-mode-cache/backup/opt/jboss/bin/run.sh.chef-20160914191114.521618
[2016-09-14T19:11:14+01:00] DEBUG: Reading modes from /opt/jboss/bin/run.sh file
[2016-09-14T19:11:14+01:00] DEBUG: Applying mode = 755, uid = 0, gid = 0 to /opt/jboss/bin/.chef-run.sh20160914-18248-aeh6ie
[2016-09-14T19:11:14+01:00] DEBUG: Moving temporary file /opt/jboss/bin/.chef-run.sh20160914-18248-aeh6ie into place at /opt/jboss/bin/run.sh
[2016-09-14T19:11:14+01:00] INFO: template[/opt/jboss/bin/run.sh] updated file contents /opt/jboss/bin/run.sh
[2016-09-14T19:11:14+01:00] DEBUG: Found target_mode == nil, so no mode was specified on resource, not managing mode
[2016-09-14T19:11:14+01:00] DEBUG: Found target_uid != current_uid, updating owner
[2016-09-14T19:11:14+01:00] DEBUG: Found target_mode == nil, so no mode was specified on resource, not managing mode
[2016-09-14T19:11:14+01:00] DEBUG: Found target_uid != current_uid, updating owner
[2016-09-14T19:11:14+01:00] DEBUG: Found target_gid != current_gid, updating group
[2016-09-14T19:11:14+01:00] DEBUG: Found target_uid != current_uid, updating owner
[2016-09-14T19:11:14+01:00] INFO: template[/opt/jboss/bin/run.sh] owner changed to 497
[2016-09-14T19:11:14+01:00] DEBUG: Found target_gid != current_gid, updating group
[2016-09-14T19:11:14+01:00] INFO: template[/opt/jboss/bin/run.sh] group changed to 497
[2016-09-14T19:11:14+01:00] DEBUG: Found target_mode == nil, so no mode was specified on resource, not managing mode
[2016-09-14T19:11:14+01:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2016-09-14T19:11:14+01:00] INFO: Processing directory[/opt/jboss/logs] action create (jboss::default line 61)
[2016-09-14T19:11:14+01:00] DEBUG: Providers for generic directory resource enabled on node include: [Chef::Provider::Directory]
[2016-09-14T19:11:14+01:00] DEBUG: Provider for action create on resource directory[/opt/jboss/logs] is Chef::Provider::Directory
[2016-09-14T19:11:14+01:00] INFO: directory[/opt/jboss/logs] created directory /opt/jboss/logs
[2016-09-14T19:11:14+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:11:14+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:11:14+01:00] DEBUG: Found current_uid == nil, so we are creating a new file, updating owner
[2016-09-14T19:11:14+01:00] DEBUG: Found current_gid == nil, so we are creating a new file, updating group
[2016-09-14T19:11:14+01:00] DEBUG: Found current_uid == nil, so we are creating a new file, updating owner
[2016-09-14T19:11:14+01:00] INFO: directory[/opt/jboss/logs] owner changed to 497
[2016-09-14T19:11:14+01:00] DEBUG: Found current_gid == nil, so we are creating a new file, updating group
[2016-09-14T19:11:14+01:00] INFO: directory[/opt/jboss/logs] group changed to 497
[2016-09-14T19:11:14+01:00] DEBUG: Found current_mode == nil, so we are creating a new file, updating mode
[2016-09-14T19:11:14+01:00] INFO: directory[/opt/jboss/logs] mode changed to 755
[2016-09-14T19:11:14+01:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2016-09-14T19:11:14+01:00] INFO: Processing execute[jboss_folder_chown] action run (jboss::default line 68)
[2016-09-14T19:11:14+01:00] DEBUG: Providers for generic execute resource enabled on node include: [Chef::Provider::Execute]
[2016-09-14T19:11:14+01:00] DEBUG: Provider for action run on resource execute[jboss_folder_chown] is Chef::Provider::Execute
[2016-09-14T19:11:14+01:00] INFO: execute[jboss_folder_chown] ran successfully
[2016-09-14T19:11:14+01:00] INFO: Processing service[jboss] action enable (jboss::default line 72)
[2016-09-14T19:11:14+01:00] DEBUG: Providers for generic service resource enabled on node include: [Chef::Provider::Service::Redhat, Chef::Provider::Service::Init]
[2016-09-14T19:11:14+01:00] DEBUG: Provider for action enable on resource service[jboss] is Chef::Provider::Service::Redhat
[2016-09-14T19:11:14+01:00] DEBUG: service[jboss] supports status, running
[2016-09-14T19:11:14+01:00] INFO: service[jboss] enabled
[2016-09-14T19:11:14+01:00] INFO: Processing service[jboss] action start (jboss::default line 72)
[2016-09-14T19:11:14+01:00] DEBUG: Providers for generic service resource enabled on node include: [Chef::Provider::Service::Redhat, Chef::Provider::Service::Init]
[2016-09-14T19:11:14+01:00] DEBUG: Provider for action start on resource service[jboss] is Chef::Provider::Service::Redhat
[2016-09-14T19:11:14+01:00] DEBUG: service[jboss] supports status, running
[2016-09-14T19:11:14+01:00] INFO: service[jboss] started
[2016-09-14T19:11:14+01:00] DEBUG: Saving the current state of node VM1
[2016-09-14T19:11:14+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_request
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_request
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_request
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_request
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_request
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_request
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_request
[2016-09-14T19:11:15+01:00] DEBUG: PUT /organizations/chef/nodes/VM1
--- PUT BODY ---
{"name":"VM1","chef_environment":"_default","json_class":"Chef::Node","automatic":{"dmi":{},"kernel":{"name":"Linux","release":"2.6.32-642.1.1.el6.x86_64","version":"#1 SMP Tue May 31 21:57:07 UTC 2016","machine":"x86_64","processor":"x86_64","os":"GNU/Linux","modules":{"vboxsf":{"size":"37731","refcount":"1","version":"5.0.24 r108355"},"vboxguest":{"size":"284807","refcount":"2","version":"5.0.24 r108355"},"nls_utf8":{"size":"1455","refcount":"0"},"ipv6":{"size":"336282","refcount":"14"},"sg":{"size":"29318","refcount":"0","version":"3.5.34"},"i2c_piix4":{"size":"11232","refcount":"0"},"i2c_core":{"size":"29132","refcount":"1"},"e1000":{"size":"134895","refcount":"0","version":"7.3.21-k8-NAPI"},"ext4":{"size":"379655","refcount":"2"},"jbd2":{"size":"93252","refcount":"1"},"mbcache":{"size":"8193","refcount":"1"},"sd_mod":{"size":"37158","refcount":"3"},"crc_t10dif":{"size":"1209","refcount":"1"},"ahci":{"size":"43154","refcount":"2","version":"3.0"},"pata_acpi":{"size":"3701","refcount":"0","version":"0.2.3"},"ata_generic":{"size":"3837","refcount":"0","version":"0.2.15"},"ata_piix":{"size":"24409","refcount":"0","version":"2.13"},"video":{"size":"21654","refcount":"0"},"output":{"size":"2409","refcount":"1"},"dm_mirror":{"size":"14864","refcount":"0"},"dm_region_hash":{"size":"12085","refcount":"1"},"dm_log":{"size":"9930","refcount":"2"},"dm_mod":{"size":"102467","refcount":"8"}}},"network":{"interfaces":{"lo":{"mtu":"65536","flags":["LOOPBACK","UP","LOWER_UP"],"encapsulation":"Loopback","addresses":{"127.0.0.1":{"family":"inet","prefixlen":"8","netmask":"255.0.0.0","scope":"Node"},"::1":{"family":"inet6","prefixlen":"128","scope":"Node","tags":[]}},"state":"unknown","routes":[{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"},{"destination":"unreachable","family":"inet6","metric":"1024"}]},"eth0":{"type":"eth","number":"0","mtu":"1500","flags":["BROADCAST","MULTICAST","UP","LOWER_UP"],"encapsulation":"Ethernet","addresses":{"08:00:27:EC:55:DD":{"family":"lladdr"},"10.0.2.15":{"family":"inet","prefixlen":"24","netmask":"255.255.255.0","broadcast":"10.0.2.255","scope":"Global"},"fe80::a00:27ff:feec:55dd":{"family":"inet6","prefixlen":"64","scope":"Link","tags":[]}},"state":"up","arp":{"10.0.2.3":"52:54:00:12:35:03","10.0.2.2":"52:54:00:12:35:02"},"routes":[{"destination":"10.0.2.0/24","family":"inet","scope":"link","proto":"kernel","src":"10.0.2.15"},{"destination":"169.254.0.0/16","family":"inet","scope":"link","metric":"1002"},{"destination":"default","family":"inet","via":"10.0.2.2"},{"destination":"fe80::/64","family":"inet6","metric":"256","proto":"kernel"}],"link_speed":1000,"duplex":"Full","port":"Twisted Pair","transceiver":"internal","auto_negotiation":"on","mdi_x":"off (auto)","ring_params":{"max_rx":4096,"max_rx_mini":0,"max_rx_jumbo":0,"max_tx":4096,"current_rx":256,"current_rx_mini":0,"current_rx_jumbo":0,"current_tx":256}},"eth1":{"type":"eth","number":"1","mtu":"1500","flags":["BROADCAST","MULTICAST","UP","LOWER_UP"],"encapsulation":"Ethernet","addresses":{"08:00:27:73:DA:86":{"family":"lladdr"},"192.168.25.100":{"family":"inet","prefixlen":"24","netmask":"255.255.255.0","broadcast":"192.168.25.255","scope":"Global"},"fe80::a00:27ff:fe73:da86":{"family":"inet6","prefixlen":"64","scope":"Link","tags":[]}},"state":"up","routes":[{"destination":"192.168.25.0/24","family":"inet","scope":"link","proto":"kernel","src":"192.168.25.100"},{"destination":"169.254.0.0/16","family":"inet","scope":"link","metric":"1003"},{"destination":"fe80::/64","family":"inet6","metric":"256","proto":"kernel"}],"link_speed":1000,"duplex":"Full","port":"Twisted Pair","transceiver":"internal","auto_negotiation":"on","mdi_x":"off (auto)","ring_params":{"max_rx":4096,"max_rx_mini":0,"max_rx_jumbo":0,"max_tx":4096,"current_rx":256,"current_rx_mini":0,"current_rx_jumbo":0,"current_tx":256}}},"default_interface":"eth0","default_gateway":"10.0.2.2"},"counters":{"network":{"interfaces":{"lo":{"rx":{"bytes":"0","packets":"0","errors":"0","drop":"0","overrun":"0"},"tx":{"bytes":"0","packets":"0","errors":"0","drop":"0","carrier":"0","collisions":"0"}},"eth0":{"tx":{"queuelen":"1000","bytes":"1029988","packets":"15225","errors":"0","drop":"0","carrier":"0","collisions":"0"},"rx":{"bytes":"88181801","packets":"62152","errors":"0","drop":"0","overrun":"0"}},"eth1":{"tx":{"queuelen":"1000","bytes":"528","packets":"7","errors":"0","drop":"0","carrier":"0","collisions":"0"},"rx":{"bytes":"0","packets":"0","errors":"0","drop":"0","overrun":"0"}}}}},"ipaddress":"10.0.2.15","macaddress":"08:00:27:EC:55:DD","etc":{"passwd":{"root":{"dir":"/root","gid":0,"uid":0,"shell":"/bin/bash","gecos":"root"},"bin":{"dir":"/bin","gid":1,"uid":1,"shell":"/sbin/nologin","gecos":"bin"},"daemon":{"dir":"/sbin","gid":2,"uid":2,"shell":"/sbin/nologin","gecos":"daemon"},"adm":{"dir":"/var/adm","gid":4,"uid":3,"shell":"/sbin/nologin","gecos":"adm"},"lp":{"dir":"/var/spool/lpd","gid":7,"uid":4,"shell":"/sbin/nologin","gecos":"lp"},"sync":{"dir":"/sbin","gid":0,"uid":5,"shell":"/bin/sync","gecos":"sync"},"shutdown":{"dir":"/sbin","gid":0,"uid":6,"shell":"/sbin/shutdown","gecos":"shutdown"},"halt":{"dir":"/sbin","gid":0,"uid":7,"shell":"/sbin/halt","gecos":"halt"},"mail":{"dir":"/var/spool/mail","gid":12,"uid":8,"shell":"/sbin/nologin","gecos":"mail"},"uucp":{"dir":"/var/spool/uucp","gid":14,"uid":10,"shell":"/sbin/nologin","gecos":"uucp"},"operator":{"dir":"/root","gid":0,"uid":11,"shell":"/sbin/nologin","gecos":"operator"},"games":{"dir":"/usr/games","gid":100,"uid":12,"shell":"/sbin/nologin","gecos":"games"},"gopher":{"dir":"/var/gopher","gid":30,"uid":13,"shell":"/sbin/nologin","gecos":"gopher"},"ftp":{"dir":"/var/ftp","gid":50,"uid":14,"shell":"/sbin/nologin","gecos":"FTP User"},"nobody":{"dir":"/","gid":99,"uid":99,"shell":"/sbin/nologin","gecos":"Nobody"},"vcsa":{"dir":"/dev","gid":69,"uid":69,"shell":"/sbin/nologin","gecos":"virtual console memory owner"},"saslauth":{"dir":"/var/empty/saslauth","gid":76,"uid":499,"shell":"/sbin/nologin","gecos":"Saslauthd user"},"postfix":{"dir":"/var/spool/postfix","gid":89,"uid":89,"shell":"/sbin/nologin","gecos":""},"sshd":{"dir":"/var/empty/sshd","gid":74,"uid":74,"shell":"/sbin/nologin","gecos":"Privilege-separated SSH"},"vagrant":{"dir":"/home/vagrant","gid":500,"uid":500,"shell":"/bin/bash","gecos":"vagrant"},"vboxadd":{"dir":"/var/run/vboxadd","gid":1,"uid":498,"shell":"/bin/false","gecos":""}},"group":{"root":{"gid":0,"members":[]},"bin":{"gid":1,"members":["bin","daemon"]},"daemon":{"gid":2,"members":["bin","daemon"]},"sys":{"gid":3,"members":["bin","adm"]},"adm":{"gid":4,"members":["adm","daemon"]},"tty":{"gid":5,"members":[]},"disk":{"gid":6,"members":[]},"lp":{"gid":7,"members":["daemon"]},"mem":{"gid":8,"members":[]},"kmem":{"gid":9,"members":[]},"wheel":{"gid":10,"members":[]},"mail":{"gid":12,"members":["mail","postfix"]},"uucp":{"gid":14,"members":[]},"man":{"gid":15,"members":[]},"games":{"gid":20,"members":[]},"gopher":{"gid":30,"members":[]},"video":{"gid":39,"members":[]},"dip":{"gid":40,"members":[]},"ftp":{"gid":50,"members":[]},"lock":{"gid":54,"members":[]},"audio":{"gid":63,"members":[]},"nobody":{"gid":99,"members":[]},"users":{"gid":100,"members":[]},"floppy":{"gid":19,"members":[]},"vcsa":{"gid":69,"members":[]},"utmp":{"gid":22,"members":[]},"utempter":{"gid":35,"members":[]},"cdrom":{"gid":11,"members":[]},"tape":{"gid":33,"members":[]},"dialout":{"gid":18,"members":[]},"saslauth":{"gid":76,"members":[]},"postdrop":{"gid":90,"members":[]},"postfix":{"gid":89,"members":[]},"fuse":{"gid":499,"members":[]},"sshd":{"gid":74,"members":[]},"vagrant":{"gid":500,"members":["vagrant"]},"vboxsf":{"gid":498,"members":[]}}},"current_user":"root","cloud_v2":null,"languages":{"python":{"version":"2.6.6","builddate":"Jul 23 2015, 15:22:56"},"lua":{"version":"5.1.4"},"perl":{"version":"5.10.1","archname":"x86_64-linux-thread-multi"},"ruby":{"platform":"x86_64-linux","version":"2.1.8","release_date":"2015-12-16","target":"x86_64-pc-linux-gnu","target_cpu":"x86_64","target_vendor":"pc","target_os":"linux","host":"x86_64-pc-linux-gnu","host_cpu":"x86_64","host_os":"linux-gnu","host_vendor":"pc","bin_dir":"/opt/chefdk/embedded/bin","ruby_bin":"/opt/chefdk/embedded/bin/ruby","gems_dir":"/opt/chefdk/embedded/lib/ruby/gems/2.1.0","gem_bin":"/opt/chefdk/embedded/bin/gem"},"c":{"gcc":{"version":"4.4.7","description":"gcc version 4.4.7 20120313 (Red Hat 4.4.7-17) (GCC) "},"glibc":{"version":"2.12","description":"GNU C Library stable release version 2.12, by Roland McGrath et al."}}},"ohai_time":1473876575.7192242,"os":"linux","os_version":"2.6.32-642.1.1.el6.x86_64","lsb":{},"platform":"centos","platform_version":"6.8","platform_family":"rhel","ip6address":"fe80::a00:27ff:fe73:da86","cpu":{"0":{"vendor_id":"GenuineIntel","family":"6","model":"58","model_name":"Intel(R) Core(TM) i5-3470 CPU @ 3.20GHz","stepping":"9","mhz":"3192.754","cache_size":"6144 KB","physical_id":"0","core_id":"0","cores":"1","flags":["fpu","vme","de","pse","tsc","msr","pae","mce","cx8","apic","sep","mtrr","pge","mca","cmov","pat","pse36","clflush","mmx","fxsr","sse","sse2","syscall","nx","rdtscp","lm","constant_tsc","up","rep_good","xtopology","nonstop_tsc","unfair_spinlock","pni","pclmulqdq","monitor","ssse3","cx16","sse4_1","sse4_2","popcnt","aes","xsave","avx","rdrand","hypervisor","lahf_lm"]},"total":1,"real":1,"cores":1},"memory":{"swap":{"cached":"0kB","total":"1277948kB","free":"1277948kB"},"hugepages":{"total":"0","free":"0","reserved":"0","surplus":"0"},"total":"1922216kB","free":"178608kB","buffers":"82592kB","cached":"1345456kB","active":"470952kB","inactive":"1073092kB","dirty":"75404kB","writeback":"0kB","anon_pages":"116012kB","mapped":"10468kB","slab":"173484kB","slab_reclaimable":"152424kB","slab_unreclaim":"21060kB","page_tables":"2744kB","nfs_unstable":"0kB","bounce":"0kB","commit_limit":"2239056kB","committed_as":"249148kB","vmalloc_total":"34359738367kB","vmalloc_used":"32048kB","vmalloc_chunk":"34359695352kB","hugepage_size":"2048kB"},"virtualization":{"systems":{"vbox":"guest"},"system":"vbox","role":"guest"},"command":{"ps":"ps -ef"},"filesystem":{"/dev/mapper/VolGroup-lv_root":{"kb_size":"18261312","kb_used":"2077548","kb_available":"15249468","percent_used":"12%","mount":"/","total_inodes":"1169168","inodes_used":"97431","inodes_available":"1071737","inodes_percent_used":"9%","fs_type":"ext4","mount_options":["rw"],"uuid":"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e"},"tmpfs":{"kb_size":"961108","kb_used":"0","kb_available":"961108","percent_used":"0%","mount":"/dev/shm","total_inodes":"240277","inodes_used":"1","inodes_available":"240276","inodes_percent_used":"1%","fs_type":"tmpfs","mount_options":["rw"]},"/dev/sda1":{"kb_size":"487652","kb_used":"55186","kb_available":"406866","percent_used":"12%","mount":"/boot","total_inodes":"128016","inodes_used":"44","inodes_available":"127972","inodes_percent_used":"1%","fs_type":"ext4","mount_options":["rw"],"uuid":"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2"},"vagrant":{"kb_size":"741984072","kb_used":"156103296","kb_available":"585880776","percent_used":"22%","mount":"/vagrant","total_inodes":"1000","inodes_used":"0","inodes_available":"1000","inodes_percent_used":"0%","fs_type":"vboxsf","mount_options":["uid=500","gid=500","rw"]},"proc":{"mount":"/proc","fs_type":"proc","mount_options":["rw"]},"sysfs":{"mount":"/sys","fs_type":"sysfs","mount_options":["rw"]},"devpts":{"mount":"/dev/pts","fs_type":"devpts","mount_options":["rw","gid=5","mode=620"]},"none":{"mount":"/proc/sys/fs/binfmt_misc","fs_type":"binfmt_misc","mount_options":["rw"]},"/dev/sda2":{"fs_type":"LVM2_member","uuid":"1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22"},"/dev/mapper/VolGroup-lv_swap":{"fs_type":"swap","uuid":"376d9de0-a04a-4c8e-90fd-7721b522b166"},"rootfs":{"mount":"/","fs_type":"rootfs","mount_options":["rw"]},"devtmpfs":{"mount":"/dev","fs_type":"devtmpfs","mount_options":["rw","relatime","size=950368k","nr_inodes=237592","mode=755"]},"/proc/bus/usb":{"mount":"/proc/bus/usb","fs_type":"usbfs","mount_options":["rw","relatime"]}},"init_package":"init","filesystem2":{"by_device":{"/dev/mapper/VolGroup-lv_root":{"kb_size":"18261312","kb_used":"2077548","kb_available":"15249468","percent_used":"12%","total_inodes":"1169168","inodes_used":"97431","inodes_available":"1071737","inodes_percent_used":"9%","fs_type":"ext4","mount_options":["rw"],"uuid":"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e","mounts":["/"]},"tmpfs":{"kb_size":"961108","kb_used":"0","kb_available":"961108","percent_used":"0%","total_inodes":"240277","inodes_used":"1","inodes_available":"240276","inodes_percent_used":"1%","fs_type":"tmpfs","mount_options":["rw"],"mounts":["/dev/shm"]},"/dev/sda1":{"kb_size":"487652","kb_used":"55186","kb_available":"406866","percent_used":"12%","total_inodes":"128016","inodes_used":"44","inodes_available":"127972","inodes_percent_used":"1%","fs_type":"ext4","mount_options":["rw"],"uuid":"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2","mounts":["/boot"]},"vagrant":{"kb_size":"741984072","kb_used":"156103296","kb_available":"585880776","percent_used":"22%","total_inodes":"1000","inodes_used":"0","inodes_available":"1000","inodes_percent_used":"0%","fs_type":"vboxsf","mount_options":["uid=500","gid=500","rw"],"mounts":["/vagrant"]},"proc":{"fs_type":"proc","mount_options":["rw"],"mounts":["/proc"]},"sysfs":{"fs_type":"sysfs","mount_options":["rw"],"mounts":["/sys"]},"devpts":{"fs_type":"devpts","mount_options":["rw","gid=5","mode=620"],"mounts":["/dev/pts"]},"none":{"fs_type":"binfmt_misc","mount_options":["rw"],"mounts":["/proc/sys/fs/binfmt_misc"]},"/dev/sda":{"mounts":[]},"/dev/sda2":{"fs_type":"LVM2_member","uuid":"1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22","mounts":[]},"/dev/mapper/VolGroup-lv_swap":{"fs_type":"swap","uuid":"376d9de0-a04a-4c8e-90fd-7721b522b166","mounts":[]},"rootfs":{"fs_type":"rootfs","mount_options":["rw"],"mounts":["/"]},"devtmpfs":{"fs_type":"devtmpfs","mount_options":["rw","relatime","size=950368k","nr_inodes=237592","mode=755"],"mounts":["/dev"]},"/proc/bus/usb":{"fs_type":"usbfs","mount_options":["rw","relatime"],"mounts":["/proc/bus/usb"]}},"by_mountpoint":{"/":{"kb_size":"18261312","kb_used":"2077548","kb_available":"15249468","percent_used":"12%","total_inodes":"1169168","inodes_used":"97431","inodes_available":"1071737","inodes_percent_used":"9%","fs_type":"rootfs","mount_options":["rw"],"uuid":"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e","devices":["/dev/mapper/VolGroup-lv_root","rootfs"]},"/dev/shm":{"kb_size":"961108","kb_used":"0","kb_available":"961108","percent_used":"0%","total_inodes":"240277","inodes_used":"1","inodes_available":"240276","inodes_percent_used":"1%","fs_type":"tmpfs","mount_options":["rw"],"devices":["tmpfs"]},"/boot":{"kb_size":"487652","kb_used":"55186","kb_available":"406866","percent_used":"12%","total_inodes":"128016","inodes_used":"44","inodes_available":"127972","inodes_percent_used":"1%","fs_type":"ext4","mount_options":["rw"],"uuid":"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2","devices":["/dev/sda1"]},"/vagrant":{"kb_size":"741984072","kb_used":"156103296","kb_available":"585880776","percent_used":"22%","total_inodes":"1000","inodes_used":"0","inodes_available":"1000","inodes_percent_used":"0%","fs_type":"vboxsf","mount_options":["uid=500","gid=500","rw"],"devices":["vagrant"]},"/proc":{"fs_type":"proc","mount_options":["rw"],"devices":["proc"]},"/sys":{"fs_type":"sysfs","mount_options":["rw"],"devices":["sysfs"]},"/dev/pts":{"fs_type":"devpts","mount_options":["rw","gid=5","mode=620"],"devices":["devpts"]},"/proc/sys/fs/binfmt_misc":{"fs_type":"binfmt_misc","mount_options":["rw"],"devices":["none"]},"/dev":{"fs_type":"devtmpfs","mount_options":["rw","relatime","size=950368k","nr_inodes=237592","mode=755"],"devices":["devtmpfs"]},"/proc/bus/usb":{"fs_type":"usbfs","mount_options":["rw","relatime"],"devices":["/proc/bus/usb"]}},"by_pair":{"/dev/mapper/VolGroup-lv_root,/":{"device":"/dev/mapper/VolGroup-lv_root","kb_size":"18261312","kb_used":"2077548","kb_available":"15249468","percent_used":"12%","mount":"/","total_inodes":"1169168","inodes_used":"97431","inodes_available":"1071737","inodes_percent_used":"9%","fs_type":"ext4","mount_options":["rw"],"uuid":"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e"},"tmpfs,/dev/shm":{"device":"tmpfs","kb_size":"961108","kb_used":"0","kb_available":"961108","percent_used":"0%","mount":"/dev/shm","total_inodes":"240277","inodes_used":"1","inodes_available":"240276","inodes_percent_used":"1%","fs_type":"tmpfs","mount_options":["rw"]},"/dev/sda1,/boot":{"device":"/dev/sda1","kb_size":"487652","kb_used":"55186","kb_available":"406866","percent_used":"12%","mount":"/boot","total_inodes":"128016","inodes_used":"44","inodes_available":"127972","inodes_percent_used":"1%","fs_type":"ext4","mount_options":["rw"],"uuid":"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2"},"vagrant,/vagrant":{"device":"vagrant","kb_size":"741984072","kb_used":"156103296","kb_available":"585880776","percent_used":"22%","mount":"/vagrant","total_inodes":"1000","inodes_used":"0","inodes_available":"1000","inodes_percent_used":"0%","fs_type":"vboxsf","mount_options":["uid=500","gid=500","rw"]},"proc,/proc":{"device":"proc","mount":"/proc","fs_type":"proc","mount_options":["rw"]},"sysfs,/sys":{"device":"sysfs","mount":"/sys","fs_type":"sysfs","mount_options":["rw"]},"devpts,/dev/pts":{"device":"devpts","mount":"/dev/pts","fs_type":"devpts","mount_options":["rw","gid=5","mode=620"]},"none,/proc/sys/fs/binfmt_misc":{"device":"none","mount":"/proc/sys/fs/binfmt_misc","fs_type":"binfmt_misc","mount_options":["rw"]},"/dev/sda,":{"device":"/dev/sda"},"/dev/sda2,":{"device":"/dev/sda2","fs_type":"LVM2_member","uuid":"1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22"},"/dev/mapper/VolGroup-lv_swap,":{"device":"/dev/mapper/VolGroup-lv_swap","fs_type":"swap","uuid":"376d9de0-a04a-4c8e-90fd-7721b522b166"},"rootfs,/":{"device":"rootfs","mount":"/","fs_type":"rootfs","mount_options":["rw"]},"devtmpfs,/dev":{"device":"devtmpfs","mount":"/dev","fs_type":"devtmpfs","mount_options":["rw","relatime","size=950368k","nr_inodes=237592","mode=755"]},"/proc/bus/usb,/proc/bus/usb":{"device":"/proc/bus/usb","mount":"/proc/bus/usb","fs_type":"usbfs","mount_options":["rw","relatime"]}}},"root_group":"root","shells":["/bin/sh","/bin/bash","/sbin/nologin","/bin/dash"],"fips":{"kernel":{"enabled":false}},"block_device":{"ram0":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram1":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram2":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram3":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram4":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram5":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram6":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram7":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram8":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram9":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram10":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram11":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram12":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram13":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram14":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"ram15":{"size":"32768","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop0":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop1":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop2":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop3":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop4":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop5":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop6":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"loop7":{"size":"0","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"sda":{"size":"40960000","removable":"0","model":"VBOX HARDDISK","rev":"1.0","state":"running","timeout":"30","vendor":"ATA","queue_depth":"31","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"dm-0":{"size":"37371904","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"},"dm-1":{"size":"2555904","removable":"0","rotational":"1","physical_block_size":"512","logical_block_size":"512"}},"keys":{"ssh":{"host_dsa_public":"AAAAB3NzaC1kc3MAAACBAKzeNZCMEUlmzh1wSJ1LcwQeL/WPRkWkOJwbKUFCcXOFosotvF7c7G7qUMFd24dtmExmocUeIycLSKLNPTBwNjYacqJKhWfXPaAjKCKEa7V1WJQbjPipbuCNuryi+E9jKODG18+F4qcTjml4fARJe7vpEyOlG4n25gcdaUH8ebJ/AAAAFQCmDtC1oX0AOIvoWZLVY5jTfNpCYwAAAIBI5qVfKbJUN1CxOZ86KP8d+aougFct2hp8nl19T24lyrGxNeoQhP19pwr+MxwRGrxzHbV9rFVDTSDOnpkrdSCJYGMIM1ASmgCllI4Avr275Fzjr5NDFTku9m0I2n4zfEynmZ07Lpsmho8UECyZ0bOCayCjgm2EkWdtxoKGv9LW3QAAAIEAjzWy3LCo61SnIOALKd+xo0GCCsKnvPaofw3sX6PAMMlS1NMEd7jqdHv4/KsWWUmOPL1dpw+cuFTdHph3TpJRrR3u3gWBt8fXWO8QyNsNisD9OZHz39DLSqz8UKmwry8gC1zFZ6MuBC8LBWiDABOXEMXpFR5l0drNJE24tAzNAq4=","host_rsa_public":"AAAAB3NzaC1yc2EAAAABIwAAAQEAoKGBorpanawyuJ4UK34f0WhnAZ7gBBKS4OHAsFA58ATUPQVpQNdkFSmHdGd+XZhN9cy9ERzEvyG/2Znt0749/v237I3ewkP6Dayvkp/okW6pWRdWrwcfiN2cSkpjE4qcsVa5w8ZH4gZt5HfLY97Qgfrib7npSKaxel768vP0MmLLCCN3xkEZt2uuONmvwzHfHUbkrIWVm+O6ZKmW8P7VZaioSIj6579I6vbkJdy3cpMUrGwNJd8uFH/LXIbb2qBuTgQjJL/rBBGtAM052txV37EiJy5/FdT/eanud+zvW2iIjRjQwFl8Ot+gVPLpCE/H5MLnNZrLw4Yfwlipte4TZQ=="}},"hostname":"VM1","machinename":"VM1","fqdn":"VM1","domain":null,"chef_packages":{"ohai":{"version":"8.19.1","ohai_root":"/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai"},"chef":{"version":"12.13.37","chef_root":"/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib"}},"uptime_seconds":103,"uptime":"1 minutes 43 seconds","idletime_seconds":24,"idletime":"24 seconds","packages":{"tar":{"epoch":"2","version":"1.23","release":"14.el6","installdate":"1468189149","arch":"x86_64"},"setup":{"epoch":"0","version":"2.8.14","release":"20.el6_4.1","installdate":"1468188629","arch":"noarch"},"libselinux-utils":{"epoch":"0","version":"2.0.94","release":"7.el6","installdate":"1468189149","arch":"x86_64"},"basesystem":{"epoch":"0","version":"10.0","release":"4.el6","installdate":"1468188630","arch":"noarch"},"gmp":{"epoch":"0","version":"4.3.1","release":"10.el6","installdate":"1468189149","arch":"x86_64"},"coreutils":{"epoch":"0","version":"8.4","release":"43.el6","installdate":"1468189150","arch":"x86_64"},"shadow-utils":{"epoch":"2","version":"4.1.5.1","release":"5.el6","installdate":"1468189151","arch":"x86_64"},"openssl":{"epoch":"0","version":"1.0.1e","release":"48.el6_8.1","installdate":"1468189152","arch":"x86_64"},"mysql-libs":{"epoch":"0","version":"5.1.73","release":"7.el6","installdate":"1468189152","arch":"x86_64"},"libcap":{"epoch":"0","version":"2.16","release":"5.5.el6","installdate":"1468188643","arch":"x86_64"},"iputils":{"epoch":"0","version":"20071127","release":"21.el6","installdate":"1468189153","arch":"x86_64"},"info":{"epoch":"0","version":"4.13a","release":"8.el6","installdate":"1468188643","arch":"x86_64"},"initscripts":{"epoch":"0","version":"9.03.53","release":"1.el6.centos","installdate":"1468189153","arch":"x86_64"},"device-mapper-libs":{"epoch":"0","version":"1.02.117","release":"7.el6","installdate":"1468189154","arch":"x86_64"},"libacl":{"epoch":"0","version":"2.2.49","release":"6.el6","installdate":"1468188643","arch":"x86_64"},"device-mapper-event-libs":{"epoch":"0","version":"1.02.117","release":"7.el6","installdate":"1468189154","arch":"x86_64"},"lvm2-libs":{"epoch":"0","version":"2.02.143","release":"7.el6","installdate":"1468189154","arch":"x86_64"},"device-mapper-multipath-libs":{"epoch":"0","version":"0.4.9","release":"93.el6","installdate":"1468189154","arch":"x86_64"},"sed":{"epoch":"0","version":"4.2.1","release":"10.el6","installdate":"1468188644","arch":"x86_64"},"dracut-kernel":{"epoch":"0","version":"004","release":"409.el6_8.2","installdate":"1468189155","arch":"noarch"},"sqlite":{"epoch":"0","version":"3.6.20","release":"1.el6_7.2","installdate":"1468189155","arch":"x86_64"},"bzip2-libs":{"epoch":"0","version":"1.0.5","release":"7.el6_0","installdate":"1468188644","arch":"x86_64"},"nss":{"epoch":"0","version":"3.21.0","release":"8.el6","installdate":"1468189155","arch":"x86_64"},"openssh":{"epoch":"0","version":"5.3p1","release":"118.1.el6_8","installdate":"1468189156","arch":"x86_64"},"libcurl":{"epoch":"0","version":"7.19.7","release":"52.el6","installdate":"1468189156","arch":"x86_64"},"libgpg-error":{"epoch":"0","version":"1.7","release":"4.el6","installdate":"1468188645","arch":"x86_64"},"curl":{"epoch":"0","version":"7.19.7","release":"52.el6","installdate":"1468189156","arch":"x86_64"},"openldap":{"epoch":"0","version":"2.4.40","release":"12.el6","installdate":"1468189156","arch":"x86_64"},"selinux-policy":{"epoch":"0","version":"3.7.19","release":"292.el6","installdate":"1468189157","arch":"noarch"},"cronie-anacron":{"epoch":"0","version":"1.4.4","release":"15.el6_7.1","installdate":"1468189159","arch":"x86_64"},"libidn":{"epoch":"0","version":"1.18","release":"2.el6","installdate":"1468188645","arch":"x86_64"},"libuser":{"epoch":"0","version":"0.56.13","release":"8.el6_7","installdate":"1468189160","arch":"x86_64"},"xz-libs":{"epoch":"0","version":"4.999.9","release":"0.5.beta.20091007git.el6","installdate":"1468188645","arch":"x86_64"},"python-pycurl":{"epoch":"0","version":"7.19.0","release":"9.el6","installdate":"1468189160","arch":"x86_64"},"yum-plugin-fastestmirror":{"epoch":"0","version":"1.1.30","release":"37.el6","installdate":"1468189160","arch":"noarch"},"bzip2":{"epoch":"0","version":"1.0.5","release":"7.el6_0","installdate":"1468188646","arch":"x86_64"},"kernel-firmware":{"epoch":"0","version":"2.6.32","release":"642.1.1.el6","installdate":"1468189163","arch":"noarch"},"fuse":{"epoch":"0","version":"2.8.3","release":"5.el6","installdate":"1468189169","arch":"x86_64"},"cpio":{"epoch":"0","version":"2.10","release":"12.el6_5","installdate":"1468188646","arch":"x86_64"},"selinux-policy-targeted":{"epoch":"0","version":"3.7.19","release":"292.el6","installdate":"1468189169","arch":"noarch"},"openssh-server":{"epoch":"0","version":"5.3p1","release":"118.1.el6_8","installdate":"1468189194","arch":"x86_64"},"dhclient":{"epoch":"12","version":"4.1.1","release":"51.P1.el6.centos","installdate":"1468189194","arch":"x86_64"},"libtasn1":{"epoch":"0","version":"2.3","release":"6.el6_5","installdate":"1468188646","arch":"x86_64"},"lvm2":{"epoch":"0","version":"2.02.143","release":"7.el6","installdate":"1468189195","arch":"x86_64"},"p11-kit-trust":{"epoch":"0","version":"0.18.5","release":"2.el6_5.2","installdate":"1468188647","arch":"x86_64"},"libdrm":{"epoch":"0","version":"2.4.65","release":"2.el6","installdate":"1468189195","arch":"x86_64"},"libnih":{"epoch":"0","version":"1.0.1","release":"7.el6","installdate":"1468188647","arch":"x86_64"},"grub":{"epoch":"1","version":"0.97","release":"94.el6_7.1","installdate":"1468189196","arch":"x86_64"},"logrotate":{"epoch":"0","version":"3.7.8","release":"26.el6_7","installdate":"1468189196","arch":"x86_64"},"libusb":{"epoch":"0","version":"0.1.12","release":"23.el6","installdate":"1468188647","arch":"x86_64"},"binutils":{"epoch":"0","version":"2.20.51.0.2","release":"5.44.el6","installdate":"1468189197","arch":"x86_64"},"libutempter":{"epoch":"0","version":"1.1.5","release":"4.1.el6","installdate":"1468188648","arch":"x86_64"},"libxml2":{"epoch":"0","version":"2.7.6","release":"21.el6_8.1","installdate":"1468189197","arch":"x86_64"},"psmisc":{"epoch":"0","version":"22.6","release":"19.el6_5","installdate":"1468188648","arch":"x86_64"},"centos-indexhtml":{"epoch":"0","version":"6","release":"2.el6.centos","installdate":"1473876560","arch":"noarch"},"vim-minimal":{"epoch":"2","version":"7.4.629","release":"5.el6","installdate":"1468188648","arch":"x86_64"},"nano":{"epoch":"0","version":"2.0.9","release":"7.el6","installdate":"1473876561","arch":"x86_64"},"chefdk":{"epoch":"0","version":"0.17.17","release":"1.el6","installdate":"1473876571","arch":"x86_64"},"e2fsprogs-libs":{"epoch":"0","version":"1.41.12","release":"22.el6","installdate":"1468188648","arch":"x86_64"},"diffutils":{"epoch":"0","version":"2.8.1","release":"28.el6","installdate":"1468188649","arch":"x86_64"},"dash":{"epoch":"0","version":"0.5.5.1","release":"4.el6","installdate":"1468188649","arch":"x86_64"},"groff":{"epoch":"0","version":"1.18.1.4","release":"21.el6","installdate":"1468188650","arch":"x86_64"},"cracklib":{"epoch":"0","version":"2.8.16","release":"4.el6","installdate":"1468188650","arch":"x86_64"},"module-init-tools":{"epoch":"0","version":"3.9","release":"25.el6","installdate":"1468188653","arch":"x86_64"},"redhat-logos":{"epoch":"0","version":"60.0.14","release":"12.el6.centos","installdate":"1468188654","arch":"noarch"},"libedit":{"epoch":"0","version":"2.11","release":"4.20080712cvs.1.el6","installdate":"1468188656","arch":"x86_64"},"mingetty":{"epoch":"0","version":"1.08","release":"5.el6","installdate":"1468188656","arch":"x86_64"},"gnupg2":{"epoch":"0","version":"2.0.14","release":"8.el6","installdate":"1468188657","arch":"x86_64"},"fipscheck-lib":{"epoch":"0","version":"1.2.0","release":"7.el6","installdate":"1468188658","arch":"x86_64"},"pciutils-libs":{"epoch":"0","version":"3.1.10","release":"4.el6","installdate":"1468188658","arch":"x86_64"},"libcap-ng":{"epoch":"0","version":"0.6.4","release":"3.el6_0.1","installdate":"1468188658","arch":"x86_64"},"python":{"epoch":"0","version":"2.6.6","release":"64.el6","installdate":"1468188658","arch":"x86_64"},"pygpgme":{"epoch":"0","version":"0.1","release":"18.20090824bzr68.el6","installdate":"1468188667","arch":"x86_64"},"python-iniparse":{"epoch":"0","version":"0.3.1","release":"2.1.el6","installdate":"1468188667","arch":"noarch"},"newt":{"epoch":"0","version":"0.52.11","release":"3.el6","installdate":"1468188667","arch":"x86_64"},"ustr":{"epoch":"0","version":"1.0.4","release":"9.1.el6","installdate":"1468188667","arch":"x86_64"},"libaio":{"epoch":"0","version":"0.3.107","release":"10.el6","installdate":"1468188667","arch":"x86_64"},"gamin":{"epoch":"0","version":"0.1.10","release":"9.el6","installdate":"1468188667","arch":"x86_64"},"shared-mime-info":{"epoch":"0","version":"0.70","release":"6.el6","installdate":"1468188668","arch":"x86_64"},"grubby":{"epoch":"0","version":"7.0.15","release":"7.el6","installdate":"1468188669","arch":"x86_64"},"dbus-glib":{"epoch":"0","version":"0.86","release":"6.el6","installdate":"1468188670","arch":"x86_64"},"iptables":{"epoch":"0","version":"1.4.7","release":"16.el6","installdate":"1468188670","arch":"x86_64"},"cryptsetup-luks-libs":{"epoch":"0","version":"1.2.0","release":"11.el6","installdate":"1468188673","arch":"x86_64"},"plymouth":{"epoch":"0","version":"0.8.3","release":"27.el6.centos.1","installdate":"1468188673","arch":"x86_64"},"cyrus-sasl":{"epoch":"0","version":"2.1.23","release":"15.el6_6.2","installdate":"1468188674","arch":"x86_64"},"crontabs":{"epoch":"0","version":"1.10","release":"33.el6","installdate":"1468188677","arch":"noarch"},"kbd":{"epoch":"0","version":"1.15","release":"11.el6","installdate":"1468188679","arch":"x86_64"},"system-config-firewall-base":{"epoch":"0","version":"1.2.27","release":"7.2.el6_6","installdate":"1468188721","arch":"noarch"},"cryptsetup-luks":{"epoch":"0","version":"1.2.0","release":"11.el6","installdate":"1468188722","arch":"x86_64"},"e2fsprogs":{"epoch":"0","version":"1.41.12","release":"22.el6","installdate":"1468188726","arch":"x86_64"},"acl":{"epoch":"0","version":"2.2.49","release":"6.el6","installdate":"1468188726","arch":"x86_64"},"bridge-utils":{"epoch":"0","version":"1.2","release":"10.el6","installdate":"1468188726","arch":"x86_64"},"epel-release":{"epoch":"0","version":"6","release":"8","installdate":"1468188848","arch":"noarch"},"libgcc":{"epoch":"0","version":"4.4.7","release":"17.el6","installdate":"1468188934","arch":"x86_64"},"tzdata":{"epoch":"0","version":"2016f","release":"1.el6","installdate":"1468188935","arch":"noarch"},"glibc-common":{"epoch":"0","version":"2.12","release":"1.192.el6","installdate":"1468188944","arch":"x86_64"},"perl-libs":{"epoch":"4","version":"5.10.1","release":"141.el6_7.1","installdate":"1468188948","arch":"x86_64"},"perl-version":{"epoch":"3","version":"0.77","release":"141.el6_7.1","installdate":"1468188949","arch":"x86_64"},"perl":{"epoch":"4","version":"5.10.1","release":"141.el6_7.1","installdate":"1468188951","arch":"x86_64"},"mpfr":{"epoch":"0","version":"2.4.1","release":"6.el6","installdate":"1468188952","arch":"x86_64"},"libstdc++-devel":{"epoch":"0","version":"4.4.7","release":"17.el6","installdate":"1468188953","arch":"x86_64"},"cloog-ppl":{"epoch":"0","version":"0.15.7","release":"1.2.el6","installdate":"1468188954","arch":"x86_64"},"glibc-devel":{"epoch":"0","version":"2.12","release":"1.192.el6","installdate":"1468188954","arch":"x86_64"},"gcc":{"epoch":"0","version":"4.4.7","release":"17.el6","installdate":"1468188955","arch":"x86_64"},"wget":{"epoch":"0","version":"1.12","release":"8.el6","installdate":"1468188956","arch":"x86_64"},"bash":{"epoch":"0","version":"4.1.2","release":"40.el6","installdate":"1468189144","arch":"x86_64"},"chkconfig":{"epoch":"0","version":"1.3.49.5","release":"1.el6","installdate":"1468189144","arch":"x86_64"},"nspr":{"epoch":"0","version":"4.11.0","release":"1.el6","installdate":"1468189144","arch":"x86_64"},"db4":{"epoch":"0","version":"4.7.25","release":"20.el6_7","installdate":"1468189144","arch":"x86_64"},"glib2":{"epoch":"0","version":"2.28.8","release":"5.el6","installdate":"1468189145","arch":"x86_64"},"gawk":{"epoch":"0","version":"3.1.7","release":"10.el6_7.3","installdate":"1468189146","arch":"x86_64"},"file-libs":{"epoch":"0","version":"5.04","release":"30.el6","installdate":"1468189146","arch":"x86_64"},"libuuid":{"epoch":"0","version":"2.17.2","release":"12.24.el6","installdate":"1468189146","arch":"x86_64"},"findutils":{"epoch":"1","version":"4.4.2","release":"9.el6","installdate":"1468189147","arch":"x86_64"},"hwdata":{"epoch":"0","version":"0.233","release":"16.1.el6","installdate":"1468189147","arch":"noarch"},"libpciaccess":{"epoch":"0","version":"0.13.4","release":"1.el6","installdate":"1468189148","arch":"x86_64"},"db4-utils":{"epoch":"0","version":"4.7.25","release":"20.el6_7","installdate":"1468189148","arch":"x86_64"},"upstart":{"epoch":"0","version":"0.6.5","release":"16.el6","installdate":"1468189148","arch":"x86_64"},"procps":{"epoch":"0","version":"3.2.8","release":"36.el6","installdate":"1468189149","arch":"x86_64"},"filesystem":{"epoch":"0","version":"2.4.30","release":"3.el6","installdate":"1468188630","arch":"x86_64"},"device-mapper-persistent-data":{"epoch":"0","version":"0.6.2","release":"0.1.rc7.el6","installdate":"1468189149","arch":"x86_64"},"ncurses-base":{"epoch":"0","version":"5.7","release":"4.20090207.el6","installdate":"1468188630","arch":"x86_64"},"coreutils-libs":{"epoch":"0","version":"8.4","release":"43.el6","installdate":"1468189149","arch":"x86_64"},"pam":{"epoch":"0","version":"1.1.1","release":"22.el6","installdate":"1468189150","arch":"x86_64"},"ca-certificates":{"epoch":"0","version":"2015.2.6","release":"65.0.1.el6_7","installdate":"1468189151","arch":"noarch"},"ncurses-libs":{"epoch":"0","version":"5.7","release":"4.20090207.el6","installdate":"1468188643","arch":"x86_64"},"libssh2":{"epoch":"0","version":"1.4.2","release":"2.el6_7.1","installdate":"1468189152","arch":"x86_64"},"libattr":{"epoch":"0","version":"2.4.44","release":"7.el6","installdate":"1468188643","arch":"x86_64"},"centos-release":{"epoch":"0","version":"6","release":"8.el6.centos.12.3","installdate":"1468189152","arch":"x86_64"},"zlib":{"epoch":"0","version":"1.2.3","release":"29.el6","installdate":"1468188643","arch":"x86_64"},"util-linux-ng":{"epoch":"0","version":"2.17.2","release":"12.24.el6","installdate":"1468189153","arch":"x86_64"},"popt":{"epoch":"0","version":"1.13","release":"7.el6","installdate":"1468188643","arch":"x86_64"},"udev":{"epoch":"0","version":"147","release":"2.73.el6","installdate":"1468189154","arch":"x86_64"},"libcom_err":{"epoch":"0","version":"1.41.12","release":"22.el6","installdate":"1468188643","arch":"x86_64"},"device-mapper":{"epoch":"0","version":"1.02.117","release":"7.el6","installdate":"1468189154","arch":"x86_64"},"device-mapper-event":{"epoch":"0","version":"1.02.117","release":"7.el6","installdate":"1468189154","arch":"x86_64"},"libsepol":{"epoch":"0","version":"2.0.41","release":"4.el6","installdate":"1468188643","arch":"x86_64"},"kpartx":{"epoch":"0","version":"0.4.9","release":"93.el6","installdate":"1468189154","arch":"x86_64"},"dracut":{"epoch":"0","version":"004","release":"409.el6_8.2","installdate":"1468189154","arch":"noarch"},"dhcp-common":{"epoch":"12","version":"4.1.1","release":"51.P1.el6.centos","installdate":"1468189155","arch":"x86_64"},"readline":{"epoch":"0","version":"6.0","release":"4.el6","installdate":"1468188644","arch":"x86_64"},"nss-softokn":{"epoch":"0","version":"3.14.3","release":"23.el6_7","installdate":"1468189155","arch":"x86_64"},"nss-sysinit":{"epoch":"0","version":"3.21.0","release":"8.el6","installdate":"1468189156","arch":"x86_64"},"nss-tools":{"epoch":"0","version":"3.21.0","release":"8.el6","installdate":"1468189156","arch":"x86_64"},"rpm-libs":{"epoch":"0","version":"4.8.0","release":"55.el6","installdate":"1468189156","arch":"x86_64"},"dbus-libs":{"epoch":"1","version":"1.2.24","release":"8.el6_6","installdate":"1468188645","arch":"x86_64"},"rpm":{"epoch":"0","version":"4.8.0","release":"55.el6","installdate":"1468189156","arch":"x86_64"},"pcre":{"epoch":"0","version":"7.8","release":"7.el6","installdate":"1468188645","arch":"x86_64"},"policycoreutils":{"epoch":"0","version":"2.0.83","release":"29.el6","installdate":"1468189157","arch":"x86_64"},"lua":{"epoch":"0","version":"5.1.4","release":"4.1.el6","installdate":"1468188645","arch":"x86_64"},"postfix":{"epoch":"2","version":"2.6.6","release":"6.el6_7.1","installdate":"1468189158","arch":"x86_64"},"cyrus-sasl-lib":{"epoch":"0","version":"2.1.23","release":"15.el6_6.2","installdate":"1468188645","arch":"x86_64"},"cronie":{"epoch":"0","version":"1.4.4","release":"15.el6_7.1","installdate":"1468189159","arch":"x86_64"},"expat":{"epoch":"0","version":"2.0.1","release":"11.el6_2","installdate":"1468188645","arch":"x86_64"},"rpm-python":{"epoch":"0","version":"4.8.0","release":"55.el6","installdate":"1468189160","arch":"x86_64"},"python-urlgrabber":{"epoch":"0","version":"3.9.1","release":"11.el6","installdate":"1468189160","arch":"noarch"},"libgcrypt":{"epoch":"0","version":"1.4.5","release":"11.el6_4","installdate":"1468188646","arch":"x86_64"},"yum":{"epoch":"0","version":"3.2.29","release":"73.el6.centos","installdate":"1468189160","arch":"noarch"},"kernel":{"epoch":"0","version":"2.6.32","release":"573.el6","installdate":"1468188685","arch":"x86_64"},"checkpolicy":{"epoch":"0","version":"2.0.22","release":"1.el6","installdate":"1468188646","arch":"x86_64"},"passwd":{"epoch":"0","version":"0.77","release":"7.el6","installdate":"1468189169","arch":"x86_64"},"which":{"epoch":"0","version":"2.19","release":"6.el6","installdate":"1468188646","arch":"x86_64"},"sudo":{"epoch":"0","version":"1.8.6p3","release":"24.el6","installdate":"1468189193","arch":"x86_64"},"pth":{"epoch":"0","version":"2.0.7","release":"9.3.el6","installdate":"1468188646","arch":"x86_64"},"openssh-clients":{"epoch":"0","version":"5.3p1","release":"118.1.el6_8","installdate":"1468189194","arch":"x86_64"},"sysvinit-tools":{"epoch":"0","version":"2.87","release":"6.dsf.el6","installdate":"1468188646","arch":"x86_64"},"device-mapper-multipath":{"epoch":"0","version":"0.4.9","release":"93.el6","installdate":"1468189194","arch":"x86_64"},"p11-kit":{"epoch":"0","version":"0.18.5","release":"2.el6_5.2","installdate":"1468188646","arch":"x86_64"},"mdadm":{"epoch":"0","version":"3.3.4","release":"1.el6","installdate":"1468189195","arch":"x86_64"},"iscsi-initiator-utils":{"epoch":"0","version":"6.2.0.873","release":"21.el6","installdate":"1468189195","arch":"x86_64"},"audit":{"epoch":"0","version":"2.4.5","release":"3.el6","installdate":"1468189196","arch":"x86_64"},"xfsprogs":{"epoch":"0","version":"3.1.1","release":"19.el6","installdate":"1468189196","arch":"x86_64"},"MAKEDEV":{"epoch":"0","version":"3.24","release":"6.el6","installdate":"1468188648","arch":"x86_64"},"gdbm":{"epoch":"0","version":"1.8.0","release":"39.el6","installdate":"1468189197","arch":"x86_64"},"pinentry":{"epoch":"0","version":"0.7.6","release":"8.el6","installdate":"1468188648","arch":"x86_64"},"kernel-devel":{"epoch":"0","version":"2.6.32","release":"642.1.1.el6","installdate":"1473872895","arch":"x86_64"},"net-tools":{"epoch":"0","version":"1.60","release":"110.el6_2","installdate":"1468188648","arch":"x86_64"},"lynx":{"epoch":"0","version":"2.8.6","release":"27.el6","installdate":"1473876561","arch":"x86_64"},"chef":{"epoch":"0","version":"12.13.37","release":"1.el6","installdate":"1473876563","arch":"x86_64"},"libss":{"epoch":"0","version":"1.41.12","release":"22.el6","installdate":"1468188648","arch":"x86_64"},"m4":{"epoch":"0","version":"1.4.13","release":"5.el6","installdate":"1468188649","arch":"x86_64"},"ncurses":{"epoch":"0","version":"5.7","release":"4.20090207.el6","installdate":"1468188649","arch":"x86_64"},"less":{"epoch":"0","version":"436","release":"13.el6","installdate":"1468188650","arch":"x86_64"},"gzip":{"epoch":"0","version":"1.3.12","release":"22.el6","installdate":"1468188650","arch":"x86_64"},"cracklib-dicts":{"epoch":"0","version":"2.8.16","release":"4.el6","installdate":"1468188651","arch":"x86_64"},"plymouth-scripts":{"epoch":"0","version":"0.8.3","release":"27.el6.centos.1","installdate":"1468188654","arch":"x86_64"},"keyutils-libs":{"epoch":"0","version":"1.4","release":"5.el6","installdate":"1468188656","arch":"x86_64"},"gpgme":{"epoch":"0","version":"1.1.8","release":"3.el6","installdate":"1468188657","arch":"x86_64"},"fipscheck":{"epoch":"0","version":"1.2.0","release":"7.el6","installdate":"1468188658","arch":"x86_64"},"ethtool":{"epoch":"2","version":"3.5","release":"6.el6","installdate":"1468188658","arch":"x86_64"},"plymouth-core-libs":{"epoch":"0","version":"0.8.3","release":"27.el6.centos.1","installdate":"1468188658","arch":"x86_64"},"libffi":{"epoch":"0","version":"3.0.5","release":"3.2.el6","installdate":"1468188658","arch":"x86_64"},"python-libs":{"epoch":"0","version":"2.6.6","release":"64.el6","installdate":"1468188666","arch":"x86_64"},"slang":{"epoch":"0","version":"2.2.1","release":"1.el6","installdate":"1468188667","arch":"x86_64"},"newt-python":{"epoch":"0","version":"0.52.11","release":"3.el6","installdate":"1468188667","arch":"x86_64"},"libsemanage":{"epoch":"0","version":"2.0.43","release":"5.1.el6","installdate":"1468188667","arch":"x86_64"},"pkgconfig":{"epoch":"1","version":"0.23","release":"9.1.el6","installdate":"1468188667","arch":"x86_64"},"yum-metadata-parser":{"epoch":"0","version":"1.1.2","release":"16.el6","installdate":"1468188669","arch":"x86_64"},"rsyslog":{"epoch":"0","version":"5.8.10","release":"10.el6_6","installdate":"1468188674","arch":"x86_64"},"iptables-ipv6":{"epoch":"0","version":"1.4.7","release":"16.el6","installdate":"1468188677","arch":"x86_64"},"kbd-misc":{"epoch":"0","version":"1.15","release":"11.el6","installdate":"1468188679","arch":"noarch"},"b43-openfwwf":{"epoch":"0","version":"5.2","release":"10.el6","installdate":"1468188724","arch":"noarch"},"authconfig":{"epoch":"0","version":"6.1.12","release":"23.el6","installdate":"1468188724","arch":"x86_64"},"efibootmgr":{"epoch":"0","version":"0.5.4","release":"13.el6","installdate":"1468188725","arch":"x86_64"},"attr":{"epoch":"0","version":"2.4.44","release":"7.el6","installdate":"1468188726","arch":"x86_64"},"rootfiles":{"epoch":"0","version":"8.1","release":"6.1.el6","installdate":"1468188726","arch":"noarch"},"gpg-pubkey":{"epoch":"0","version":"c105b9de","release":"4e0fd3a3","installdate":"1468188902","arch":"(none)"},"kernel-headers":{"epoch":"0","version":"2.6.32","release":"642.1.1.el6","installdate":"1468188934","arch":"x86_64"},"glibc":{"epoch":"0","version":"2.12","release":"1.192.el6","installdate":"1468188936","arch":"x86_64"},"perl-Pod-Escapes":{"epoch":"1","version":"1.04","release":"141.el6_7.1","installdate":"1468188947","arch":"x86_64"},"perl-Pod-Simple":{"epoch":"1","version":"3.13","release":"141.el6_7.1","installdate":"1468188949","arch":"x86_64"},"perl-Module-Pluggable":{"epoch":"1","version":"3.90","release":"141.el6_7.1","installdate":"1468188949","arch":"x86_64"},"libstdc++":{"epoch":"0","version":"4.4.7","release":"17.el6","installdate":"1468188952","arch":"x86_64"},"cpp":{"epoch":"0","version":"4.4.7","release":"17.el6","installdate":"1468188953","arch":"x86_64"},"ppl":{"epoch":"0","version":"0.10.2","release":"11.el6","installdate":"1468188954","arch":"x86_64"},"glibc-headers":{"epoch":"0","version":"2.12","release":"1.192.el6","installdate":"1468188954","arch":"x86_64"},"libgomp":{"epoch":"0","version":"4.4.7","release":"17.el6","installdate":"1468188954","arch":"x86_64"},"gcc-c++":{"epoch":"0","version":"4.4.7","release":"17.el6","installdate":"1468188956","arch":"x86_64"},"make":{"epoch":"1","version":"3.81","release":"23.el6","installdate":"1468188956","arch":"x86_64"},"libselinux":{"epoch":"0","version":"2.0.94","release":"7.el6","installdate":"1468189144","arch":"x86_64"},"audit-libs":{"epoch":"0","version":"2.4.5","release":"3.el6","installdate":"1468189144","arch":"x86_64"},"nss-util":{"epoch":"0","version":"3.21.0","release":"2.el6","installdate":"1468189144","arch":"x86_64"},"krb5-libs":{"epoch":"0","version":"1.10.3","release":"57.el6","installdate":"1468189145","arch":"x86_64"},"grep":{"epoch":"0","version":"2.20","release":"3.el6_7.1","installdate":"1468189146","arch":"x86_64"},"libudev":{"epoch":"0","version":"147","release":"2.73.el6","installdate":"1468189146","arch":"x86_64"},"elfutils-libelf":{"epoch":"0","version":"0.164","release":"2.el6","installdate":"1468189146","arch":"x86_64"},"libblkid":{"epoch":"0","version":"2.17.2","release":"12.24.el6","installdate":"1468189146","arch":"x86_64"},"nss-softokn-freebl":{"epoch":"0","version":"3.14.3","release":"23.el6_7","installdate":"1468189147","arch":"x86_64"},"tcp_wrappers-libs":{"epoch":"0","version":"7.6","release":"58.el6","installdate":"1468189147","arch":"x86_64"},"file":{"epoch":"0","version":"5.04","release":"30.el6","installdate":"1468189148","arch":"x86_64"},"iproute":{"epoch":"0","version":"2.6.32","release":"54.el6","installdate":"1468189148","arch":"x86_64"}},"virtualbox":{"host":{"language":"en_US","revision":"108355","version":"5.0.24"},"guest":{"guest_additions_version":"5.0.24","guest_additions_revision":"108355"}},"time":{"timezone":"BST"},"recipes":["jboss::default","java::default","java::set_attributes_from_version","java::oracle","java::set_java_home"],"expanded_run_list":["jboss::default"],"roles":[],"cookbooks":{"jboss":{"version":"0.0.0"},"java":{"version":"1.39.0"},"apt":{"version":"3.0.0"}}},"normal":{"tags":[]},"chef_type":"node","default":{"apt":{"cacher-client":{"restrict_environment":false},"cacher_dir":"/var/cache/apt-cacher-ng","cacher_interface":null,"cacher_port":3142,"cacher_ssl_support":false,"caching_server":false,"compiletime":false,"compile_time_update":false,"key_proxy":"","cache_bypass":{},"periodic_update_min_delay":86400,"launchpad_api_version":"1.0","unattended_upgrades":{"enable":false,"update_package_lists":true,"allowed_origins":["Centos "],"package_blacklist":[],"auto_fix_interrupted_dpkg":false,"minimal_steps":false,"install_on_shutdown":false,"mail":null,"mail_only_on_error":true,"remove_unused_dependencies":false,"automatic_reboot":false,"automatic_reboot_time":"now","dl_limit":null},"confd":{"install_recommends":true,"install_suggests":false}},"java":{"jdk_version":"6","arch":"x86_64","openjdk_packages":["java-1.6.0-openjdk","java-1.6.0-openjdk-devel"],"openjdk_version":null,"accept_license_agreement":false,"set_default":true,"alternatives_priority":1062,"set_etc_environment":false,"use_alt_suffix":true,"reset_alternatives":true,"ark_retries":0,"ark_retry_delay":2,"ark_timeout":600,"ark_download_timeout":600,"install_flavor":"oracle","oracle":{"accept_oracle_download_terms":true,"jce":{"enabled":false,"8":{"url":"http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip","checksum":"f3020a3922efd6626c2fff45695d527f34a8020e938a49292561f18ad1320b59"},"7":{"url":"http://download.oracle.com/otn-pub/java/jce/7/UnlimitedJCEPolicyJDK7.zip","checksum":"7a8d790e7bd9c2f82a83baddfae765797a4a56ea603c9150c87b7cdb7800194d"},"6":{"url":"http://download.oracle.com/otn-pub/java/jce_policy/6/jce_policy-6.zip","checksum":"d0c2258c3364120b4dbf7dd1655c967eee7057ac6ae6334b5ea8ceb8bafb9262"},"home":"/opt/java_jce"}},"jdk":{"6":{"bin_cmds":["appletviewer","apt","ControlPanel","extcheck","HtmlConverter","idlj","jar","jarsigner","java","javac","javadoc","javah","javap","javaws","jconsole","jcontrol","jdb","jhat","jinfo","jmap","jps","jrunscript","jsadebugd","jstack","jstat","jstatd","jvisualvm","keytool","native2ascii","orbd","pack200","policytool","rmic","rmid","rmiregistry","schemagen","serialver","servertool","tnameserv","unpack200","wsgen","wsimport","xjc"],"x86_64":{"url":"http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64.bin","checksum":"6b493aeab16c940cae9e3d07ad2a5c5684fb49cf06c5d44c400c7993db0d12e8"},"i586":{"url":"http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-i586.bin","checksum":"d53b5a2518d80e1d95565f0adda54eee229dc5f4a1d1a3c2f7bf5045b168a357"}},"7":{"bin_cmds":["appletviewer","apt","ControlPanel","extcheck","idlj","jar","jarsigner","java","javac","javadoc","javafxpackager","javah","javap","javaws","jcmd","jconsole","jcontrol","jdb","jhat","jinfo","jmap","jps","jrunscript","jsadebugd","jstack","jstat","jstatd","jvisualvm","keytool","native2ascii","orbd","pack200","policytool","rmic","rmid","rmiregistry","schemagen","serialver","servertool","tnameserv","unpack200","wsgen","wsimport","xjc"],"x86_64":{"url":"http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-x64.tar.gz","checksum":"6f1f81030a34f7a9c987f8b68a24d139"},"i586":{"url":"http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-i586.tar.gz","checksum":"e4371a4fddc049eca3bfef293d812b8e"}},"8":{"bin_cmds":["appletviewer","apt","ControlPanel","extcheck","idlj","jar","jarsigner","java","javac","javadoc","javafxpackager","javah","javap","javaws","jcmd","jconsole","jcontrol","jdb","jdeps","jhat","jinfo","jjs","jmap","jmc","jps","jrunscript","jsadebugd","jstack","jstat","jstatd","jvisualvm","keytool","native2ascii","orbd","pack200","policytool","rmic","rmid","rmiregistry","schemagen","serialver","servertool","tnameserv","unpack200","wsgen","wsimport","xjc"],"x86_64":{"url":"http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-x64.tar.gz","checksum":"196880a42c45ec9ab2f00868d69619c0"},"i586":{"url":"http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-i586.tar.gz","checksum":"7b715e1fe2316c94aaa968b23ce49c9a"}}},"java_home":"/usr/lib/jvm/java"},"jboss":{"path":"/opt","home":"/opt/jboss","app_dir":"/opt/jboss/server/default/deploy","user":"jboss","group":"jboss","url":"http://download.jboss.org/jbossas/6.1/jboss-as-distribution-6.1.0.Final.zip","app_url":"http://www.cumulogic.com/download/Apps/testweb.zip"}},"override":{},"run_list":["recipe[jboss::default]"]}
--- END PUT BODY ---
[2016-09-14T19:11:15+01:00] DEBUG: #<ChefZero::RestRequest:0x00000005b83ee0
 @body=
  "{\"name\":\"VM1\",\"chef_environment\":\"_default\",\"json_class\":\"Chef::Node\",\"automatic\":{\"dmi\":{},\"kernel\":{\"name\":\"Linux\",\"release\":\"2.6.32-642.1.1.el6.x86_64\",\"version\":\"#1 SMP Tue May 31 21:57:07 UTC 2016\",\"machine\":\"x86_64\",\"processor\":\"x86_64\",\"os\":\"GNU/Linux\",\"modules\":{\"vboxsf\":{\"size\":\"37731\",\"refcount\":\"1\",\"version\":\"5.0.24 r108355\"},\"vboxguest\":{\"size\":\"284807\",\"refcount\":\"2\",\"version\":\"5.0.24 r108355\"},\"nls_utf8\":{\"size\":\"1455\",\"refcount\":\"0\"},\"ipv6\":{\"size\":\"336282\",\"refcount\":\"14\"},\"sg\":{\"size\":\"29318\",\"refcount\":\"0\",\"version\":\"3.5.34\"},\"i2c_piix4\":{\"size\":\"11232\",\"refcount\":\"0\"},\"i2c_core\":{\"size\":\"29132\",\"refcount\":\"1\"},\"e1000\":{\"size\":\"134895\",\"refcount\":\"0\",\"version\":\"7.3.21-k8-NAPI\"},\"ext4\":{\"size\":\"379655\",\"refcount\":\"2\"},\"jbd2\":{\"size\":\"93252\",\"refcount\":\"1\"},\"mbcache\":{\"size\":\"8193\",\"refcount\":\"1\"},\"sd_mod\":{\"size\":\"37158\",\"refcount\":\"3\"},\"crc_t10dif\":{\"size\":\"1209\",\"refcount\":\"1\"},\"ahci\":{\"size\":\"43154\",\"refcount\":\"2\",\"version\":\"3.0\"},\"pata_acpi\":{\"size\":\"3701\",\"refcount\":\"0\",\"version\":\"0.2.3\"},\"ata_generic\":{\"size\":\"3837\",\"refcount\":\"0\",\"version\":\"0.2.15\"},\"ata_piix\":{\"size\":\"24409\",\"refcount\":\"0\",\"version\":\"2.13\"},\"video\":{\"size\":\"21654\",\"refcount\":\"0\"},\"output\":{\"size\":\"2409\",\"refcount\":\"1\"},\"dm_mirror\":{\"size\":\"14864\",\"refcount\":\"0\"},\"dm_region_hash\":{\"size\":\"12085\",\"refcount\":\"1\"},\"dm_log\":{\"size\":\"9930\",\"refcount\":\"2\"},\"dm_mod\":{\"size\":\"102467\",\"refcount\":\"8\"}}},\"network\":{\"interfaces\":{\"lo\":{\"mtu\":\"65536\",\"flags\":[\"LOOPBACK\",\"UP\",\"LOWER_UP\"],\"encapsulation\":\"Loopback\",\"addresses\":{\"127.0.0.1\":{\"family\":\"inet\",\"prefixlen\":\"8\",\"netmask\":\"255.0.0.0\",\"scope\":\"Node\"},\"::1\":{\"family\":\"inet6\",\"prefixlen\":\"128\",\"scope\":\"Node\",\"tags\":[]}},\"state\":\"unknown\",\"routes\":[{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"},{\"destination\":\"unreachable\",\"family\":\"inet6\",\"metric\":\"1024\"}]},\"eth0\":{\"type\":\"eth\",\"number\":\"0\",\"mtu\":\"1500\",\"flags\":[\"BROADCAST\",\"MULTICAST\",\"UP\",\"LOWER_UP\"],\"encapsulation\":\"Ethernet\",\"addresses\":{\"08:00:27:EC:55:DD\":{\"family\":\"lladdr\"},\"10.0.2.15\":{\"family\":\"inet\",\"prefixlen\":\"24\",\"netmask\":\"255.255.255.0\",\"broadcast\":\"10.0.2.255\",\"scope\":\"Global\"},\"fe80::a00:27ff:feec:55dd\":{\"family\":\"inet6\",\"prefixlen\":\"64\",\"scope\":\"Link\",\"tags\":[]}},\"state\":\"up\",\"arp\":{\"10.0.2.3\":\"52:54:00:12:35:03\",\"10.0.2.2\":\"52:54:00:12:35:02\"},\"routes\":[{\"destination\":\"10.0.2.0/24\",\"family\":\"inet\",\"scope\":\"link\",\"proto\":\"kernel\",\"src\":\"10.0.2.15\"},{\"destination\":\"169.254.0.0/16\",\"family\":\"inet\",\"scope\":\"link\",\"metric\":\"1002\"},{\"destination\":\"default\",\"family\":\"inet\",\"via\":\"10.0.2.2\"},{\"destination\":\"fe80::/64\",\"family\":\"inet6\",\"metric\":\"256\",\"proto\":\"kernel\"}],\"link_speed\":1000,\"duplex\":\"Full\",\"port\":\"Twisted Pair\",\"transceiver\":\"internal\",\"auto_negotiation\":\"on\",\"mdi_x\":\"off (auto)\",\"ring_params\":{\"max_rx\":4096,\"max_rx_mini\":0,\"max_rx_jumbo\":0,\"max_tx\":4096,\"current_rx\":256,\"current_rx_mini\":0,\"current_rx_jumbo\":0,\"current_tx\":256}},\"eth1\":{\"type\":\"eth\",\"number\":\"1\",\"mtu\":\"1500\",\"flags\":[\"BROADCAST\",\"MULTICAST\",\"UP\",\"LOWER_UP\"],\"encapsulation\":\"Ethernet\",\"addresses\":{\"08:00:27:73:DA:86\":{\"family\":\"lladdr\"},\"192.168.25.100\":{\"family\":\"inet\",\"prefixlen\":\"24\",\"netmask\":\"255.255.255.0\",\"broadcast\":\"192.168.25.255\",\"scope\":\"Global\"},\"fe80::a00:27ff:fe73:da86\":{\"family\":\"inet6\",\"prefixlen\":\"64\",\"scope\":\"Link\",\"tags\":[]}},\"state\":\"up\",\"routes\":[{\"destination\":\"192.168.25.0/24\",\"family\":\"inet\",\"scope\":\"link\",\"proto\":\"kernel\",\"src\":\"192.168.25.100\"},{\"destination\":\"169.254.0.0/16\",\"family\":\"inet\",\"scope\":\"link\",\"metric\":\"1003\"},{\"destination\":\"fe80::/64\",\"family\":\"inet6\",\"metric\":\"256\",\"proto\":\"kernel\"}],\"link_speed\":1000,\"duplex\":\"Full\",\"port\":\"Twisted Pair\",\"transceiver\":\"internal\",\"auto_negotiation\":\"on\",\"mdi_x\":\"off (auto)\",\"ring_params\":{\"max_rx\":4096,\"max_rx_mini\":0,\"max_rx_jumbo\":0,\"max_tx\":4096,\"current_rx\":256,\"current_rx_mini\":0,\"current_rx_jumbo\":0,\"current_tx\":256}}},\"default_interface\":\"eth0\",\"default_gateway\":\"10.0.2.2\"},\"counters\":{\"network\":{\"interfaces\":{\"lo\":{\"rx\":{\"bytes\":\"0\",\"packets\":\"0\",\"errors\":\"0\",\"drop\":\"0\",\"overrun\":\"0\"},\"tx\":{\"bytes\":\"0\",\"packets\":\"0\",\"errors\":\"0\",\"drop\":\"0\",\"carrier\":\"0\",\"collisions\":\"0\"}},\"eth0\":{\"tx\":{\"queuelen\":\"1000\",\"bytes\":\"1029988\",\"packets\":\"15225\",\"errors\":\"0\",\"drop\":\"0\",\"carrier\":\"0\",\"collisions\":\"0\"},\"rx\":{\"bytes\":\"88181801\",\"packets\":\"62152\",\"errors\":\"0\",\"drop\":\"0\",\"overrun\":\"0\"}},\"eth1\":{\"tx\":{\"queuelen\":\"1000\",\"bytes\":\"528\",\"packets\":\"7\",\"errors\":\"0\",\"drop\":\"0\",\"carrier\":\"0\",\"collisions\":\"0\"},\"rx\":{\"bytes\":\"0\",\"packets\":\"0\",\"errors\":\"0\",\"drop\":\"0\",\"overrun\":\"0\"}}}}},\"ipaddress\":\"10.0.2.15\",\"macaddress\":\"08:00:27:EC:55:DD\",\"etc\":{\"passwd\":{\"root\":{\"dir\":\"/root\",\"gid\":0,\"uid\":0,\"shell\":\"/bin/bash\",\"gecos\":\"root\"},\"bin\":{\"dir\":\"/bin\",\"gid\":1,\"uid\":1,\"shell\":\"/sbin/nologin\",\"gecos\":\"bin\"},\"daemon\":{\"dir\":\"/sbin\",\"gid\":2,\"uid\":2,\"shell\":\"/sbin/nologin\",\"gecos\":\"daemon\"},\"adm\":{\"dir\":\"/var/adm\",\"gid\":4,\"uid\":3,\"shell\":\"/sbin/nologin\",\"gecos\":\"adm\"},\"lp\":{\"dir\":\"/var/spool/lpd\",\"gid\":7,\"uid\":4,\"shell\":\"/sbin/nologin\",\"gecos\":\"lp\"},\"sync\":{\"dir\":\"/sbin\",\"gid\":0,\"uid\":5,\"shell\":\"/bin/sync\",\"gecos\":\"sync\"},\"shutdown\":{\"dir\":\"/sbin\",\"gid\":0,\"uid\":6,\"shell\":\"/sbin/shutdown\",\"gecos\":\"shutdown\"},\"halt\":{\"dir\":\"/sbin\",\"gid\":0,\"uid\":7,\"shell\":\"/sbin/halt\",\"gecos\":\"halt\"},\"mail\":{\"dir\":\"/var/spool/mail\",\"gid\":12,\"uid\":8,\"shell\":\"/sbin/nologin\",\"gecos\":\"mail\"},\"uucp\":{\"dir\":\"/var/spool/uucp\",\"gid\":14,\"uid\":10,\"shell\":\"/sbin/nologin\",\"gecos\":\"uucp\"},\"operator\":{\"dir\":\"/root\",\"gid\":0,\"uid\":11,\"shell\":\"/sbin/nologin\",\"gecos\":\"operator\"},\"games\":{\"dir\":\"/usr/games\",\"gid\":100,\"uid\":12,\"shell\":\"/sbin/nologin\",\"gecos\":\"games\"},\"gopher\":{\"dir\":\"/var/gopher\",\"gid\":30,\"uid\":13,\"shell\":\"/sbin/nologin\",\"gecos\":\"gopher\"},\"ftp\":{\"dir\":\"/var/ftp\",\"gid\":50,\"uid\":14,\"shell\":\"/sbin/nologin\",\"gecos\":\"FTP User\"},\"nobody\":{\"dir\":\"/\",\"gid\":99,\"uid\":99,\"shell\":\"/sbin/nologin\",\"gecos\":\"Nobody\"},\"vcsa\":{\"dir\":\"/dev\",\"gid\":69,\"uid\":69,\"shell\":\"/sbin/nologin\",\"gecos\":\"virtual console memory owner\"},\"saslauth\":{\"dir\":\"/var/empty/saslauth\",\"gid\":76,\"uid\":499,\"shell\":\"/sbin/nologin\",\"gecos\":\"Saslauthd user\"},\"postfix\":{\"dir\":\"/var/spool/postfix\",\"gid\":89,\"uid\":89,\"shell\":\"/sbin/nologin\",\"gecos\":\"\"},\"sshd\":{\"dir\":\"/var/empty/sshd\",\"gid\":74,\"uid\":74,\"shell\":\"/sbin/nologin\",\"gecos\":\"Privilege-separated SSH\"},\"vagrant\":{\"dir\":\"/home/vagrant\",\"gid\":500,\"uid\":500,\"shell\":\"/bin/bash\",\"gecos\":\"vagrant\"},\"vboxadd\":{\"dir\":\"/var/run/vboxadd\",\"gid\":1,\"uid\":498,\"shell\":\"/bin/false\",\"gecos\":\"\"}},\"group\":{\"root\":{\"gid\":0,\"members\":[]},\"bin\":{\"gid\":1,\"members\":[\"bin\",\"daemon\"]},\"daemon\":{\"gid\":2,\"members\":[\"bin\",\"daemon\"]},\"sys\":{\"gid\":3,\"members\":[\"bin\",\"adm\"]},\"adm\":{\"gid\":4,\"members\":[\"adm\",\"daemon\"]},\"tty\":{\"gid\":5,\"members\":[]},\"disk\":{\"gid\":6,\"members\":[]},\"lp\":{\"gid\":7,\"members\":[\"daemon\"]},\"mem\":{\"gid\":8,\"members\":[]},\"kmem\":{\"gid\":9,\"members\":[]},\"wheel\":{\"gid\":10,\"members\":[]},\"mail\":{\"gid\":12,\"members\":[\"mail\",\"postfix\"]},\"uucp\":{\"gid\":14,\"members\":[]},\"man\":{\"gid\":15,\"members\":[]},\"games\":{\"gid\":20,\"members\":[]},\"gopher\":{\"gid\":30,\"members\":[]},\"video\":{\"gid\":39,\"members\":[]},\"dip\":{\"gid\":40,\"members\":[]},\"ftp\":{\"gid\":50,\"members\":[]},\"lock\":{\"gid\":54,\"members\":[]},\"audio\":{\"gid\":63,\"members\":[]},\"nobody\":{\"gid\":99,\"members\":[]},\"users\":{\"gid\":100,\"members\":[]},\"floppy\":{\"gid\":19,\"members\":[]},\"vcsa\":{\"gid\":69,\"members\":[]},\"utmp\":{\"gid\":22,\"members\":[]},\"utempter\":{\"gid\":35,\"members\":[]},\"cdrom\":{\"gid\":11,\"members\":[]},\"tape\":{\"gid\":33,\"members\":[]},\"dialout\":{\"gid\":18,\"members\":[]},\"saslauth\":{\"gid\":76,\"members\":[]},\"postdrop\":{\"gid\":90,\"members\":[]},\"postfix\":{\"gid\":89,\"members\":[]},\"fuse\":{\"gid\":499,\"members\":[]},\"sshd\":{\"gid\":74,\"members\":[]},\"vagrant\":{\"gid\":500,\"members\":[\"vagrant\"]},\"vboxsf\":{\"gid\":498,\"members\":[]}}},\"current_user\":\"root\",\"cloud_v2\":null,\"languages\":{\"python\":{\"version\":\"2.6.6\",\"builddate\":\"Jul 23 2015, 15:22:56\"},\"lua\":{\"version\":\"5.1.4\"},\"perl\":{\"version\":\"5.10.1\",\"archname\":\"x86_64-linux-thread-multi\"},\"ruby\":{\"platform\":\"x86_64-linux\",\"version\":\"2.1.8\",\"release_date\":\"2015-12-16\",\"target\":\"x86_64-pc-linux-gnu\",\"target_cpu\":\"x86_64\",\"target_vendor\":\"pc\",\"target_os\":\"linux\",\"host\":\"x86_64-pc-linux-gnu\",\"host_cpu\":\"x86_64\",\"host_os\":\"linux-gnu\",\"host_vendor\":\"pc\",\"bin_dir\":\"/opt/chefdk/embedded/bin\",\"ruby_bin\":\"/opt/chefdk/embedded/bin/ruby\",\"gems_dir\":\"/opt/chefdk/embedded/lib/ruby/gems/2.1.0\",\"gem_bin\":\"/opt/chefdk/embedded/bin/gem\"},\"c\":{\"gcc\":{\"version\":\"4.4.7\",\"description\":\"gcc version 4.4.7 20120313 (Red Hat 4.4.7-17) (GCC) \"},\"glibc\":{\"version\":\"2.12\",\"description\":\"GNU C Library stable release version 2.12, by Roland McGrath et al.\"}}},\"ohai_time\":1473876575.7192242,\"os\":\"linux\",\"os_version\":\"2.6.32-642.1.1.el6.x86_64\",\"lsb\":{},\"platform\":\"centos\",\"platform_version\":\"6.8\",\"platform_family\":\"rhel\",\"ip6address\":\"fe80::a00:27ff:fe73:da86\",\"cpu\":{\"0\":{\"vendor_id\":\"GenuineIntel\",\"family\":\"6\",\"model\":\"58\",\"model_name\":\"Intel(R) Core(TM) i5-3470 CPU @ 3.20GHz\",\"stepping\":\"9\",\"mhz\":\"3192.754\",\"cache_size\":\"6144 KB\",\"physical_id\":\"0\",\"core_id\":\"0\",\"cores\":\"1\",\"flags\":[\"fpu\",\"vme\",\"de\",\"pse\",\"tsc\",\"msr\",\"pae\",\"mce\",\"cx8\",\"apic\",\"sep\",\"mtrr\",\"pge\",\"mca\",\"cmov\",\"pat\",\"pse36\",\"clflush\",\"mmx\",\"fxsr\",\"sse\",\"sse2\",\"syscall\",\"nx\",\"rdtscp\",\"lm\",\"constant_tsc\",\"up\",\"rep_good\",\"xtopology\",\"nonstop_tsc\",\"unfair_spinlock\",\"pni\",\"pclmulqdq\",\"monitor\",\"ssse3\",\"cx16\",\"sse4_1\",\"sse4_2\",\"popcnt\",\"aes\",\"xsave\",\"avx\",\"rdrand\",\"hypervisor\",\"lahf_lm\"]},\"total\":1,\"real\":1,\"cores\":1},\"memory\":{\"swap\":{\"cached\":\"0kB\",\"total\":\"1277948kB\",\"free\":\"1277948kB\"},\"hugepages\":{\"total\":\"0\",\"free\":\"0\",\"reserved\":\"0\",\"surplus\":\"0\"},\"total\":\"1922216kB\",\"free\":\"178608kB\",\"buffers\":\"82592kB\",\"cached\":\"1345456kB\",\"active\":\"470952kB\",\"inactive\":\"1073092kB\",\"dirty\":\"75404kB\",\"writeback\":\"0kB\",\"anon_pages\":\"116012kB\",\"mapped\":\"10468kB\",\"slab\":\"173484kB\",\"slab_reclaimable\":\"152424kB\",\"slab_unreclaim\":\"21060kB\",\"page_tables\":\"2744kB\",\"nfs_unstable\":\"0kB\",\"bounce\":\"0kB\",\"commit_limit\":\"2239056kB\",\"committed_as\":\"249148kB\",\"vmalloc_total\":\"34359738367kB\",\"vmalloc_used\":\"32048kB\",\"vmalloc_chunk\":\"34359695352kB\",\"hugepage_size\":\"2048kB\"},\"virtualization\":{\"systems\":{\"vbox\":\"guest\"},\"system\":\"vbox\",\"role\":\"guest\"},\"command\":{\"ps\":\"ps -ef\"},\"filesystem\":{\"/dev/mapper/VolGroup-lv_root\":{\"kb_size\":\"18261312\",\"kb_used\":\"2077548\",\"kb_available\":\"15249468\",\"percent_used\":\"12%\",\"mount\":\"/\",\"total_inodes\":\"1169168\",\"inodes_used\":\"97431\",\"inodes_available\":\"1071737\",\"inodes_percent_used\":\"9%\",\"fs_type\":\"ext4\",\"mount_options\":[\"rw\"],\"uuid\":\"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e\"},\"tmpfs\":{\"kb_size\":\"961108\",\"kb_used\":\"0\",\"kb_available\":\"961108\",\"percent_used\":\"0%\",\"mount\":\"/dev/shm\",\"total_inodes\":\"240277\",\"inodes_used\":\"1\",\"inodes_available\":\"240276\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"tmpfs\",\"mount_options\":[\"rw\"]},\"/dev/sda1\":{\"kb_size\":\"487652\",\"kb_used\":\"55186\",\"kb_available\":\"406866\",\"percent_used\":\"12%\",\"mount\":\"/boot\",\"total_inodes\":\"128016\",\"inodes_used\":\"44\",\"inodes_available\":\"127972\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"ext4\",\"mount_options\":[\"rw\"],\"uuid\":\"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2\"},\"vagrant\":{\"kb_size\":\"741984072\",\"kb_used\":\"156103296\",\"kb_available\":\"585880776\",\"percent_used\":\"22%\",\"mount\":\"/vagrant\",\"total_inodes\":\"1000\",\"inodes_used\":\"0\",\"inodes_available\":\"1000\",\"inodes_percent_used\":\"0%\",\"fs_type\":\"vboxsf\",\"mount_options\":[\"uid=500\",\"gid=500\",\"rw\"]},\"proc\":{\"mount\":\"/proc\",\"fs_type\":\"proc\",\"mount_options\":[\"rw\"]},\"sysfs\":{\"mount\":\"/sys\",\"fs_type\":\"sysfs\",\"mount_options\":[\"rw\"]},\"devpts\":{\"mount\":\"/dev/pts\",\"fs_type\":\"devpts\",\"mount_options\":[\"rw\",\"gid=5\",\"mode=620\"]},\"none\":{\"mount\":\"/proc/sys/fs/binfmt_misc\",\"fs_type\":\"binfmt_misc\",\"mount_options\":[\"rw\"]},\"/dev/sda2\":{\"fs_type\":\"LVM2_member\",\"uuid\":\"1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22\"},\"/dev/mapper/VolGroup-lv_swap\":{\"fs_type\":\"swap\",\"uuid\":\"376d9de0-a04a-4c8e-90fd-7721b522b166\"},\"rootfs\":{\"mount\":\"/\",\"fs_type\":\"rootfs\",\"mount_options\":[\"rw\"]},\"devtmpfs\":{\"mount\":\"/dev\",\"fs_type\":\"devtmpfs\",\"mount_options\":[\"rw\",\"relatime\",\"size=950368k\",\"nr_inodes=237592\",\"mode=755\"]},\"/proc/bus/usb\":{\"mount\":\"/proc/bus/usb\",\"fs_type\":\"usbfs\",\"mount_options\":[\"rw\",\"relatime\"]}},\"init_package\":\"init\",\"filesystem2\":{\"by_device\":{\"/dev/mapper/VolGroup-lv_root\":{\"kb_size\":\"18261312\",\"kb_used\":\"2077548\",\"kb_available\":\"15249468\",\"percent_used\":\"12%\",\"total_inodes\":\"1169168\",\"inodes_used\":\"97431\",\"inodes_available\":\"1071737\",\"inodes_percent_used\":\"9%\",\"fs_type\":\"ext4\",\"mount_options\":[\"rw\"],\"uuid\":\"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e\",\"mounts\":[\"/\"]},\"tmpfs\":{\"kb_size\":\"961108\",\"kb_used\":\"0\",\"kb_available\":\"961108\",\"percent_used\":\"0%\",\"total_inodes\":\"240277\",\"inodes_used\":\"1\",\"inodes_available\":\"240276\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"tmpfs\",\"mount_options\":[\"rw\"],\"mounts\":[\"/dev/shm\"]},\"/dev/sda1\":{\"kb_size\":\"487652\",\"kb_used\":\"55186\",\"kb_available\":\"406866\",\"percent_used\":\"12%\",\"total_inodes\":\"128016\",\"inodes_used\":\"44\",\"inodes_available\":\"127972\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"ext4\",\"mount_options\":[\"rw\"],\"uuid\":\"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2\",\"mounts\":[\"/boot\"]},\"vagrant\":{\"kb_size\":\"741984072\",\"kb_used\":\"156103296\",\"kb_available\":\"585880776\",\"percent_used\":\"22%\",\"total_inodes\":\"1000\",\"inodes_used\":\"0\",\"inodes_available\":\"1000\",\"inodes_percent_used\":\"0%\",\"fs_type\":\"vboxsf\",\"mount_options\":[\"uid=500\",\"gid=500\",\"rw\"],\"mounts\":[\"/vagrant\"]},\"proc\":{\"fs_type\":\"proc\",\"mount_options\":[\"rw\"],\"mounts\":[\"/proc\"]},\"sysfs\":{\"fs_type\":\"sysfs\",\"mount_options\":[\"rw\"],\"mounts\":[\"/sys\"]},\"devpts\":{\"fs_type\":\"devpts\",\"mount_options\":[\"rw\",\"gid=5\",\"mode=620\"],\"mounts\":[\"/dev/pts\"]},\"none\":{\"fs_type\":\"binfmt_misc\",\"mount_options\":[\"rw\"],\"mounts\":[\"/proc/sys/fs/binfmt_misc\"]},\"/dev/sda\":{\"mounts\":[]},\"/dev/sda2\":{\"fs_type\":\"LVM2_member\",\"uuid\":\"1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22\",\"mounts\":[]},\"/dev/mapper/VolGroup-lv_swap\":{\"fs_type\":\"swap\",\"uuid\":\"376d9de0-a04a-4c8e-90fd-7721b522b166\",\"mounts\":[]},\"rootfs\":{\"fs_type\":\"rootfs\",\"mount_options\":[\"rw\"],\"mounts\":[\"/\"]},\"devtmpfs\":{\"fs_type\":\"devtmpfs\",\"mount_options\":[\"rw\",\"relatime\",\"size=950368k\",\"nr_inodes=237592\",\"mode=755\"],\"mounts\":[\"/dev\"]},\"/proc/bus/usb\":{\"fs_type\":\"usbfs\",\"mount_options\":[\"rw\",\"relatime\"],\"mounts\":[\"/proc/bus/usb\"]}},\"by_mountpoint\":{\"/\":{\"kb_size\":\"18261312\",\"kb_used\":\"2077548\",\"kb_available\":\"15249468\",\"percent_used\":\"12%\",\"total_inodes\":\"1169168\",\"inodes_used\":\"97431\",\"inodes_available\":\"1071737\",\"inodes_percent_used\":\"9%\",\"fs_type\":\"rootfs\",\"mount_options\":[\"rw\"],\"uuid\":\"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e\",\"devices\":[\"/dev/mapper/VolGroup-lv_root\",\"rootfs\"]},\"/dev/shm\":{\"kb_size\":\"961108\",\"kb_used\":\"0\",\"kb_available\":\"961108\",\"percent_used\":\"0%\",\"total_inodes\":\"240277\",\"inodes_used\":\"1\",\"inodes_available\":\"240276\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"tmpfs\",\"mount_options\":[\"rw\"],\"devices\":[\"tmpfs\"]},\"/boot\":{\"kb_size\":\"487652\",\"kb_used\":\"55186\",\"kb_available\":\"406866\",\"percent_used\":\"12%\",\"total_inodes\":\"128016\",\"inodes_used\":\"44\",\"inodes_available\":\"127972\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"ext4\",\"mount_options\":[\"rw\"],\"uuid\":\"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2\",\"devices\":[\"/dev/sda1\"]},\"/vagrant\":{\"kb_size\":\"741984072\",\"kb_used\":\"156103296\",\"kb_available\":\"585880776\",\"percent_used\":\"22%\",\"total_inodes\":\"1000\",\"inodes_used\":\"0\",\"inodes_available\":\"1000\",\"inodes_percent_used\":\"0%\",\"fs_type\":\"vboxsf\",\"mount_options\":[\"uid=500\",\"gid=500\",\"rw\"],\"devices\":[\"vagrant\"]},\"/proc\":{\"fs_type\":\"proc\",\"mount_options\":[\"rw\"],\"devices\":[\"proc\"]},\"/sys\":{\"fs_type\":\"sysfs\",\"mount_options\":[\"rw\"],\"devices\":[\"sysfs\"]},\"/dev/pts\":{\"fs_type\":\"devpts\",\"mount_options\":[\"rw\",\"gid=5\",\"mode=620\"],\"devices\":[\"devpts\"]},\"/proc/sys/fs/binfmt_misc\":{\"fs_type\":\"binfmt_misc\",\"mount_options\":[\"rw\"],\"devices\":[\"none\"]},\"/dev\":{\"fs_type\":\"devtmpfs\",\"mount_options\":[\"rw\",\"relatime\",\"size=950368k\",\"nr_inodes=237592\",\"mode=755\"],\"devices\":[\"devtmpfs\"]},\"/proc/bus/usb\":{\"fs_type\":\"usbfs\",\"mount_options\":[\"rw\",\"relatime\"],\"devices\":[\"/proc/bus/usb\"]}},\"by_pair\":{\"/dev/mapper/VolGroup-lv_root,/\":{\"device\":\"/dev/mapper/VolGroup-lv_root\",\"kb_size\":\"18261312\",\"kb_used\":\"2077548\",\"kb_available\":\"15249468\",\"percent_used\":\"12%\",\"mount\":\"/\",\"total_inodes\":\"1169168\",\"inodes_used\":\"97431\",\"inodes_available\":\"1071737\",\"inodes_percent_used\":\"9%\",\"fs_type\":\"ext4\",\"mount_options\":[\"rw\"],\"uuid\":\"9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e\"},\"tmpfs,/dev/shm\":{\"device\":\"tmpfs\",\"kb_size\":\"961108\",\"kb_used\":\"0\",\"kb_available\":\"961108\",\"percent_used\":\"0%\",\"mount\":\"/dev/shm\",\"total_inodes\":\"240277\",\"inodes_used\":\"1\",\"inodes_available\":\"240276\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"tmpfs\",\"mount_options\":[\"rw\"]},\"/dev/sda1,/boot\":{\"device\":\"/dev/sda1\",\"kb_size\":\"487652\",\"kb_used\":\"55186\",\"kb_available\":\"406866\",\"percent_used\":\"12%\",\"mount\":\"/boot\",\"total_inodes\":\"128016\",\"inodes_used\":\"44\",\"inodes_available\":\"127972\",\"inodes_percent_used\":\"1%\",\"fs_type\":\"ext4\",\"mount_options\":[\"rw\"],\"uuid\":\"cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2\"},\"vagrant,/vagrant\":{\"device\":\"vagrant\",\"kb_size\":\"741984072\",\"kb_used\":\"156103296\",\"kb_available\":\"585880776\",\"percent_used\":\"22%\",\"mount\":\"/vagrant\",\"total_inodes\":\"1000\",\"inodes_used\":\"0\",\"inodes_available\":\"1000\",\"inodes_percent_used\":\"0%\",\"fs_type\":\"vboxsf\",\"mount_options\":[\"uid=500\",\"gid=500\",\"rw\"]},\"proc,/proc\":{\"device\":\"proc\",\"mount\":\"/proc\",\"fs_type\":\"proc\",\"mount_options\":[\"rw\"]},\"sysfs,/sys\":{\"device\":\"sysfs\",\"mount\":\"/sys\",\"fs_type\":\"sysfs\",\"mount_options\":[\"rw\"]},\"devpts,/dev/pts\":{\"device\":\"devpts\",\"mount\":\"/dev/pts\",\"fs_type\":\"devpts\",\"mount_options\":[\"rw\",\"gid=5\",\"mode=620\"]},\"none,/proc/sys/fs/binfmt_misc\":{\"device\":\"none\",\"mount\":\"/proc/sys/fs/binfmt_misc\",\"fs_type\":\"binfmt_misc\",\"mount_options\":[\"rw\"]},\"/dev/sda,\":{\"device\":\"/dev/sda\"},\"/dev/sda2,\":{\"device\":\"/dev/sda2\",\"fs_type\":\"LVM2_member\",\"uuid\":\"1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22\"},\"/dev/mapper/VolGroup-lv_swap,\":{\"device\":\"/dev/mapper/VolGroup-lv_swap\",\"fs_type\":\"swap\",\"uuid\":\"376d9de0-a04a-4c8e-90fd-7721b522b166\"},\"rootfs,/\":{\"device\":\"rootfs\",\"mount\":\"/\",\"fs_type\":\"rootfs\",\"mount_options\":[\"rw\"]},\"devtmpfs,/dev\":{\"device\":\"devtmpfs\",\"mount\":\"/dev\",\"fs_type\":\"devtmpfs\",\"mount_options\":[\"rw\",\"relatime\",\"size=950368k\",\"nr_inodes=237592\",\"mode=755\"]},\"/proc/bus/usb,/proc/bus/usb\":{\"device\":\"/proc/bus/usb\",\"mount\":\"/proc/bus/usb\",\"fs_type\":\"usbfs\",\"mount_options\":[\"rw\",\"relatime\"]}}},\"root_group\":\"root\",\"shells\":[\"/bin/sh\",\"/bin/bash\",\"/sbin/nologin\",\"/bin/dash\"],\"fips\":{\"kernel\":{\"enabled\":false}},\"block_device\":{\"ram0\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram1\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram2\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram3\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram4\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram5\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram6\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram7\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram8\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram9\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram10\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram11\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram12\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram13\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram14\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"ram15\":{\"size\":\"32768\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop0\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop1\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop2\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop3\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop4\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop5\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop6\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"loop7\":{\"size\":\"0\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"sda\":{\"size\":\"40960000\",\"removable\":\"0\",\"model\":\"VBOX HARDDISK\",\"rev\":\"1.0\",\"state\":\"running\",\"timeout\":\"30\",\"vendor\":\"ATA\",\"queue_depth\":\"31\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"dm-0\":{\"size\":\"37371904\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"},\"dm-1\":{\"size\":\"2555904\",\"removable\":\"0\",\"rotational\":\"1\",\"physical_block_size\":\"512\",\"logical_block_size\":\"512\"}},\"keys\":{\"ssh\":{\"host_dsa_public\":\"AAAAB3NzaC1kc3MAAACBAKzeNZCMEUlmzh1wSJ1LcwQeL/WPRkWkOJwbKUFCcXOFosotvF7c7G7qUMFd24dtmExmocUeIycLSKLNPTBwNjYacqJKhWfXPaAjKCKEa7V1WJQbjPipbuCNuryi+E9jKODG18+F4qcTjml4fARJe7vpEyOlG4n25gcdaUH8ebJ/AAAAFQCmDtC1oX0AOIvoWZLVY5jTfNpCYwAAAIBI5qVfKbJUN1CxOZ86KP8d+aougFct2hp8nl19T24lyrGxNeoQhP19pwr+MxwRGrxzHbV9rFVDTSDOnpkrdSCJYGMIM1ASmgCllI4Avr275Fzjr5NDFTku9m0I2n4zfEynmZ07Lpsmho8UECyZ0bOCayCjgm2EkWdtxoKGv9LW3QAAAIEAjzWy3LCo61SnIOALKd+xo0GCCsKnvPaofw3sX6PAMMlS1NMEd7jqdHv4/KsWWUmOPL1dpw+cuFTdHph3TpJRrR3u3gWBt8fXWO8QyNsNisD9OZHz39DLSqz8UKmwry8gC1zFZ6MuBC8LBWiDABOXEMXpFR5l0drNJE24tAzNAq4=\",\"host_rsa_public\":\"AAAAB3NzaC1yc2EAAAABIwAAAQEAoKGBorpanawyuJ4UK34f0WhnAZ7gBBKS4OHAsFA58ATUPQVpQNdkFSmHdGd+XZhN9cy9ERzEvyG/2Znt0749/v237I3ewkP6Dayvkp/okW6pWRdWrwcfiN2cSkpjE4qcsVa5w8ZH4gZt5HfLY97Qgfrib7npSKaxel768vP0MmLLCCN3xkEZt2uuONmvwzHfHUbkrIWVm+O6ZKmW8P7VZaioSIj6579I6vbkJdy3cpMUrGwNJd8uFH/LXIbb2qBuTgQjJL/rBBGtAM052txV37EiJy5/FdT/eanud+zvW2iIjRjQwFl8Ot+gVPLpCE/H5MLnNZrLw4Yfwlipte4TZQ==\"}},\"hostname\":\"VM1\",\"machinename\":\"VM1\",\"fqdn\":\"VM1\",\"domain\":null,\"chef_packages\":{\"ohai\":{\"version\":\"8.19.1\",\"ohai_root\":\"/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai\"},\"chef\":{\"version\":\"12.13.37\",\"chef_root\":\"/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib\"}},\"uptime_seconds\":103,\"uptime\":\"1 minutes 43 seconds\",\"idletime_seconds\":24,\"idletime\":\"24 seconds\",\"packages\":{\"tar\":{\"epoch\":\"2\",\"version\":\"1.23\",\"release\":\"14.el6\",\"installdate\":\"1468189149\",\"arch\":\"x86_64\"},\"setup\":{\"epoch\":\"0\",\"version\":\"2.8.14\",\"release\":\"20.el6_4.1\",\"installdate\":\"1468188629\",\"arch\":\"noarch\"},\"libselinux-utils\":{\"epoch\":\"0\",\"version\":\"2.0.94\",\"release\":\"7.el6\",\"installdate\":\"1468189149\",\"arch\":\"x86_64\"},\"basesystem\":{\"epoch\":\"0\",\"version\":\"10.0\",\"release\":\"4.el6\",\"installdate\":\"1468188630\",\"arch\":\"noarch\"},\"gmp\":{\"epoch\":\"0\",\"version\":\"4.3.1\",\"release\":\"10.el6\",\"installdate\":\"1468189149\",\"arch\":\"x86_64\"},\"coreutils\":{\"epoch\":\"0\",\"version\":\"8.4\",\"release\":\"43.el6\",\"installdate\":\"1468189150\",\"arch\":\"x86_64\"},\"shadow-utils\":{\"epoch\":\"2\",\"version\":\"4.1.5.1\",\"release\":\"5.el6\",\"installdate\":\"1468189151\",\"arch\":\"x86_64\"},\"openssl\":{\"epoch\":\"0\",\"version\":\"1.0.1e\",\"release\":\"48.el6_8.1\",\"installdate\":\"1468189152\",\"arch\":\"x86_64\"},\"mysql-libs\":{\"epoch\":\"0\",\"version\":\"5.1.73\",\"release\":\"7.el6\",\"installdate\":\"1468189152\",\"arch\":\"x86_64\"},\"libcap\":{\"epoch\":\"0\",\"version\":\"2.16\",\"release\":\"5.5.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"iputils\":{\"epoch\":\"0\",\"version\":\"20071127\",\"release\":\"21.el6\",\"installdate\":\"1468189153\",\"arch\":\"x86_64\"},\"info\":{\"epoch\":\"0\",\"version\":\"4.13a\",\"release\":\"8.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"initscripts\":{\"epoch\":\"0\",\"version\":\"9.03.53\",\"release\":\"1.el6.centos\",\"installdate\":\"1468189153\",\"arch\":\"x86_64\"},\"device-mapper-libs\":{\"epoch\":\"0\",\"version\":\"1.02.117\",\"release\":\"7.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"libacl\":{\"epoch\":\"0\",\"version\":\"2.2.49\",\"release\":\"6.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"device-mapper-event-libs\":{\"epoch\":\"0\",\"version\":\"1.02.117\",\"release\":\"7.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"lvm2-libs\":{\"epoch\":\"0\",\"version\":\"2.02.143\",\"release\":\"7.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"device-mapper-multipath-libs\":{\"epoch\":\"0\",\"version\":\"0.4.9\",\"release\":\"93.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"sed\":{\"epoch\":\"0\",\"version\":\"4.2.1\",\"release\":\"10.el6\",\"installdate\":\"1468188644\",\"arch\":\"x86_64\"},\"dracut-kernel\":{\"epoch\":\"0\",\"version\":\"004\",\"release\":\"409.el6_8.2\",\"installdate\":\"1468189155\",\"arch\":\"noarch\"},\"sqlite\":{\"epoch\":\"0\",\"version\":\"3.6.20\",\"release\":\"1.el6_7.2\",\"installdate\":\"1468189155\",\"arch\":\"x86_64\"},\"bzip2-libs\":{\"epoch\":\"0\",\"version\":\"1.0.5\",\"release\":\"7.el6_0\",\"installdate\":\"1468188644\",\"arch\":\"x86_64\"},\"nss\":{\"epoch\":\"0\",\"version\":\"3.21.0\",\"release\":\"8.el6\",\"installdate\":\"1468189155\",\"arch\":\"x86_64\"},\"openssh\":{\"epoch\":\"0\",\"version\":\"5.3p1\",\"release\":\"118.1.el6_8\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"libcurl\":{\"epoch\":\"0\",\"version\":\"7.19.7\",\"release\":\"52.el6\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"libgpg-error\":{\"epoch\":\"0\",\"version\":\"1.7\",\"release\":\"4.el6\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"curl\":{\"epoch\":\"0\",\"version\":\"7.19.7\",\"release\":\"52.el6\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"openldap\":{\"epoch\":\"0\",\"version\":\"2.4.40\",\"release\":\"12.el6\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"selinux-policy\":{\"epoch\":\"0\",\"version\":\"3.7.19\",\"release\":\"292.el6\",\"installdate\":\"1468189157\",\"arch\":\"noarch\"},\"cronie-anacron\":{\"epoch\":\"0\",\"version\":\"1.4.4\",\"release\":\"15.el6_7.1\",\"installdate\":\"1468189159\",\"arch\":\"x86_64\"},\"libidn\":{\"epoch\":\"0\",\"version\":\"1.18\",\"release\":\"2.el6\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"libuser\":{\"epoch\":\"0\",\"version\":\"0.56.13\",\"release\":\"8.el6_7\",\"installdate\":\"1468189160\",\"arch\":\"x86_64\"},\"xz-libs\":{\"epoch\":\"0\",\"version\":\"4.999.9\",\"release\":\"0.5.beta.20091007git.el6\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"python-pycurl\":{\"epoch\":\"0\",\"version\":\"7.19.0\",\"release\":\"9.el6\",\"installdate\":\"1468189160\",\"arch\":\"x86_64\"},\"yum-plugin-fastestmirror\":{\"epoch\":\"0\",\"version\":\"1.1.30\",\"release\":\"37.el6\",\"installdate\":\"1468189160\",\"arch\":\"noarch\"},\"bzip2\":{\"epoch\":\"0\",\"version\":\"1.0.5\",\"release\":\"7.el6_0\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"kernel-firmware\":{\"epoch\":\"0\",\"version\":\"2.6.32\",\"release\":\"642.1.1.el6\",\"installdate\":\"1468189163\",\"arch\":\"noarch\"},\"fuse\":{\"epoch\":\"0\",\"version\":\"2.8.3\",\"release\":\"5.el6\",\"installdate\":\"1468189169\",\"arch\":\"x86_64\"},\"cpio\":{\"epoch\":\"0\",\"version\":\"2.10\",\"release\":\"12.el6_5\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"selinux-policy-targeted\":{\"epoch\":\"0\",\"version\":\"3.7.19\",\"release\":\"292.el6\",\"installdate\":\"1468189169\",\"arch\":\"noarch\"},\"openssh-server\":{\"epoch\":\"0\",\"version\":\"5.3p1\",\"release\":\"118.1.el6_8\",\"installdate\":\"1468189194\",\"arch\":\"x86_64\"},\"dhclient\":{\"epoch\":\"12\",\"version\":\"4.1.1\",\"release\":\"51.P1.el6.centos\",\"installdate\":\"1468189194\",\"arch\":\"x86_64\"},\"libtasn1\":{\"epoch\":\"0\",\"version\":\"2.3\",\"release\":\"6.el6_5\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"lvm2\":{\"epoch\":\"0\",\"version\":\"2.02.143\",\"release\":\"7.el6\",\"installdate\":\"1468189195\",\"arch\":\"x86_64\"},\"p11-kit-trust\":{\"epoch\":\"0\",\"version\":\"0.18.5\",\"release\":\"2.el6_5.2\",\"installdate\":\"1468188647\",\"arch\":\"x86_64\"},\"libdrm\":{\"epoch\":\"0\",\"version\":\"2.4.65\",\"release\":\"2.el6\",\"installdate\":\"1468189195\",\"arch\":\"x86_64\"},\"libnih\":{\"epoch\":\"0\",\"version\":\"1.0.1\",\"release\":\"7.el6\",\"installdate\":\"1468188647\",\"arch\":\"x86_64\"},\"grub\":{\"epoch\":\"1\",\"version\":\"0.97\",\"release\":\"94.el6_7.1\",\"installdate\":\"1468189196\",\"arch\":\"x86_64\"},\"logrotate\":{\"epoch\":\"0\",\"version\":\"3.7.8\",\"release\":\"26.el6_7\",\"installdate\":\"1468189196\",\"arch\":\"x86_64\"},\"libusb\":{\"epoch\":\"0\",\"version\":\"0.1.12\",\"release\":\"23.el6\",\"installdate\":\"1468188647\",\"arch\":\"x86_64\"},\"binutils\":{\"epoch\":\"0\",\"version\":\"2.20.51.0.2\",\"release\":\"5.44.el6\",\"installdate\":\"1468189197\",\"arch\":\"x86_64\"},\"libutempter\":{\"epoch\":\"0\",\"version\":\"1.1.5\",\"release\":\"4.1.el6\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"libxml2\":{\"epoch\":\"0\",\"version\":\"2.7.6\",\"release\":\"21.el6_8.1\",\"installdate\":\"1468189197\",\"arch\":\"x86_64\"},\"psmisc\":{\"epoch\":\"0\",\"version\":\"22.6\",\"release\":\"19.el6_5\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"centos-indexhtml\":{\"epoch\":\"0\",\"version\":\"6\",\"release\":\"2.el6.centos\",\"installdate\":\"1473876560\",\"arch\":\"noarch\"},\"vim-minimal\":{\"epoch\":\"2\",\"version\":\"7.4.629\",\"release\":\"5.el6\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"nano\":{\"epoch\":\"0\",\"version\":\"2.0.9\",\"release\":\"7.el6\",\"installdate\":\"1473876561\",\"arch\":\"x86_64\"},\"chefdk\":{\"epoch\":\"0\",\"version\":\"0.17.17\",\"release\":\"1.el6\",\"installdate\":\"1473876571\",\"arch\":\"x86_64\"},\"e2fsprogs-libs\":{\"epoch\":\"0\",\"version\":\"1.41.12\",\"release\":\"22.el6\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"diffutils\":{\"epoch\":\"0\",\"version\":\"2.8.1\",\"release\":\"28.el6\",\"installdate\":\"1468188649\",\"arch\":\"x86_64\"},\"dash\":{\"epoch\":\"0\",\"version\":\"0.5.5.1\",\"release\":\"4.el6\",\"installdate\":\"1468188649\",\"arch\":\"x86_64\"},\"groff\":{\"epoch\":\"0\",\"version\":\"1.18.1.4\",\"release\":\"21.el6\",\"installdate\":\"1468188650\",\"arch\":\"x86_64\"},\"cracklib\":{\"epoch\":\"0\",\"version\":\"2.8.16\",\"release\":\"4.el6\",\"installdate\":\"1468188650\",\"arch\":\"x86_64\"},\"module-init-tools\":{\"epoch\":\"0\",\"version\":\"3.9\",\"release\":\"25.el6\",\"installdate\":\"1468188653\",\"arch\":\"x86_64\"},\"redhat-logos\":{\"epoch\":\"0\",\"version\":\"60.0.14\",\"release\":\"12.el6.centos\",\"installdate\":\"1468188654\",\"arch\":\"noarch\"},\"libedit\":{\"epoch\":\"0\",\"version\":\"2.11\",\"release\":\"4.20080712cvs.1.el6\",\"installdate\":\"1468188656\",\"arch\":\"x86_64\"},\"mingetty\":{\"epoch\":\"0\",\"version\":\"1.08\",\"release\":\"5.el6\",\"installdate\":\"1468188656\",\"arch\":\"x86_64\"},\"gnupg2\":{\"epoch\":\"0\",\"version\":\"2.0.14\",\"release\":\"8.el6\",\"installdate\":\"1468188657\",\"arch\":\"x86_64\"},\"fipscheck-lib\":{\"epoch\":\"0\",\"version\":\"1.2.0\",\"release\":\"7.el6\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"pciutils-libs\":{\"epoch\":\"0\",\"version\":\"3.1.10\",\"release\":\"4.el6\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"libcap-ng\":{\"epoch\":\"0\",\"version\":\"0.6.4\",\"release\":\"3.el6_0.1\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"python\":{\"epoch\":\"0\",\"version\":\"2.6.6\",\"release\":\"64.el6\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"pygpgme\":{\"epoch\":\"0\",\"version\":\"0.1\",\"release\":\"18.20090824bzr68.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"python-iniparse\":{\"epoch\":\"0\",\"version\":\"0.3.1\",\"release\":\"2.1.el6\",\"installdate\":\"1468188667\",\"arch\":\"noarch\"},\"newt\":{\"epoch\":\"0\",\"version\":\"0.52.11\",\"release\":\"3.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"ustr\":{\"epoch\":\"0\",\"version\":\"1.0.4\",\"release\":\"9.1.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"libaio\":{\"epoch\":\"0\",\"version\":\"0.3.107\",\"release\":\"10.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"gamin\":{\"epoch\":\"0\",\"version\":\"0.1.10\",\"release\":\"9.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"shared-mime-info\":{\"epoch\":\"0\",\"version\":\"0.70\",\"release\":\"6.el6\",\"installdate\":\"1468188668\",\"arch\":\"x86_64\"},\"grubby\":{\"epoch\":\"0\",\"version\":\"7.0.15\",\"release\":\"7.el6\",\"installdate\":\"1468188669\",\"arch\":\"x86_64\"},\"dbus-glib\":{\"epoch\":\"0\",\"version\":\"0.86\",\"release\":\"6.el6\",\"installdate\":\"1468188670\",\"arch\":\"x86_64\"},\"iptables\":{\"epoch\":\"0\",\"version\":\"1.4.7\",\"release\":\"16.el6\",\"installdate\":\"1468188670\",\"arch\":\"x86_64\"},\"cryptsetup-luks-libs\":{\"epoch\":\"0\",\"version\":\"1.2.0\",\"release\":\"11.el6\",\"installdate\":\"1468188673\",\"arch\":\"x86_64\"},\"plymouth\":{\"epoch\":\"0\",\"version\":\"0.8.3\",\"release\":\"27.el6.centos.1\",\"installdate\":\"1468188673\",\"arch\":\"x86_64\"},\"cyrus-sasl\":{\"epoch\":\"0\",\"version\":\"2.1.23\",\"release\":\"15.el6_6.2\",\"installdate\":\"1468188674\",\"arch\":\"x86_64\"},\"crontabs\":{\"epoch\":\"0\",\"version\":\"1.10\",\"release\":\"33.el6\",\"installdate\":\"1468188677\",\"arch\":\"noarch\"},\"kbd\":{\"epoch\":\"0\",\"version\":\"1.15\",\"release\":\"11.el6\",\"installdate\":\"1468188679\",\"arch\":\"x86_64\"},\"system-config-firewall-base\":{\"epoch\":\"0\",\"version\":\"1.2.27\",\"release\":\"7.2.el6_6\",\"installdate\":\"1468188721\",\"arch\":\"noarch\"},\"cryptsetup-luks\":{\"epoch\":\"0\",\"version\":\"1.2.0\",\"release\":\"11.el6\",\"installdate\":\"1468188722\",\"arch\":\"x86_64\"},\"e2fsprogs\":{\"epoch\":\"0\",\"version\":\"1.41.12\",\"release\":\"22.el6\",\"installdate\":\"1468188726\",\"arch\":\"x86_64\"},\"acl\":{\"epoch\":\"0\",\"version\":\"2.2.49\",\"release\":\"6.el6\",\"installdate\":\"1468188726\",\"arch\":\"x86_64\"},\"bridge-utils\":{\"epoch\":\"0\",\"version\":\"1.2\",\"release\":\"10.el6\",\"installdate\":\"1468188726\",\"arch\":\"x86_64\"},\"epel-release\":{\"epoch\":\"0\",\"version\":\"6\",\"release\":\"8\",\"installdate\":\"1468188848\",\"arch\":\"noarch\"},\"libgcc\":{\"epoch\":\"0\",\"version\":\"4.4.7\",\"release\":\"17.el6\",\"installdate\":\"1468188934\",\"arch\":\"x86_64\"},\"tzdata\":{\"epoch\":\"0\",\"version\":\"2016f\",\"release\":\"1.el6\",\"installdate\":\"1468188935\",\"arch\":\"noarch\"},\"glibc-common\":{\"epoch\":\"0\",\"version\":\"2.12\",\"release\":\"1.192.el6\",\"installdate\":\"1468188944\",\"arch\":\"x86_64\"},\"perl-libs\":{\"epoch\":\"4\",\"version\":\"5.10.1\",\"release\":\"141.el6_7.1\",\"installdate\":\"1468188948\",\"arch\":\"x86_64\"},\"perl-version\":{\"epoch\":\"3\",\"version\":\"0.77\",\"release\":\"141.el6_7.1\",\"installdate\":\"1468188949\",\"arch\":\"x86_64\"},\"perl\":{\"epoch\":\"4\",\"version\":\"5.10.1\",\"release\":\"141.el6_7.1\",\"installdate\":\"1468188951\",\"arch\":\"x86_64\"},\"mpfr\":{\"epoch\":\"0\",\"version\":\"2.4.1\",\"release\":\"6.el6\",\"installdate\":\"1468188952\",\"arch\":\"x86_64\"},\"libstdc++-devel\":{\"epoch\":\"0\",\"version\":\"4.4.7\",\"release\":\"17.el6\",\"installdate\":\"1468188953\",\"arch\":\"x86_64\"},\"cloog-ppl\":{\"epoch\":\"0\",\"version\":\"0.15.7\",\"release\":\"1.2.el6\",\"installdate\":\"1468188954\",\"arch\":\"x86_64\"},\"glibc-devel\":{\"epoch\":\"0\",\"version\":\"2.12\",\"release\":\"1.192.el6\",\"installdate\":\"1468188954\",\"arch\":\"x86_64\"},\"gcc\":{\"epoch\":\"0\",\"version\":\"4.4.7\",\"release\":\"17.el6\",\"installdate\":\"1468188955\",\"arch\":\"x86_64\"},\"wget\":{\"epoch\":\"0\",\"version\":\"1.12\",\"release\":\"8.el6\",\"installdate\":\"1468188956\",\"arch\":\"x86_64\"},\"bash\":{\"epoch\":\"0\",\"version\":\"4.1.2\",\"release\":\"40.el6\",\"installdate\":\"1468189144\",\"arch\":\"x86_64\"},\"chkconfig\":{\"epoch\":\"0\",\"version\":\"1.3.49.5\",\"release\":\"1.el6\",\"installdate\":\"1468189144\",\"arch\":\"x86_64\"},\"nspr\":{\"epoch\":\"0\",\"version\":\"4.11.0\",\"release\":\"1.el6\",\"installdate\":\"1468189144\",\"arch\":\"x86_64\"},\"db4\":{\"epoch\":\"0\",\"version\":\"4.7.25\",\"release\":\"20.el6_7\",\"installdate\":\"1468189144\",\"arch\":\"x86_64\"},\"glib2\":{\"epoch\":\"0\",\"version\":\"2.28.8\",\"release\":\"5.el6\",\"installdate\":\"1468189145\",\"arch\":\"x86_64\"},\"gawk\":{\"epoch\":\"0\",\"version\":\"3.1.7\",\"release\":\"10.el6_7.3\",\"installdate\":\"1468189146\",\"arch\":\"x86_64\"},\"file-libs\":{\"epoch\":\"0\",\"version\":\"5.04\",\"release\":\"30.el6\",\"installdate\":\"1468189146\",\"arch\":\"x86_64\"},\"libuuid\":{\"epoch\":\"0\",\"version\":\"2.17.2\",\"release\":\"12.24.el6\",\"installdate\":\"1468189146\",\"arch\":\"x86_64\"},\"findutils\":{\"epoch\":\"1\",\"version\":\"4.4.2\",\"release\":\"9.el6\",\"installdate\":\"1468189147\",\"arch\":\"x86_64\"},\"hwdata\":{\"epoch\":\"0\",\"version\":\"0.233\",\"release\":\"16.1.el6\",\"installdate\":\"1468189147\",\"arch\":\"noarch\"},\"libpciaccess\":{\"epoch\":\"0\",\"version\":\"0.13.4\",\"release\":\"1.el6\",\"installdate\":\"1468189148\",\"arch\":\"x86_64\"},\"db4-utils\":{\"epoch\":\"0\",\"version\":\"4.7.25\",\"release\":\"20.el6_7\",\"installdate\":\"1468189148\",\"arch\":\"x86_64\"},\"upstart\":{\"epoch\":\"0\",\"version\":\"0.6.5\",\"release\":\"16.el6\",\"installdate\":\"1468189148\",\"arch\":\"x86_64\"},\"procps\":{\"epoch\":\"0\",\"version\":\"3.2.8\",\"release\":\"36.el6\",\"installdate\":\"1468189149\",\"arch\":\"x86_64\"},\"filesystem\":{\"epoch\":\"0\",\"version\":\"2.4.30\",\"release\":\"3.el6\",\"installdate\":\"1468188630\",\"arch\":\"x86_64\"},\"device-mapper-persistent-data\":{\"epoch\":\"0\",\"version\":\"0.6.2\",\"release\":\"0.1.rc7.el6\",\"installdate\":\"1468189149\",\"arch\":\"x86_64\"},\"ncurses-base\":{\"epoch\":\"0\",\"version\":\"5.7\",\"release\":\"4.20090207.el6\",\"installdate\":\"1468188630\",\"arch\":\"x86_64\"},\"coreutils-libs\":{\"epoch\":\"0\",\"version\":\"8.4\",\"release\":\"43.el6\",\"installdate\":\"1468189149\",\"arch\":\"x86_64\"},\"pam\":{\"epoch\":\"0\",\"version\":\"1.1.1\",\"release\":\"22.el6\",\"installdate\":\"1468189150\",\"arch\":\"x86_64\"},\"ca-certificates\":{\"epoch\":\"0\",\"version\":\"2015.2.6\",\"release\":\"65.0.1.el6_7\",\"installdate\":\"1468189151\",\"arch\":\"noarch\"},\"ncurses-libs\":{\"epoch\":\"0\",\"version\":\"5.7\",\"release\":\"4.20090207.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"libssh2\":{\"epoch\":\"0\",\"version\":\"1.4.2\",\"release\":\"2.el6_7.1\",\"installdate\":\"1468189152\",\"arch\":\"x86_64\"},\"libattr\":{\"epoch\":\"0\",\"version\":\"2.4.44\",\"release\":\"7.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"centos-release\":{\"epoch\":\"0\",\"version\":\"6\",\"release\":\"8.el6.centos.12.3\",\"installdate\":\"1468189152\",\"arch\":\"x86_64\"},\"zlib\":{\"epoch\":\"0\",\"version\":\"1.2.3\",\"release\":\"29.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"util-linux-ng\":{\"epoch\":\"0\",\"version\":\"2.17.2\",\"release\":\"12.24.el6\",\"installdate\":\"1468189153\",\"arch\":\"x86_64\"},\"popt\":{\"epoch\":\"0\",\"version\":\"1.13\",\"release\":\"7.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"udev\":{\"epoch\":\"0\",\"version\":\"147\",\"release\":\"2.73.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"libcom_err\":{\"epoch\":\"0\",\"version\":\"1.41.12\",\"release\":\"22.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"device-mapper\":{\"epoch\":\"0\",\"version\":\"1.02.117\",\"release\":\"7.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"device-mapper-event\":{\"epoch\":\"0\",\"version\":\"1.02.117\",\"release\":\"7.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"libsepol\":{\"epoch\":\"0\",\"version\":\"2.0.41\",\"release\":\"4.el6\",\"installdate\":\"1468188643\",\"arch\":\"x86_64\"},\"kpartx\":{\"epoch\":\"0\",\"version\":\"0.4.9\",\"release\":\"93.el6\",\"installdate\":\"1468189154\",\"arch\":\"x86_64\"},\"dracut\":{\"epoch\":\"0\",\"version\":\"004\",\"release\":\"409.el6_8.2\",\"installdate\":\"1468189154\",\"arch\":\"noarch\"},\"dhcp-common\":{\"epoch\":\"12\",\"version\":\"4.1.1\",\"release\":\"51.P1.el6.centos\",\"installdate\":\"1468189155\",\"arch\":\"x86_64\"},\"readline\":{\"epoch\":\"0\",\"version\":\"6.0\",\"release\":\"4.el6\",\"installdate\":\"1468188644\",\"arch\":\"x86_64\"},\"nss-softokn\":{\"epoch\":\"0\",\"version\":\"3.14.3\",\"release\":\"23.el6_7\",\"installdate\":\"1468189155\",\"arch\":\"x86_64\"},\"nss-sysinit\":{\"epoch\":\"0\",\"version\":\"3.21.0\",\"release\":\"8.el6\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"nss-tools\":{\"epoch\":\"0\",\"version\":\"3.21.0\",\"release\":\"8.el6\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"rpm-libs\":{\"epoch\":\"0\",\"version\":\"4.8.0\",\"release\":\"55.el6\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"dbus-libs\":{\"epoch\":\"1\",\"version\":\"1.2.24\",\"release\":\"8.el6_6\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"rpm\":{\"epoch\":\"0\",\"version\":\"4.8.0\",\"release\":\"55.el6\",\"installdate\":\"1468189156\",\"arch\":\"x86_64\"},\"pcre\":{\"epoch\":\"0\",\"version\":\"7.8\",\"release\":\"7.el6\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"policycoreutils\":{\"epoch\":\"0\",\"version\":\"2.0.83\",\"release\":\"29.el6\",\"installdate\":\"1468189157\",\"arch\":\"x86_64\"},\"lua\":{\"epoch\":\"0\",\"version\":\"5.1.4\",\"release\":\"4.1.el6\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"postfix\":{\"epoch\":\"2\",\"version\":\"2.6.6\",\"release\":\"6.el6_7.1\",\"installdate\":\"1468189158\",\"arch\":\"x86_64\"},\"cyrus-sasl-lib\":{\"epoch\":\"0\",\"version\":\"2.1.23\",\"release\":\"15.el6_6.2\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"cronie\":{\"epoch\":\"0\",\"version\":\"1.4.4\",\"release\":\"15.el6_7.1\",\"installdate\":\"1468189159\",\"arch\":\"x86_64\"},\"expat\":{\"epoch\":\"0\",\"version\":\"2.0.1\",\"release\":\"11.el6_2\",\"installdate\":\"1468188645\",\"arch\":\"x86_64\"},\"rpm-python\":{\"epoch\":\"0\",\"version\":\"4.8.0\",\"release\":\"55.el6\",\"installdate\":\"1468189160\",\"arch\":\"x86_64\"},\"python-urlgrabber\":{\"epoch\":\"0\",\"version\":\"3.9.1\",\"release\":\"11.el6\",\"installdate\":\"1468189160\",\"arch\":\"noarch\"},\"libgcrypt\":{\"epoch\":\"0\",\"version\":\"1.4.5\",\"release\":\"11.el6_4\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"yum\":{\"epoch\":\"0\",\"version\":\"3.2.29\",\"release\":\"73.el6.centos\",\"installdate\":\"1468189160\",\"arch\":\"noarch\"},\"kernel\":{\"epoch\":\"0\",\"version\":\"2.6.32\",\"release\":\"573.el6\",\"installdate\":\"1468188685\",\"arch\":\"x86_64\"},\"checkpolicy\":{\"epoch\":\"0\",\"version\":\"2.0.22\",\"release\":\"1.el6\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"passwd\":{\"epoch\":\"0\",\"version\":\"0.77\",\"release\":\"7.el6\",\"installdate\":\"1468189169\",\"arch\":\"x86_64\"},\"which\":{\"epoch\":\"0\",\"version\":\"2.19\",\"release\":\"6.el6\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"sudo\":{\"epoch\":\"0\",\"version\":\"1.8.6p3\",\"release\":\"24.el6\",\"installdate\":\"1468189193\",\"arch\":\"x86_64\"},\"pth\":{\"epoch\":\"0\",\"version\":\"2.0.7\",\"release\":\"9.3.el6\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"openssh-clients\":{\"epoch\":\"0\",\"version\":\"5.3p1\",\"release\":\"118.1.el6_8\",\"installdate\":\"1468189194\",\"arch\":\"x86_64\"},\"sysvinit-tools\":{\"epoch\":\"0\",\"version\":\"2.87\",\"release\":\"6.dsf.el6\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"device-mapper-multipath\":{\"epoch\":\"0\",\"version\":\"0.4.9\",\"release\":\"93.el6\",\"installdate\":\"1468189194\",\"arch\":\"x86_64\"},\"p11-kit\":{\"epoch\":\"0\",\"version\":\"0.18.5\",\"release\":\"2.el6_5.2\",\"installdate\":\"1468188646\",\"arch\":\"x86_64\"},\"mdadm\":{\"epoch\":\"0\",\"version\":\"3.3.4\",\"release\":\"1.el6\",\"installdate\":\"1468189195\",\"arch\":\"x86_64\"},\"iscsi-initiator-utils\":{\"epoch\":\"0\",\"version\":\"6.2.0.873\",\"release\":\"21.el6\",\"installdate\":\"1468189195\",\"arch\":\"x86_64\"},\"audit\":{\"epoch\":\"0\",\"version\":\"2.4.5\",\"release\":\"3.el6\",\"installdate\":\"1468189196\",\"arch\":\"x86_64\"},\"xfsprogs\":{\"epoch\":\"0\",\"version\":\"3.1.1\",\"release\":\"19.el6\",\"installdate\":\"1468189196\",\"arch\":\"x86_64\"},\"MAKEDEV\":{\"epoch\":\"0\",\"version\":\"3.24\",\"release\":\"6.el6\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"gdbm\":{\"epoch\":\"0\",\"version\":\"1.8.0\",\"release\":\"39.el6\",\"installdate\":\"1468189197\",\"arch\":\"x86_64\"},\"pinentry\":{\"epoch\":\"0\",\"version\":\"0.7.6\",\"release\":\"8.el6\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"kernel-devel\":{\"epoch\":\"0\",\"version\":\"2.6.32\",\"release\":\"642.1.1.el6\",\"installdate\":\"1473872895\",\"arch\":\"x86_64\"},\"net-tools\":{\"epoch\":\"0\",\"version\":\"1.60\",\"release\":\"110.el6_2\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"lynx\":{\"epoch\":\"0\",\"version\":\"2.8.6\",\"release\":\"27.el6\",\"installdate\":\"1473876561\",\"arch\":\"x86_64\"},\"chef\":{\"epoch\":\"0\",\"version\":\"12.13.37\",\"release\":\"1.el6\",\"installdate\":\"1473876563\",\"arch\":\"x86_64\"},\"libss\":{\"epoch\":\"0\",\"version\":\"1.41.12\",\"release\":\"22.el6\",\"installdate\":\"1468188648\",\"arch\":\"x86_64\"},\"m4\":{\"epoch\":\"0\",\"version\":\"1.4.13\",\"release\":\"5.el6\",\"installdate\":\"1468188649\",\"arch\":\"x86_64\"},\"ncurses\":{\"epoch\":\"0\",\"version\":\"5.7\",\"release\":\"4.20090207.el6\",\"installdate\":\"1468188649\",\"arch\":\"x86_64\"},\"less\":{\"epoch\":\"0\",\"version\":\"436\",\"release\":\"13.el6\",\"installdate\":\"1468188650\",\"arch\":\"x86_64\"},\"gzip\":{\"epoch\":\"0\",\"version\":\"1.3.12\",\"release\":\"22.el6\",\"installdate\":\"1468188650\",\"arch\":\"x86_64\"},\"cracklib-dicts\":{\"epoch\":\"0\",\"version\":\"2.8.16\",\"release\":\"4.el6\",\"installdate\":\"1468188651\",\"arch\":\"x86_64\"},\"plymouth-scripts\":{\"epoch\":\"0\",\"version\":\"0.8.3\",\"release\":\"27.el6.centos.1\",\"installdate\":\"1468188654\",\"arch\":\"x86_64\"},\"keyutils-libs\":{\"epoch\":\"0\",\"version\":\"1.4\",\"release\":\"5.el6\",\"installdate\":\"1468188656\",\"arch\":\"x86_64\"},\"gpgme\":{\"epoch\":\"0\",\"version\":\"1.1.8\",\"release\":\"3.el6\",\"installdate\":\"1468188657\",\"arch\":\"x86_64\"},\"fipscheck\":{\"epoch\":\"0\",\"version\":\"1.2.0\",\"release\":\"7.el6\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"ethtool\":{\"epoch\":\"2\",\"version\":\"3.5\",\"release\":\"6.el6\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"plymouth-core-libs\":{\"epoch\":\"0\",\"version\":\"0.8.3\",\"release\":\"27.el6.centos.1\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"libffi\":{\"epoch\":\"0\",\"version\":\"3.0.5\",\"release\":\"3.2.el6\",\"installdate\":\"1468188658\",\"arch\":\"x86_64\"},\"python-libs\":{\"epoch\":\"0\",\"version\":\"2.6.6\",\"release\":\"64.el6\",\"installdate\":\"1468188666\",\"arch\":\"x86_64\"},\"slang\":{\"epoch\":\"0\",\"version\":\"2.2.1\",\"release\":\"1.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"newt-python\":{\"epoch\":\"0\",\"version\":\"0.52.11\",\"release\":\"3.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"libsemanage\":{\"epoch\":\"0\",\"version\":\"2.0.43\",\"release\":\"5.1.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"pkgconfig\":{\"epoch\":\"1\",\"version\":\"0.23\",\"release\":\"9.1.el6\",\"installdate\":\"1468188667\",\"arch\":\"x86_64\"},\"yum-metadata-parser\":{\"epoch\":\"0\",\"version\":\"1.1.2\",\"release\":\"16.el6\",\"installdate\":\"1468188669\",\"arch\":\"x86_64\"},\"rsyslog\":{\"epoch\":\"0\",\"version\":\"5.8.10\",\"release\":\"10.el6_6\",\"installdate\":\"1468188674\",\"arch\":\"x86_64\"},\"iptables-ipv6\":{\"epoch\":\"0\",\"version\":\"1.4.7\",\"release\":\"16.el6\",\"installdate\":\"1468188677\",\"arch\":\"x86_64\"},\"kbd-misc\":{\"epoch\":\"0\",\"version\":\"1.15\",\"release\":\"11.el6\",\"installdate\":\"1468188679\",\"arch\":\"noarch\"},\"b43-openfwwf\":{\"epoch\":\"0\",\"version\":\"5.2\",\"release\":\"10.el6\",\"installdate\":\"1468188724\",\"arch\":\"noarch\"},\"authconfig\":{\"epoch\":\"0\",\"version\":\"6.1.12\",\"release\":\"23.el6\",\"installdate\":\"1468188724\",\"arch\":\"x86_64\"},\"efibootmgr\":{\"epoch\":\"0\",\"version\":\"0.5.4\",\"release\":\"13.el6\",\"installdate\":\"1468188725\",\"arch\":\"x86_64\"},\"attr\":{\"epoch\":\"0\",\"version\":\"2.4.44\",\"release\":\"7.el6\",\"installdate\":\"1468188726\",\"arch\":\"x86_64\"},\"rootfiles\":{\"epoch\":\"0\",\"version\":\"8.1\",\"release\":\"6.1.el6\",\"installdate\":\"1468188726\",\"arch\":\"noarch\"},\"gpg-pubkey\":{\"epoch\":\"0\",\"version\":\"c105b9de\",\"release\":\"4e0fd3a3\",\"installdate\":\"1468188902\",\"arch\":\"(none)\"},\"kernel-headers\":{\"epoch\":\"0\",\"version\":\"2.6.32\",\"release\":\"642.1.1.el6\",\"installdate\":\"1468188934\",\"arch\":\"x86_64\"},\"glibc\":{\"epoch\":\"0\",\"version\":\"2.12\",\"release\":\"1.192.el6\",\"installdate\":\"1468188936\",\"arch\":\"x86_64\"},\"perl-Pod-Escapes\":{\"epoch\":\"1\",\"version\":\"1.04\",\"release\":\"141.el6_7.1\",\"installdate\":\"1468188947\",\"arch\":\"x86_64\"},\"perl-Pod-Simple\":{\"epoch\":\"1\",\"version\":\"3.13\",\"release\":\"141.el6_7.1\",\"installdate\":\"1468188949\",\"arch\":\"x86_64\"},\"perl-Module-Pluggable\":{\"epoch\":\"1\",\"version\":\"3.90\",\"release\":\"141.el6_7.1\",\"installdate\":\"1468188949\",\"arch\":\"x86_64\"},\"libstdc++\":{\"epoch\":\"0\",\"version\":\"4.4.7\",\"release\":\"17.el6\",\"installdate\":\"1468188952\",\"arch\":\"x86_64\"},\"cpp\":{\"epoch\":\"0\",\"version\":\"4.4.7\",\"release\":\"17.el6\",\"installdate\":\"1468188953\",\"arch\":\"x86_64\"},\"ppl\":{\"epoch\":\"0\",\"version\":\"0.10.2\",\"release\":\"11.el6\",\"installdate\":\"1468188954\",\"arch\":\"x86_64\"},\"glibc-headers\":{\"epoch\":\"0\",\"version\":\"2.12\",\"release\":\"1.192.el6\",\"installdate\":\"1468188954\",\"arch\":\"x86_64\"},\"libgomp\":{\"epoch\":\"0\",\"version\":\"4.4.7\",\"release\":\"17.el6\",\"installdate\":\"1468188954\",\"arch\":\"x86_64\"},\"gcc-c++\":{\"epoch\":\"0\",\"version\":\"4.4.7\",\"release\":\"17.el6\",\"installdate\":\"1468188956\",\"arch\":\"x86_64\"},\"make\":{\"epoch\":\"1\",\"version\":\"3.81\",\"release\":\"23.el6\",\"installdate\":\"1468188956\",\"arch\":\"x86_64\"},\"libselinux\":{\"epoch\":\"0\",\"version\":\"2.0.94\",\"release\":\"7.el6\",\"installdate\":\"1468189144\",\"arch\":\"x86_64\"},\"audit-libs\":{\"epoch\":\"0\",\"version\":\"2.4.5\",\"release\":\"3.el6\",\"installdate\":\"1468189144\",\"arch\":\"x86_64\"},\"nss-util\":{\"epoch\":\"0\",\"version\":\"3.21.0\",\"release\":\"2.el6\",\"installdate\":\"1468189144\",\"arch\":\"x86_64\"},\"krb5-libs\":{\"epoch\":\"0\",\"version\":\"1.10.3\",\"release\":\"57.el6\",\"installdate\":\"1468189145\",\"arch\":\"x86_64\"},\"grep\":{\"epoch\":\"0\",\"version\":\"2.20\",\"release\":\"3.el6_7.1\",\"installdate\":\"1468189146\",\"arch\":\"x86_64\"},\"libudev\":{\"epoch\":\"0\",\"version\":\"147\",\"release\":\"2.73.el6\",\"installdate\":\"1468189146\",\"arch\":\"x86_64\"},\"elfutils-libelf\":{\"epoch\":\"0\",\"version\":\"0.164\",\"release\":\"2.el6\",\"installdate\":\"1468189146\",\"arch\":\"x86_64\"},\"libblkid\":{\"epoch\":\"0\",\"version\":\"2.17.2\",\"release\":\"12.24.el6\",\"installdate\":\"1468189146\",\"arch\":\"x86_64\"},\"nss-softokn-freebl\":{\"epoch\":\"0\",\"version\":\"3.14.3\",\"release\":\"23.el6_7\",\"installdate\":\"1468189147\",\"arch\":\"x86_64\"},\"tcp_wrappers-libs\":{\"epoch\":\"0\",\"version\":\"7.6\",\"release\":\"58.el6\",\"installdate\":\"1468189147\",\"arch\":\"x86_64\"},\"file\":{\"epoch\":\"0\",\"version\":\"5.04\",\"release\":\"30.el6\",\"installdate\":\"1468189148\",\"arch\":\"x86_64\"},\"iproute\":{\"epoch\":\"0\",\"version\":\"2.6.32\",\"release\":\"54.el6\",\"installdate\":\"1468189148\",\"arch\":\"x86_64\"}},\"virtualbox\":{\"host\":{\"language\":\"en_US\",\"revision\":\"108355\",\"version\":\"5.0.24\"},\"guest\":{\"guest_additions_version\":\"5.0.24\",\"guest_additions_revision\":\"108355\"}},\"time\":{\"timezone\":\"BST\"},\"recipes\":[\"jboss::default\",\"java::default\",\"java::set_attributes_from_version\",\"java::oracle\",\"java::set_java_home\"],\"expanded_run_list\":[\"jboss::default\"],\"roles\":[],\"cookbooks\":{\"jboss\":{\"version\":\"0.0.0\"},\"java\":{\"version\":\"1.39.0\"},\"apt\":{\"version\":\"3.0.0\"}}},\"normal\":{\"tags\":[]},\"chef_type\":\"node\",\"default\":{\"apt\":{\"cacher-client\":{\"restrict_environment\":false},\"cacher_dir\":\"/var/cache/apt-cacher-ng\",\"cacher_interface\":null,\"cacher_port\":3142,\"cacher_ssl_support\":false,\"caching_server\":false,\"compiletime\":false,\"compile_time_update\":false,\"key_proxy\":\"\",\"cache_bypass\":{},\"periodic_update_min_delay\":86400,\"launchpad_api_version\":\"1.0\",\"unattended_upgrades\":{\"enable\":false,\"update_package_lists\":true,\"allowed_origins\":[\"Centos \"],\"package_blacklist\":[],\"auto_fix_interrupted_dpkg\":false,\"minimal_steps\":false,\"install_on_shutdown\":false,\"mail\":null,\"mail_only_on_error\":true,\"remove_unused_dependencies\":false,\"automatic_reboot\":false,\"automatic_reboot_time\":\"now\",\"dl_limit\":null},\"confd\":{\"install_recommends\":true,\"install_suggests\":false}},\"java\":{\"jdk_version\":\"6\",\"arch\":\"x86_64\",\"openjdk_packages\":[\"java-1.6.0-openjdk\",\"java-1.6.0-openjdk-devel\"],\"openjdk_version\":null,\"accept_license_agreement\":false,\"set_default\":true,\"alternatives_priority\":1062,\"set_etc_environment\":false,\"use_alt_suffix\":true,\"reset_alternatives\":true,\"ark_retries\":0,\"ark_retry_delay\":2,\"ark_timeout\":600,\"ark_download_timeout\":600,\"install_flavor\":\"oracle\",\"oracle\":{\"accept_oracle_download_terms\":true,\"jce\":{\"enabled\":false,\"8\":{\"url\":\"http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\",\"checksum\":\"f3020a3922efd6626c2fff45695d527f34a8020e938a49292561f18ad1320b59\"},\"7\":{\"url\":\"http://download.oracle.com/otn-pub/java/jce/7/UnlimitedJCEPolicyJDK7.zip\",\"checksum\":\"7a8d790e7bd9c2f82a83baddfae765797a4a56ea603c9150c87b7cdb7800194d\"},\"6\":{\"url\":\"http://download.oracle.com/otn-pub/java/jce_policy/6/jce_policy-6.zip\",\"checksum\":\"d0c2258c3364120b4dbf7dd1655c967eee7057ac6ae6334b5ea8ceb8bafb9262\"},\"home\":\"/opt/java_jce\"}},\"jdk\":{\"6\":{\"bin_cmds\":[\"appletviewer\",\"apt\",\"ControlPanel\",\"extcheck\",\"HtmlConverter\",\"idlj\",\"jar\",\"jarsigner\",\"java\",\"javac\",\"javadoc\",\"javah\",\"javap\",\"javaws\",\"jconsole\",\"jcontrol\",\"jdb\",\"jhat\",\"jinfo\",\"jmap\",\"jps\",\"jrunscript\",\"jsadebugd\",\"jstack\",\"jstat\",\"jstatd\",\"jvisualvm\",\"keytool\",\"native2ascii\",\"orbd\",\"pack200\",\"policytool\",\"rmic\",\"rmid\",\"rmiregistry\",\"schemagen\",\"serialver\",\"servertool\",\"tnameserv\",\"unpack200\",\"wsgen\",\"wsimport\",\"xjc\"],\"x86_64\":{\"url\":\"http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64.bin\",\"checksum\":\"6b493aeab16c940cae9e3d07ad2a5c5684fb49cf06c5d44c400c7993db0d12e8\"},\"i586\":{\"url\":\"http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-i586.bin\",\"checksum\":\"d53b5a2518d80e1d95565f0adda54eee229dc5f4a1d1a3c2f7bf5045b168a357\"}},\"7\":{\"bin_cmds\":[\"appletviewer\",\"apt\",\"ControlPanel\",\"extcheck\",\"idlj\",\"jar\",\"jarsigner\",\"java\",\"javac\",\"javadoc\",\"javafxpackager\",\"javah\",\"javap\",\"javaws\",\"jcmd\",\"jconsole\",\"jcontrol\",\"jdb\",\"jhat\",\"jinfo\",\"jmap\",\"jps\",\"jrunscript\",\"jsadebugd\",\"jstack\",\"jstat\",\"jstatd\",\"jvisualvm\",\"keytool\",\"native2ascii\",\"orbd\",\"pack200\",\"policytool\",\"rmic\",\"rmid\",\"rmiregistry\",\"schemagen\",\"serialver\",\"servertool\",\"tnameserv\",\"unpack200\",\"wsgen\",\"wsimport\",\"xjc\"],\"x86_64\":{\"url\":\"http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-x64.tar.gz\",\"checksum\":\"6f1f81030a34f7a9c987f8b68a24d139\"},\"i586\":{\"url\":\"http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-i586.tar.gz\",\"checksum\":\"e4371a4fddc049eca3bfef293d812b8e\"}},\"8\":{\"bin_cmds\":[\"appletviewer\",\"apt\",\"ControlPanel\",\"extcheck\",\"idlj\",\"jar\",\"jarsigner\",\"java\",\"javac\",\"javadoc\",\"javafxpackager\",\"javah\",\"javap\",\"javaws\",\"jcmd\",\"jconsole\",\"jcontrol\",\"jdb\",\"jdeps\",\"jhat\",\"jinfo\",\"jjs\",\"jmap\",\"jmc\",\"jps\",\"jrunscript\",\"jsadebugd\",\"jstack\",\"jstat\",\"jstatd\",\"jvisualvm\",\"keytool\",\"native2ascii\",\"orbd\",\"pack200\",\"policytool\",\"rmic\",\"rmid\",\"rmiregistry\",\"schemagen\",\"serialver\",\"servertool\",\"tnameserv\",\"unpack200\",\"wsgen\",\"wsimport\",\"xjc\"],\"x86_64\":{\"url\":\"http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-x64.tar.gz\",\"checksum\":\"196880a42c45ec9ab2f00868d69619c0\"},\"i586\":{\"url\":\"http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-i586.tar.gz\",\"checksum\":\"7b715e1fe2316c94aaa968b23ce49c9a\"}}},\"java_home\":\"/usr/lib/jvm/java\"},\"jboss\":{\"path\":\"/opt\",\"home\":\"/opt/jboss\",\"app_dir\":\"/opt/jboss/server/default/deploy\",\"user\":\"jboss\",\"group\":\"jboss\",\"url\":\"http://download.jboss.org/jbossas/6.1/jboss-as-distribution-6.1.0.Final.zip\",\"app_url\":\"http://www.cumulogic.com/download/Apps/testweb.zip\"}},\"override\":{},\"run_list\":[\"recipe[jboss::default]\"]}",
 @env=
  {"SCRIPT_NAME"=>"",
   "SERVER_NAME"=>"localhost",
   "REQUEST_METHOD"=>"PUT",
   "PATH_INFO"=>"/nodes/VM1",
   "QUERY_STRING"=>nil,
   "SERVER_PORT"=>8889,
   "HTTP_HOST"=>"localhost:8889",
   "rack.url_scheme"=>"chefzero",
   "rack.input"=>#<StringIO:0x00000005b78158>},
 @rest_base_prefix=["organizations", "chef"],
 @rest_path=["organizations", "chef", "nodes", "VM1"]>

[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: Detecting file extension for VM1
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: got a file path of /root/nodes/VM1.json for VM1.json
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: Detecting file extension for VM1
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: got a file path of /root/nodes/VM1.json for VM1.json
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: Detecting file extension for VM1
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: got a file path of /root/nodes/VM1.json for VM1.json
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: Detecting file extension for VM1
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: got a file path of /root/nodes/VM1.json for VM1.json
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: Detecting file extension for VM1
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: got a file path of /root/nodes/VM1.json for VM1.json
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: Detecting file extension for VM1
[2016-09-14T19:11:15+01:00] DEBUG: BaseFile: got a file path of /root/nodes/VM1.json for VM1.json
[2016-09-14T19:11:15+01:00] DEBUG: 
--- RESPONSE (200) ---
{
  "name": "VM1",
  "chef_environment": "_default",
  "json_class": "Chef::Node",
  "automatic": {
    "dmi": {

    },
    "kernel": {
      "name": "Linux",
      "release": "2.6.32-642.1.1.el6.x86_64",
      "version": "#1 SMP Tue May 31 21:57:07 UTC 2016",
      "machine": "x86_64",
      "processor": "x86_64",
      "os": "GNU/Linux",
      "modules": {
        "vboxsf": {
          "size": "37731",
          "refcount": "1",
          "version": "5.0.24 r108355"
        },
        "vboxguest": {
          "size": "284807",
          "refcount": "2",
          "version": "5.0.24 r108355"
        },
        "nls_utf8": {
          "size": "1455",
          "refcount": "0"
        },
        "ipv6": {
          "size": "336282",
          "refcount": "14"
        },
        "sg": {
          "size": "29318",
          "refcount": "0",
          "version": "3.5.34"
        },
        "i2c_piix4": {
          "size": "11232",
          "refcount": "0"
        },
        "i2c_core": {
          "size": "29132",
          "refcount": "1"
        },
        "e1000": {
          "size": "134895",
          "refcount": "0",
          "version": "7.3.21-k8-NAPI"
        },
        "ext4": {
          "size": "379655",
          "refcount": "2"
        },
        "jbd2": {
          "size": "93252",
          "refcount": "1"
        },
        "mbcache": {
          "size": "8193",
          "refcount": "1"
        },
        "sd_mod": {
          "size": "37158",
          "refcount": "3"
        },
        "crc_t10dif": {
          "size": "1209",
          "refcount": "1"
        },
        "ahci": {
          "size": "43154",
          "refcount": "2",
          "version": "3.0"
        },
        "pata_acpi": {
          "size": "3701",
          "refcount": "0",
          "version": "0.2.3"
        },
        "ata_generic": {
          "size": "3837",
          "refcount": "0",
          "version": "0.2.15"
        },
        "ata_piix": {
          "size": "24409",
          "refcount": "0",
          "version": "2.13"
        },
        "video": {
          "size": "21654",
          "refcount": "0"
        },
        "output": {
          "size": "2409",
          "refcount": "1"
        },
        "dm_mirror": {
          "size": "14864",
          "refcount": "0"
        },
        "dm_region_hash": {
          "size": "12085",
          "refcount": "1"
        },
        "dm_log": {
          "size": "9930",
          "refcount": "2"
        },
        "dm_mod": {
          "size": "102467",
          "refcount": "8"
        }
      }
    },
    "network": {
      "interfaces": {
        "lo": {
          "mtu": "65536",
          "flags": [
            "LOOPBACK",
            "UP",
            "LOWER_UP"
          ],
          "encapsulation": "Loopback",
          "addresses": {
            "127.0.0.1": {
              "family": "inet",
              "prefixlen": "8",
              "netmask": "255.0.0.0",
              "scope": "Node"
            },
            "::1": {
              "family": "inet6",
              "prefixlen": "128",
              "scope": "Node",
              "tags": [

              ]
            }
          },
          "state": "unknown",
          "routes": [
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            },
            {
              "destination": "unreachable",
              "family": "inet6",
              "metric": "1024"
            }
          ]
        },
        "eth0": {
          "type": "eth",
          "number": "0",
          "mtu": "1500",
          "flags": [
            "BROADCAST",
            "MULTICAST",
            "UP",
            "LOWER_UP"
          ],
          "encapsulation": "Ethernet",
          "addresses": {
            "08:00:27:EC:55:DD": {
              "family": "lladdr"
            },
            "10.0.2.15": {
              "family": "inet",
              "prefixlen": "24",
              "netmask": "255.255.255.0",
              "broadcast": "10.0.2.255",
              "scope": "Global"
            },
            "fe80::a00:27ff:feec:55dd": {
              "family": "inet6",
              "prefixlen": "64",
              "scope": "Link",
              "tags": [

              ]
            }
          },
          "state": "up",
          "arp": {
            "10.0.2.3": "52:54:00:12:35:03",
            "10.0.2.2": "52:54:00:12:35:02"
          },
          "routes": [
            {
              "destination": "10.0.2.0/24",
              "family": "inet",
              "scope": "link",
              "proto": "kernel",
              "src": "10.0.2.15"
            },
            {
              "destination": "169.254.0.0/16",
              "family": "inet",
              "scope": "link",
              "metric": "1002"
            },
            {
              "destination": "default",
              "family": "inet",
              "via": "10.0.2.2"
            },
            {
              "destination": "fe80::/64",
              "family": "inet6",
              "metric": "256",
              "proto": "kernel"
            }
          ],
          "link_speed": 1000,
          "duplex": "Full",
          "port": "Twisted Pair",
          "transceiver": "internal",
          "auto_negotiation": "on",
          "mdi_x": "off (auto)",
          "ring_params": {
            "max_rx": 4096,
            "max_rx_mini": 0,
            "max_rx_jumbo": 0,
            "max_tx": 4096,
            "current_rx": 256,
            "current_rx_mini": 0,
            "current_rx_jumbo": 0,
            "current_tx": 256
          }
        },
        "eth1": {
          "type": "eth",
          "number": "1",
          "mtu": "1500",
          "flags": [
            "BROADCAST",
            "MULTICAST",
            "UP",
            "LOWER_UP"
          ],
          "encapsulation": "Ethernet",
          "addresses": {
            "08:00:27:73:DA:86": {
              "family": "lladdr"
            },
            "192.168.25.100": {
              "family": "inet",
              "prefixlen": "24",
              "netmask": "255.255.255.0",
              "broadcast": "192.168.25.255",
              "scope": "Global"
            },
            "fe80::a00:27ff:fe73:da86": {
              "family": "inet6",
              "prefixlen": "64",
              "scope": "Link",
              "tags": [

              ]
            }
          },
          "state": "up",
          "routes": [
            {
              "destination": "192.168.25.0/24",
              "family": "inet",
              "scope": "link",
              "proto": "kernel",
              "src": "192.168.25.100"
            },
            {
              "destination": "169.254.0.0/16",
              "family": "inet",
              "scope": "link",
              "metric": "1003"
            },
            {
              "destination": "fe80::/64",
              "family": "inet6",
              "metric": "256",
              "proto": "kernel"
            }
          ],
          "link_speed": 1000,
          "duplex": "Full",
          "port": "Twisted Pair",
          "transceiver": "internal",
          "auto_negotiation": "on",
          "mdi_x": "off (auto)",
          "ring_params": {
            "max_rx": 4096,
            "max_rx_mini": 0,
            "max_rx_jumbo": 0,
            "max_tx": 4096,
            "current_rx": 256,
            "current_rx_mini": 0,
            "current_rx_jumbo": 0,
            "current_tx": 256
          }
        }
      },
      "default_interface": "eth0",
      "default_gateway": "10.0.2.2"
    },
    "counters": {
      "network": {
        "interfaces": {
          "lo": {
            "rx": {
              "bytes": "0",
              "packets": "0",
              "errors": "0",
              "drop": "0",
              "overrun": "0"
            },
            "tx": {
              "bytes": "0",
              "packets": "0",
              "errors": "0",
              "drop": "0",
              "carrier": "0",
              "collisions": "0"
            }
          },
          "eth0": {
            "tx": {
              "queuelen": "1000",
              "bytes": "1029988",
              "packets": "15225",
              "errors": "0",
              "drop": "0",
              "carrier": "0",
              "collisions": "0"
            },
            "rx": {
              "bytes": "88181801",
              "packets": "62152",
              "errors": "0",
              "drop": "0",
              "overrun": "0"
            }
          },
          "eth1": {
            "tx": {
              "queuelen": "1000",
              "bytes": "528",
              "packets": "7",
              "errors": "0",
              "drop": "0",
              "carrier": "0",
              "collisions": "0"
            },
            "rx": {
              "bytes": "0",
              "packets": "0",
              "errors": "0",
              "drop": "0",
              "overrun": "0"
            }
          }
        }
      }
    },
    "ipaddress": "10.0.2.15",
    "macaddress": "08:00:27:EC:55:DD",
    "etc": {
      "passwd": {
        "root": {
          "dir": "/root",
          "gid": 0,
          "uid": 0,
          "shell": "/bin/bash",
          "gecos": "root"
        },
        "bin": {
          "dir": "/bin",
          "gid": 1,
          "uid": 1,
          "shell": "/sbin/nologin",
          "gecos": "bin"
        },
        "daemon": {
          "dir": "/sbin",
          "gid": 2,
          "uid": 2,
          "shell": "/sbin/nologin",
          "gecos": "daemon"
        },
        "adm": {
          "dir": "/var/adm",
          "gid": 4,
          "uid": 3,
          "shell": "/sbin/nologin",
          "gecos": "adm"
        },
        "lp": {
          "dir": "/var/spool/lpd",
          "gid": 7,
          "uid": 4,
          "shell": "/sbin/nologin",
          "gecos": "lp"
        },
        "sync": {
          "dir": "/sbin",
          "gid": 0,
          "uid": 5,
          "shell": "/bin/sync",
          "gecos": "sync"
        },
        "shutdown": {
          "dir": "/sbin",
          "gid": 0,
          "uid": 6,
          "shell": "/sbin/shutdown",
          "gecos": "shutdown"
        },
        "halt": {
          "dir": "/sbin",
          "gid": 0,
          "uid": 7,
          "shell": "/sbin/halt",
          "gecos": "halt"
        },
        "mail": {
          "dir": "/var/spool/mail",
          "gid": 12,
          "uid": 8,
          "shell": "/sbin/nologin",
          "gecos": "mail"
        },
        "uucp": {
          "dir": "/var/spool/uucp",
          "gid": 14,
          "uid": 10,
          "shell": "/sbin/nologin",
          "gecos": "uucp"
        },
        "operator": {
          "dir": "/root",
          "gid": 0,
          "uid": 11,
          "shell": "/sbin/nologin",
          "gecos": "operator"
        },
        "games": {
          "dir": "/usr/games",
          "gid": 100,
          "uid": 12,
          "shell": "/sbin/nologin",
          "gecos": "games"
        },
        "gopher": {
          "dir": "/var/gopher",
          "gid": 30,
          "uid": 13,
          "shell": "/sbin/nologin",
          "gecos": "gopher"
        },
        "ftp": {
          "dir": "/var/ftp",
          "gid": 50,
          "uid": 14,
          "shell": "/sbin/nologin",
          "gecos": "FTP User"
        },
        "nobody": {
          "dir": "/",
          "gid": 99,
          "uid": 99,
          "shell": "/sbin/nologin",
          "gecos": "Nobody"
        },
        "vcsa": {
          "dir": "/dev",
          "gid": 69,
          "uid": 69,
          "shell": "/sbin/nologin",
          "gecos": "virtual console memory owner"
        },
        "saslauth": {
          "dir": "/var/empty/saslauth",
          "gid": 76,
          "uid": 499,
          "shell": "/sbin/nologin",
          "gecos": "Saslauthd user"
        },
        "postfix": {
          "dir": "/var/spool/postfix",
          "gid": 89,
          "uid": 89,
          "shell": "/sbin/nologin",
          "gecos": ""
        },
        "sshd": {
          "dir": "/var/empty/sshd",
          "gid": 74,
          "uid": 74,
          "shell": "/sbin/nologin",
          "gecos": "Privilege-separated SSH"
        },
        "vagrant": {
          "dir": "/home/vagrant",
          "gid": 500,
          "uid": 500,
          "shell": "/bin/bash",
          "gecos": "vagrant"
        },
        "vboxadd": {
          "dir": "/var/run/vboxadd",
          "gid": 1,
          "uid": 498,
          "shell": "/bin/false",
          "gecos": ""
        }
      },
      "group": {
        "root": {
          "gid": 0,
          "members": [

          ]
        },
        "bin": {
          "gid": 1,
          "members": [
            "bin",
            "daemon"
          ]
        },
        "daemon": {
          "gid": 2,
          "members": [
            "bin",
            "daemon"
          ]
        },
        "sys": {
          "gid": 3,
          "members": [
            "bin",
            "adm"
          ]
        },
        "adm": {
          "gid": 4,
          "members": [
            "adm",
            "daemon"
          ]
        },
        "tty": {
          "gid": 5,
          "members": [

          ]
        },
        "disk": {
          "gid": 6,
          "members": [

          ]
        },
        "lp": {
          "gid": 7,
          "members": [
            "daemon"
          ]
        },
        "mem": {
          "gid": 8,
          "members": [

          ]
        },
        "kmem": {
          "gid": 9,
          "members": [

          ]
        },
        "wheel": {
          "gid": 10,
          "members": [

          ]
        },
        "mail": {
          "gid": 12,
          "members": [
            "mail",
            "postfix"
          ]
        },
        "uucp": {
          "gid": 14,
          "members": [

          ]
        },
        "man": {
          "gid": 15,
          "members": [

          ]
        },
        "games": {
          "gid": 20,
          "members": [

          ]
        },
        "gopher": {
          "gid": 30,
          "members": [

          ]
        },
        "video": {
          "gid": 39,
          "members": [

          ]
        },
        "dip": {
          "gid": 40,
          "members": [

          ]
        },
        "ftp": {
          "gid": 50,
          "members": [

          ]
        },
        "lock": {
          "gid": 54,
          "members": [

          ]
        },
        "audio": {
          "gid": 63,
          "members": [

          ]
        },
        "nobody": {
          "gid": 99,
          "members": [

          ]
        },
        "users": {
          "gid": 100,
          "members": [

          ]
        },
        "floppy": {
          "gid": 19,
          "members": [

          ]
        },
        "vcsa": {
          "gid": 69,
          "members": [

          ]
        },
        "utmp": {
          "gid": 22,
          "members": [

          ]
        },
        "utempter": {
          "gid": 35,
          "members": [

          ]
        },
        "cdrom": {
          "gid": 11,
          "members": [

          ]
        },
        "tape": {
          "gid": 33,
          "members": [

          ]
        },
        "dialout": {
          "gid": 18,
          "members": [

          ]
        },
        "saslauth": {
          "gid": 76,
          "members": [

          ]
        },
        "postdrop": {
          "gid": 90,
          "members": [

          ]
        },
        "postfix": {
          "gid": 89,
          "members": [

          ]
        },
        "fuse": {
          "gid": 499,
          "members": [

          ]
        },
        "sshd": {
          "gid": 74,
          "members": [

          ]
        },
        "vagrant": {
          "gid": 500,
          "members": [
            "vagrant"
          ]
        },
        "vboxsf": {
          "gid": 498,
          "members": [

          ]
        }
      }
    },
    "current_user": "root",
    "cloud_v2": null,
    "languages": {
      "python": {
        "version": "2.6.6",
        "builddate": "Jul 23 2015, 15:22:56"
      },
      "lua": {
        "version": "5.1.4"
      },
      "perl": {
        "version": "5.10.1",
        "archname": "x86_64-linux-thread-multi"
      },
      "ruby": {
        "platform": "x86_64-linux",
        "version": "2.1.8",
        "release_date": "2015-12-16",
        "target": "x86_64-pc-linux-gnu",
        "target_cpu": "x86_64",
        "target_vendor": "pc",
        "target_os": "linux",
        "host": "x86_64-pc-linux-gnu",
        "host_cpu": "x86_64",
        "host_os": "linux-gnu",
        "host_vendor": "pc",
        "bin_dir": "/opt/chefdk/embedded/bin",
        "ruby_bin": "/opt/chefdk/embedded/bin/ruby",
        "gems_dir": "/opt/chefdk/embedded/lib/ruby/gems/2.1.0",
        "gem_bin": "/opt/chefdk/embedded/bin/gem"
      },
      "c": {
        "gcc": {
          "version": "4.4.7",
          "description": "gcc version 4.4.7 20120313 (Red Hat 4.4.7-17) (GCC) "
        },
        "glibc": {
          "version": "2.12",
          "description": "GNU C Library stable release version 2.12, by Roland McGrath et al."
        }
      }
    },
    "ohai_time": 1473876575.7192242,
    "os": "linux",
    "os_version": "2.6.32-642.1.1.el6.x86_64",
    "lsb": {

    },
    "platform": "centos",
    "platform_version": "6.8",
    "platform_family": "rhel",
    "ip6address": "fe80::a00:27ff:fe73:da86",
    "cpu": {
      "0": {
        "vendor_id": "GenuineIntel",
        "family": "6",
        "model": "58",
        "model_name": "Intel(R) Core(TM) i5-3470 CPU @ 3.20GHz",
        "stepping": "9",
        "mhz": "3192.754",
        "cache_size": "6144 KB",
        "physical_id": "0",
        "core_id": "0",
        "cores": "1",
        "flags": [
          "fpu",
          "vme",
          "de",
          "pse",
          "tsc",
          "msr",
          "pae",
          "mce",
          "cx8",
          "apic",
          "sep",
          "mtrr",
          "pge",
          "mca",
          "cmov",
          "pat",
          "pse36",
          "clflush",
          "mmx",
          "fxsr",
          "sse",
          "sse2",
          "syscall",
          "nx",
          "rdtscp",
          "lm",
          "constant_tsc",
          "up",
          "rep_good",
          "xtopology",
          "nonstop_tsc",
          "unfair_spinlock",
          "pni",
          "pclmulqdq",
          "monitor",
          "ssse3",
          "cx16",
          "sse4_1",
          "sse4_2",
          "popcnt",
          "aes",
          "xsave",
          "avx",
          "rdrand",
          "hypervisor",
          "lahf_lm"
        ]
      },
      "total": 1,
      "real": 1,
      "cores": 1
    },
    "memory": {
      "swap": {
        "cached": "0kB",
        "total": "1277948kB",
        "free": "1277948kB"
      },
      "hugepages": {
        "total": "0",
        "free": "0",
        "reserved": "0",
        "surplus": "0"
      },
      "total": "1922216kB",
      "free": "178608kB",
      "buffers": "82592kB",
      "cached": "1345456kB",
      "active": "470952kB",
      "inactive": "1073092kB",
      "dirty": "75404kB",
      "writeback": "0kB",
      "anon_pages": "116012kB",
      "mapped": "10468kB",
      "slab": "173484kB",
      "slab_reclaimable": "152424kB",
      "slab_unreclaim": "21060kB",
      "page_tables": "2744kB",
      "nfs_unstable": "0kB",
      "bounce": "0kB",
      "commit_limit": "2239056kB",
      "committed_as": "249148kB",
      "vmalloc_total": "34359738367kB",
      "vmalloc_used": "32048kB",
      "vmalloc_chunk": "34359695352kB",
      "hugepage_size": "2048kB"
    },
    "virtualization": {
      "systems": {
        "vbox": "guest"
      },
      "system": "vbox",
      "role": "guest"
    },
    "command": {
      "ps": "ps -ef"
    },
    "filesystem": {
      "/dev/mapper/VolGroup-lv_root": {
        "kb_size": "18261312",
        "kb_used": "2077548",
        "kb_available": "15249468",
        "percent_used": "12%",
        "mount": "/",
        "total_inodes": "1169168",
        "inodes_used": "97431",
        "inodes_available": "1071737",
        "inodes_percent_used": "9%",
        "fs_type": "ext4",
        "mount_options": [
          "rw"
        ],
        "uuid": "9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e"
      },
      "tmpfs": {
        "kb_size": "961108",
        "kb_used": "0",
        "kb_available": "961108",
        "percent_used": "0%",
        "mount": "/dev/shm",
        "total_inodes": "240277",
        "inodes_used": "1",
        "inodes_available": "240276",
        "inodes_percent_used": "1%",
        "fs_type": "tmpfs",
        "mount_options": [
          "rw"
        ]
      },
      "/dev/sda1": {
        "kb_size": "487652",
        "kb_used": "55186",
        "kb_available": "406866",
        "percent_used": "12%",
        "mount": "/boot",
        "total_inodes": "128016",
        "inodes_used": "44",
        "inodes_available": "127972",
        "inodes_percent_used": "1%",
        "fs_type": "ext4",
        "mount_options": [
          "rw"
        ],
        "uuid": "cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2"
      },
      "vagrant": {
        "kb_size": "741984072",
        "kb_used": "156103296",
        "kb_available": "585880776",
        "percent_used": "22%",
        "mount": "/vagrant",
        "total_inodes": "1000",
        "inodes_used": "0",
        "inodes_available": "1000",
        "inodes_percent_used": "0%",
        "fs_type": "vboxsf",
        "mount_options": [
          "uid=500",
          "gid=500",
          "rw"
        ]
      },
      "proc": {
        "mount": "/proc",
        "fs_type": "proc",
        "mount_options": [
          "rw"
        ]
      },
      "sysfs": {
        "mount": "/sys",
        "fs_type": "sysfs",
        "mount_options": [
          "rw"
        ]
      },
      "devpts": {
        "mount": "/dev/pts",
        "fs_type": "devpts",
        "mount_options": [
          "rw",
          "gid=5",
          "mode=620"
        ]
      },
      "none": {
        "mount": "/proc/sys/fs/binfmt_misc",
        "fs_type": "binfmt_misc",
        "mount_options": [
          "rw"
        ]
      },
      "/dev/sda2": {
        "fs_type": "LVM2_member",
        "uuid": "1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22"
      },
      "/dev/mapper/VolGroup-lv_swap": {
        "fs_type": "swap",
        "uuid": "376d9de0-a04a-4c8e-90fd-7721b522b166"
      },
      "rootfs": {
        "mount": "/",
        "fs_type": "rootfs",
        "mount_options": [
          "rw"
        ]
      },
      "devtmpfs": {
        "mount": "/dev",
        "fs_type": "devtmpfs",
        "mount_options": [
          "rw",
          "relatime",
          "size=950368k",
          "nr_inodes=237592",
          "mode=755"
        ]
      },
      "/proc/bus/usb": {
        "mount": "/proc/bus/usb",
        "fs_type": "usbfs",
        "mount_options": [
          "rw",
          "relatime"
        ]
      }
    },
    "init_package": "init",
    "filesystem2": {
      "by_device": {
        "/dev/mapper/VolGroup-lv_root": {
          "kb_size": "18261312",
          "kb_used": "2077548",
          "kb_available": "15249468",
          "percent_used": "12%",
          "total_inodes": "1169168",
          "inodes_used": "97431",
          "inodes_available": "1071737",
          "inodes_percent_used": "9%",
          "fs_type": "ext4",
          "mount_options": [
            "rw"
          ],
          "uuid": "9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e",
          "mounts": [
            "/"
          ]
        },
        "tmpfs": {
          "kb_size": "961108",
          "kb_used": "0",
          "kb_available": "961108",
          "percent_used": "0%",
          "total_inodes": "240277",
          "inodes_used": "1",
          "inodes_available": "240276",
          "inodes_percent_used": "1%",
          "fs_type": "tmpfs",
          "mount_options": [
            "rw"
          ],
          "mounts": [
            "/dev/shm"
          ]
        },
        "/dev/sda1": {
          "kb_size": "487652",
          "kb_used": "55186",
          "kb_available": "406866",
          "percent_used": "12%",
          "total_inodes": "128016",
          "inodes_used": "44",
          "inodes_available": "127972",
          "inodes_percent_used": "1%",
          "fs_type": "ext4",
          "mount_options": [
            "rw"
          ],
          "uuid": "cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2",
          "mounts": [
            "/boot"
          ]
        },
        "vagrant": {
          "kb_size": "741984072",
          "kb_used": "156103296",
          "kb_available": "585880776",
          "percent_used": "22%",
          "total_inodes": "1000",
          "inodes_used": "0",
          "inodes_available": "1000",
          "inodes_percent_used": "0%",
          "fs_type": "vboxsf",
          "mount_options": [
            "uid=500",
            "gid=500",
            "rw"
          ],
          "mounts": [
            "/vagrant"
          ]
        },
        "proc": {
          "fs_type": "proc",
          "mount_options": [
            "rw"
          ],
          "mounts": [
            "/proc"
          ]
        },
        "sysfs": {
          "fs_type": "sysfs",
          "mount_options": [
            "rw"
          ],
          "mounts": [
            "/sys"
          ]
        },
        "devpts": {
          "fs_type": "devpts",
          "mount_options": [
            "rw",
            "gid=5",
            "mode=620"
          ],
          "mounts": [
            "/dev/pts"
          ]
        },
        "none": {
          "fs_type": "binfmt_misc",
          "mount_options": [
            "rw"
          ],
          "mounts": [
            "/proc/sys/fs/binfmt_misc"
          ]
        },
        "/dev/sda": {
          "mounts": [

          ]
        },
        "/dev/sda2": {
          "fs_type": "LVM2_member",
          "uuid": "1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22",
          "mounts": [

          ]
        },
        "/dev/mapper/VolGroup-lv_swap": {
          "fs_type": "swap",
          "uuid": "376d9de0-a04a-4c8e-90fd-7721b522b166",
          "mounts": [

          ]
        },
        "rootfs": {
          "fs_type": "rootfs",
          "mount_options": [
            "rw"
          ],
          "mounts": [
            "/"
          ]
        },
        "devtmpfs": {
          "fs_type": "devtmpfs",
          "mount_options": [
            "rw",
            "relatime",
            "size=950368k",
            "nr_inodes=237592",
            "mode=755"
          ],
          "mounts": [
            "/dev"
          ]
        },
        "/proc/bus/usb": {
          "fs_type": "usbfs",
          "mount_options": [
            "rw",
            "relatime"
          ],
          "mounts": [
            "/proc/bus/usb"
          ]
        }
      },
      "by_mountpoint": {
        "/": {
          "kb_size": "18261312",
          "kb_used": "2077548",
          "kb_available": "15249468",
          "percent_used": "12%",
          "total_inodes": "1169168",
          "inodes_used": "97431",
          "inodes_available": "1071737",
          "inodes_percent_used": "9%",
          "fs_type": "rootfs",
          "mount_options": [
            "rw"
          ],
          "uuid": "9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e",
          "devices": [
            "/dev/mapper/VolGroup-lv_root",
            "rootfs"
          ]
        },
        "/dev/shm": {
          "kb_size": "961108",
          "kb_used": "0",
          "kb_available": "961108",
          "percent_used": "0%",
          "total_inodes": "240277",
          "inodes_used": "1",
          "inodes_available": "240276",
          "inodes_percent_used": "1%",
          "fs_type": "tmpfs",
          "mount_options": [
            "rw"
          ],
          "devices": [
            "tmpfs"
          ]
        },
        "/boot": {
          "kb_size": "487652",
          "kb_used": "55186",
          "kb_available": "406866",
          "percent_used": "12%",
          "total_inodes": "128016",
          "inodes_used": "44",
          "inodes_available": "127972",
          "inodes_percent_used": "1%",
          "fs_type": "ext4",
          "mount_options": [
            "rw"
          ],
          "uuid": "cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2",
          "devices": [
            "/dev/sda1"
          ]
        },
        "/vagrant": {
          "kb_size": "741984072",
          "kb_used": "156103296",
          "kb_available": "585880776",
          "percent_used": "22%",
          "total_inodes": "1000",
          "inodes_used": "0",
          "inodes_available": "1000",
          "inodes_percent_used": "0%",
          "fs_type": "vboxsf",
          "mount_options": [
            "uid=500",
            "gid=500",
            "rw"
          ],
          "devices": [
            "vagrant"
          ]
        },
        "/proc": {
          "fs_type": "proc",
          "mount_options": [
            "rw"
          ],
          "devices": [
            "proc"
          ]
        },
        "/sys": {
          "fs_type": "sysfs",
          "mount_options": [
            "rw"
          ],
          "devices": [
            "sysfs"
          ]
        },
        "/dev/pts": {
          "fs_type": "devpts",
          "mount_options": [
            "rw",
            "gid=5",
            "mode=620"
          ],
          "devices": [
            "devpts"
          ]
        },
        "/proc/sys/fs/binfmt_misc": {
          "fs_type": "binfmt_misc",
          "mount_options": [
            "rw"
          ],
          "devices": [
            "none"
          ]
        },
        "/dev": {
          "fs_type": "devtmpfs",
          "mount_options": [
            "rw",
            "relatime",
            "size=950368k",
            "nr_inodes=237592",
            "mode=755"
          ],
          "devices": [
            "devtmpfs"
          ]
        },
        "/proc/bus/usb": {
          "fs_type": "usbfs",
          "mount_options": [
            "rw",
            "relatime"
          ],
          "devices": [
            "/proc/bus/usb"
          ]
        }
      },
      "by_pair": {
        "/dev/mapper/VolGroup-lv_root,/": {
          "device": "/dev/mapper/VolGroup-lv_root",
          "kb_size": "18261312",
          "kb_used": "2077548",
          "kb_available": "15249468",
          "percent_used": "12%",
          "mount": "/",
          "total_inodes": "1169168",
          "inodes_used": "97431",
          "inodes_available": "1071737",
          "inodes_percent_used": "9%",
          "fs_type": "ext4",
          "mount_options": [
            "rw"
          ],
          "uuid": "9f7fd9e1-f3fc-4ab0-8cf8-4bae13d3d55e"
        },
        "tmpfs,/dev/shm": {
          "device": "tmpfs",
          "kb_size": "961108",
          "kb_used": "0",
          "kb_available": "961108",
          "percent_used": "0%",
          "mount": "/dev/shm",
          "total_inodes": "240277",
          "inodes_used": "1",
          "inodes_available": "240276",
          "inodes_percent_used": "1%",
          "fs_type": "tmpfs",
          "mount_options": [
            "rw"
          ]
        },
        "/dev/sda1,/boot": {
          "device": "/dev/sda1",
          "kb_size": "487652",
          "kb_used": "55186",
          "kb_available": "406866",
          "percent_used": "12%",
          "mount": "/boot",
          "total_inodes": "128016",
          "inodes_used": "44",
          "inodes_available": "127972",
          "inodes_percent_used": "1%",
          "fs_type": "ext4",
          "mount_options": [
            "rw"
          ],
          "uuid": "cb6ebd16-b6a9-4285-bf1d-31ea43a2d4e2"
        },
        "vagrant,/vagrant": {
          "device": "vagrant",
          "kb_size": "741984072",
          "kb_used": "156103296",
          "kb_available": "585880776",
          "percent_used": "22%",
          "mount": "/vagrant",
          "total_inodes": "1000",
          "inodes_used": "0",
          "inodes_available": "1000",
          "inodes_percent_used": "0%",
          "fs_type": "vboxsf",
          "mount_options": [
            "uid=500",
            "gid=500",
            "rw"
          ]
        },
        "proc,/proc": {
          "device": "proc",
          "mount": "/proc",
          "fs_type": "proc",
          "mount_options": [
            "rw"
          ]
        },
        "sysfs,/sys": {
          "device": "sysfs",
          "mount": "/sys",
          "fs_type": "sysfs",
          "mount_options": [
            "rw"
          ]
        },
        "devpts,/dev/pts": {
          "device": "devpts",
          "mount": "/dev/pts",
          "fs_type": "devpts",
          "mount_options": [
            "rw",
            "gid=5",
            "mode=620"
          ]
        },
        "none,/proc/sys/fs/binfmt_misc": {
          "device": "none",
          "mount": "/proc/sys/fs/binfmt_misc",
          "fs_type": "binfmt_misc",
          "mount_options": [
            "rw"
          ]
        },
        "/dev/sda,": {
          "device": "/dev/sda"
        },
        "/dev/sda2,": {
          "device": "/dev/sda2",
          "fs_type": "LVM2_member",
          "uuid": "1TXefP-l3nw-KNyi-QuJ6-eHfj-qXzf-5gii22"
        },
        "/dev/mapper/VolGroup-lv_swap,": {
          "device": "/dev/mapper/VolGroup-lv_swap",
          "fs_type": "swap",
          "uuid": "376d9de0-a04a-4c8e-90fd-7721b522b166"
        },
        "rootfs,/": {
          "device": "rootfs",
          "mount": "/",
          "fs_type": "rootfs",
          "mount_options": [
            "rw"
          ]
        },
        "devtmpfs,/dev": {
          "device": "devtmpfs",
          "mount": "/dev",
          "fs_type": "devtmpfs",
          "mount_options": [
            "rw",
            "relatime",
            "size=950368k",
            "nr_inodes=237592",
            "mode=755"
          ]
        },
        "/proc/bus/usb,/proc/bus/usb": {
          "device": "/proc/bus/usb",
          "mount": "/proc/bus/usb",
          "fs_type": "usbfs",
          "mount_options": [
            "rw",
            "relatime"
          ]
        }
      }
    },
    "root_group": "root",
    "shells": [
      "/bin/sh",
      "/bin/bash",
      "/sbin/nologin",
      "/bin/dash"
    ],
    "fips": {
      "kernel": {
        "enabled": false
      }
    },
    "block_device": {
      "ram0": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram1": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram2": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram3": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram4": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram5": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram6": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram7": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram8": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram9": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram10": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram11": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram12": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram13": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram14": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "ram15": {
        "size": "32768",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop0": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop1": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop2": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop3": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop4": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop5": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop6": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "loop7": {
        "size": "0",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "sda": {
        "size": "40960000",
        "removable": "0",
        "model": "VBOX HARDDISK",
        "rev": "1.0",
        "state": "running",
        "timeout": "30",
        "vendor": "ATA",
        "queue_depth": "31",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "dm-0": {
        "size": "37371904",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      },
      "dm-1": {
        "size": "2555904",
        "removable": "0",
        "rotational": "1",
        "physical_block_size": "512",
        "logical_block_size": "512"
      }
    },
    "keys": {
      "ssh": {
        "host_dsa_public": "AAAAB3NzaC1kc3MAAACBAKzeNZCMEUlmzh1wSJ1LcwQeL/WPRkWkOJwbKUFCcXOFosotvF7c7G7qUMFd24dtmExmocUeIycLSKLNPTBwNjYacqJKhWfXPaAjKCKEa7V1WJQbjPipbuCNuryi+E9jKODG18+F4qcTjml4fARJe7vpEyOlG4n25gcdaUH8ebJ/AAAAFQCmDtC1oX0AOIvoWZLVY5jTfNpCYwAAAIBI5qVfKbJUN1CxOZ86KP8d+aougFct2hp8nl19T24lyrGxNeoQhP19pwr+MxwRGrxzHbV9rFVDTSDOnpkrdSCJYGMIM1ASmgCllI4Avr275Fzjr5NDFTku9m0I2n4zfEynmZ07Lpsmho8UECyZ0bOCayCjgm2EkWdtxoKGv9LW3QAAAIEAjzWy3LCo61SnIOALKd+xo0GCCsKnvPaofw3sX6PAMMlS1NMEd7jqdHv4/KsWWUmOPL1dpw+cuFTdHph3TpJRrR3u3gWBt8fXWO8QyNsNisD9OZHz39DLSqz8UKmwry8gC1zFZ6MuBC8LBWiDABOXEMXpFR5l0drNJE24tAzNAq4=",
        "host_rsa_public": "AAAAB3NzaC1yc2EAAAABIwAAAQEAoKGBorpanawyuJ4UK34f0WhnAZ7gBBKS4OHAsFA58ATUPQVpQNdkFSmHdGd+XZhN9cy9ERzEvyG/2Znt0749/v237I3ewkP6Dayvkp/okW6pWRdWrwcfiN2cSkpjE4qcsVa5w8ZH4gZt5HfLY97Qgfrib7npSKaxel768vP0MmLLCCN3xkEZt2uuONmvwzHfHUbkrIWVm+O6ZKmW8P7VZaioSIj6579I6vbkJdy3cpMUrGwNJd8uFH/LXIbb2qBuTgQjJL/rBBGtAM052txV37EiJy5/FdT/eanud+zvW2iIjRjQwFl8Ot+gVPLpCE/H5MLnNZrLw4Yfwlipte4TZQ=="
      }
    },
    "hostname": "VM1",
    "machinename": "VM1",
    "fqdn": "VM1",
    "domain": null,
    "chef_packages": {
      "ohai": {
        "version": "8.19.1",
        "ohai_root": "/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ohai-8.19.1/lib/ohai"
      },
      "chef": {
        "version": "12.13.37",
        "chef_root": "/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/chef-12.13.37/lib"
      }
    },
    "uptime_seconds": 103,
    "uptime": "1 minutes 43 seconds",
    "idletime_seconds": 24,
    "idletime": "24 seconds",
    "packages": {
      "tar": {
        "epoch": "2",
        "version": "1.23",
        "release": "14.el6",
        "installdate": "1468189149",
        "arch": "x86_64"
      },
      "setup": {
        "epoch": "0",
        "version": "2.8.14",
        "release": "20.el6_4.1",
        "installdate": "1468188629",
        "arch": "noarch"
      },
      "libselinux-utils": {
        "epoch": "0",
        "version": "2.0.94",
        "release": "7.el6",
        "installdate": "1468189149",
        "arch": "x86_64"
      },
      "basesystem": {
        "epoch": "0",
        "version": "10.0",
        "release": "4.el6",
        "installdate": "1468188630",
        "arch": "noarch"
      },
      "gmp": {
        "epoch": "0",
        "version": "4.3.1",
        "release": "10.el6",
        "installdate": "1468189149",
        "arch": "x86_64"
      },
      "coreutils": {
        "epoch": "0",
        "version": "8.4",
        "release": "43.el6",
        "installdate": "1468189150",
        "arch": "x86_64"
      },
      "shadow-utils": {
        "epoch": "2",
        "version": "4.1.5.1",
        "release": "5.el6",
        "installdate": "1468189151",
        "arch": "x86_64"
      },
      "openssl": {
        "epoch": "0",
        "version": "1.0.1e",
        "release": "48.el6_8.1",
        "installdate": "1468189152",
        "arch": "x86_64"
      },
      "mysql-libs": {
        "epoch": "0",
        "version": "5.1.73",
        "release": "7.el6",
        "installdate": "1468189152",
        "arch": "x86_64"
      },
      "libcap": {
        "epoch": "0",
        "version": "2.16",
        "release": "5.5.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "iputils": {
        "epoch": "0",
        "version": "20071127",
        "release": "21.el6",
        "installdate": "1468189153",
        "arch": "x86_64"
      },
      "info": {
        "epoch": "0",
        "version": "4.13a",
        "release": "8.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "initscripts": {
        "epoch": "0",
        "version": "9.03.53",
        "release": "1.el6.centos",
        "installdate": "1468189153",
        "arch": "x86_64"
      },
      "device-mapper-libs": {
        "epoch": "0",
        "version": "1.02.117",
        "release": "7.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "libacl": {
        "epoch": "0",
        "version": "2.2.49",
        "release": "6.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "device-mapper-event-libs": {
        "epoch": "0",
        "version": "1.02.117",
        "release": "7.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "lvm2-libs": {
        "epoch": "0",
        "version": "2.02.143",
        "release": "7.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "device-mapper-multipath-libs": {
        "epoch": "0",
        "version": "0.4.9",
        "release": "93.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "sed": {
        "epoch": "0",
        "version": "4.2.1",
        "release": "10.el6",
        "installdate": "1468188644",
        "arch": "x86_64"
      },
      "dracut-kernel": {
        "epoch": "0",
        "version": "004",
        "release": "409.el6_8.2",
        "installdate": "1468189155",
        "arch": "noarch"
      },
      "sqlite": {
        "epoch": "0",
        "version": "3.6.20",
        "release": "1.el6_7.2",
        "installdate": "1468189155",
        "arch": "x86_64"
      },
      "bzip2-libs": {
        "epoch": "0",
        "version": "1.0.5",
        "release": "7.el6_0",
        "installdate": "1468188644",
        "arch": "x86_64"
      },
      "nss": {
        "epoch": "0",
        "version": "3.21.0",
        "release": "8.el6",
        "installdate": "1468189155",
        "arch": "x86_64"
      },
      "openssh": {
        "epoch": "0",
        "version": "5.3p1",
        "release": "118.1.el6_8",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "libcurl": {
        "epoch": "0",
        "version": "7.19.7",
        "release": "52.el6",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "libgpg-error": {
        "epoch": "0",
        "version": "1.7",
        "release": "4.el6",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "curl": {
        "epoch": "0",
        "version": "7.19.7",
        "release": "52.el6",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "openldap": {
        "epoch": "0",
        "version": "2.4.40",
        "release": "12.el6",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "selinux-policy": {
        "epoch": "0",
        "version": "3.7.19",
        "release": "292.el6",
        "installdate": "1468189157",
        "arch": "noarch"
      },
      "cronie-anacron": {
        "epoch": "0",
        "version": "1.4.4",
        "release": "15.el6_7.1",
        "installdate": "1468189159",
        "arch": "x86_64"
      },
      "libidn": {
        "epoch": "0",
        "version": "1.18",
        "release": "2.el6",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "libuser": {
        "epoch": "0",
        "version": "0.56.13",
        "release": "8.el6_7",
        "installdate": "1468189160",
        "arch": "x86_64"
      },
      "xz-libs": {
        "epoch": "0",
        "version": "4.999.9",
        "release": "0.5.beta.20091007git.el6",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "python-pycurl": {
        "epoch": "0",
        "version": "7.19.0",
        "release": "9.el6",
        "installdate": "1468189160",
        "arch": "x86_64"
      },
      "yum-plugin-fastestmirror": {
        "epoch": "0",
        "version": "1.1.30",
        "release": "37.el6",
        "installdate": "1468189160",
        "arch": "noarch"
      },
      "bzip2": {
        "epoch": "0",
        "version": "1.0.5",
        "release": "7.el6_0",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "kernel-firmware": {
        "epoch": "0",
        "version": "2.6.32",
        "release": "642.1.1.el6",
        "installdate": "1468189163",
        "arch": "noarch"
      },
      "fuse": {
        "epoch": "0",
        "version": "2.8.3",
        "release": "5.el6",
        "installdate": "1468189169",
        "arch": "x86_64"
      },
      "cpio": {
        "epoch": "0",
        "version": "2.10",
        "release": "12.el6_5",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "selinux-policy-targeted": {
        "epoch": "0",
        "version": "3.7.19",
        "release": "292.el6",
        "installdate": "1468189169",
        "arch": "noarch"
      },
      "openssh-server": {
        "epoch": "0",
        "version": "5.3p1",
        "release": "118.1.el6_8",
        "installdate": "1468189194",
        "arch": "x86_64"
      },
      "dhclient": {
        "epoch": "12",
        "version": "4.1.1",
        "release": "51.P1.el6.centos",
        "installdate": "1468189194",
        "arch": "x86_64"
      },
      "libtasn1": {
        "epoch": "0",
        "version": "2.3",
        "release": "6.el6_5",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "lvm2": {
        "epoch": "0",
        "version": "2.02.143",
        "release": "7.el6",
        "installdate": "1468189195",
        "arch": "x86_64"
      },
      "p11-kit-trust": {
        "epoch": "0",
        "version": "0.18.5",
        "release": "2.el6_5.2",
        "installdate": "1468188647",
        "arch": "x86_64"
      },
      "libdrm": {
        "epoch": "0",
        "version": "2.4.65",
        "release": "2.el6",
        "installdate": "1468189195",
        "arch": "x86_64"
      },
      "libnih": {
        "epoch": "0",
        "version": "1.0.1",
        "release": "7.el6",
        "installdate": "1468188647",
        "arch": "x86_64"
      },
      "grub": {
        "epoch": "1",
        "version": "0.97",
        "release": "94.el6_7.1",
        "installdate": "1468189196",
        "arch": "x86_64"
      },
      "logrotate": {
        "epoch": "0",
        "version": "3.7.8",
        "release": "26.el6_7",
        "installdate": "1468189196",
        "arch": "x86_64"
      },
      "libusb": {
        "epoch": "0",
        "version": "0.1.12",
        "release": "23.el6",
        "installdate": "1468188647",
        "arch": "x86_64"
      },
      "binutils": {
        "epoch": "0",
        "version": "2.20.51.0.2",
        "release": "5.44.el6",
        "installdate": "1468189197",
        "arch": "x86_64"
      },
      "libutempter": {
        "epoch": "0",
        "version": "1.1.5",
        "release": "4.1.el6",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "libxml2": {
        "epoch": "0",
        "version": "2.7.6",
        "release": "21.el6_8.1",
        "installdate": "1468189197",
        "arch": "x86_64"
      },
      "psmisc": {
        "epoch": "0",
        "version": "22.6",
        "release": "19.el6_5",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "centos-indexhtml": {
        "epoch": "0",
        "version": "6",
        "release": "2.el6.centos",
        "installdate": "1473876560",
        "arch": "noarch"
      },
      "vim-minimal": {
        "epoch": "2",
        "version": "7.4.629",
        "release": "5.el6",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "nano": {
        "epoch": "0",
        "version": "2.0.9",
        "release": "7.el6",
        "installdate": "1473876561",
        "arch": "x86_64"
      },
      "chefdk": {
        "epoch": "0",
        "version": "0.17.17",
        "release": "1.el6",
        "installdate": "1473876571",
        "arch": "x86_64"
      },
      "e2fsprogs-libs": {
        "epoch": "0",
        "version": "1.41.12",
        "release": "22.el6",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "diffutils": {
        "epoch": "0",
        "version": "2.8.1",
        "release": "28.el6",
        "installdate": "1468188649",
        "arch": "x86_64"
      },
      "dash": {
        "epoch": "0",
        "version": "0.5.5.1",
        "release": "4.el6",
        "installdate": "1468188649",
        "arch": "x86_64"
      },
      "groff": {
        "epoch": "0",
        "version": "1.18.1.4",
        "release": "21.el6",
        "installdate": "1468188650",
        "arch": "x86_64"
      },
      "cracklib": {
        "epoch": "0",
        "version": "2.8.16",
        "release": "4.el6",
        "installdate": "1468188650",
        "arch": "x86_64"
      },
      "module-init-tools": {
        "epoch": "0",
        "version": "3.9",
        "release": "25.el6",
        "installdate": "1468188653",
        "arch": "x86_64"
      },
      "redhat-logos": {
        "epoch": "0",
        "version": "60.0.14",
        "release": "12.el6.centos",
        "installdate": "1468188654",
        "arch": "noarch"
      },
      "libedit": {
        "epoch": "0",
        "version": "2.11",
        "release": "4.20080712cvs.1.el6",
        "installdate": "1468188656",
        "arch": "x86_64"
      },
      "mingetty": {
        "epoch": "0",
        "version": "1.08",
        "release": "5.el6",
        "installdate": "1468188656",
        "arch": "x86_64"
      },
      "gnupg2": {
        "epoch": "0",
        "version": "2.0.14",
        "release": "8.el6",
        "installdate": "1468188657",
        "arch": "x86_64"
      },
      "fipscheck-lib": {
        "epoch": "0",
        "version": "1.2.0",
        "release": "7.el6",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "pciutils-libs": {
        "epoch": "0",
        "version": "3.1.10",
        "release": "4.el6",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "libcap-ng": {
        "epoch": "0",
        "version": "0.6.4",
        "release": "3.el6_0.1",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "python": {
        "epoch": "0",
        "version": "2.6.6",
        "release": "64.el6",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "pygpgme": {
        "epoch": "0",
        "version": "0.1",
        "release": "18.20090824bzr68.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "python-iniparse": {
        "epoch": "0",
        "version": "0.3.1",
        "release": "2.1.el6",
        "installdate": "1468188667",
        "arch": "noarch"
      },
      "newt": {
        "epoch": "0",
        "version": "0.52.11",
        "release": "3.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "ustr": {
        "epoch": "0",
        "version": "1.0.4",
        "release": "9.1.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "libaio": {
        "epoch": "0",
        "version": "0.3.107",
        "release": "10.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "gamin": {
        "epoch": "0",
        "version": "0.1.10",
        "release": "9.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "shared-mime-info": {
        "epoch": "0",
        "version": "0.70",
        "release": "6.el6",
        "installdate": "1468188668",
        "arch": "x86_64"
      },
      "grubby": {
        "epoch": "0",
        "version": "7.0.15",
        "release": "7.el6",
        "installdate": "1468188669",
        "arch": "x86_64"
      },
      "dbus-glib": {
        "epoch": "0",
        "version": "0.86",
        "release": "6.el6",
        "installdate": "1468188670",
        "arch": "x86_64"
      },
      "iptables": {
        "epoch": "0",
        "version": "1.4.7",
        "release": "16.el6",
        "installdate": "1468188670",
        "arch": "x86_64"
      },
      "cryptsetup-luks-libs": {
        "epoch": "0",
        "version": "1.2.0",
        "release": "11.el6",
        "installdate": "1468188673",
        "arch": "x86_64"
      },
      "plymouth": {
        "epoch": "0",
        "version": "0.8.3",
        "release": "27.el6.centos.1",
        "installdate": "1468188673",
        "arch": "x86_64"
      },
      "cyrus-sasl": {
        "epoch": "0",
        "version": "2.1.23",
        "release": "15.el6_6.2",
        "installdate": "1468188674",
        "arch": "x86_64"
      },
      "crontabs": {
        "epoch": "0",
        "version": "1.10",
        "release": "33.el6",
        "installdate": "1468188677",
        "arch": "noarch"
      },
      "kbd": {
        "epoch": "0",
        "version": "1.15",
        "release": "11.el6",
        "installdate": "1468188679",
        "arch": "x86_64"
      },
      "system-config-firewall-base": {
        "epoch": "0",
        "version": "1.2.27",
        "release": "7.2.el6_6",
        "installdate": "1468188721",
        "arch": "noarch"
      },
      "cryptsetup-luks": {
        "epoch": "0",
        "version": "1.2.0",
        "release": "11.el6",
        "installdate": "1468188722",
        "arch": "x86_64"
      },
      "e2fsprogs": {
        "epoch": "0",
        "version": "1.41.12",
        "release": "22.el6",
        "installdate": "1468188726",
        "arch": "x86_64"
      },
      "acl": {
        "epoch": "0",
        "version": "2.2.49",
        "release": "6.el6",
        "installdate": "1468188726",
        "arch": "x86_64"
      },
      "bridge-utils": {
        "epoch": "0",
        "version": "1.2",
        "release": "10.el6",
        "installdate": "1468188726",
        "arch": "x86_64"
      },
      "epel-release": {
        "epoch": "0",
        "version": "6",
        "release": "8",
        "installdate": "1468188848",
        "arch": "noarch"
      },
      "libgcc": {
        "epoch": "0",
        "version": "4.4.7",
        "release": "17.el6",
        "installdate": "1468188934",
        "arch": "x86_64"
      },
      "tzdata": {
        "epoch": "0",
        "version": "2016f",
        "release": "1.el6",
        "installdate": "1468188935",
        "arch": "noarch"
      },
      "glibc-common": {
        "epoch": "0",
        "version": "2.12",
        "release": "1.192.el6",
        "installdate": "1468188944",
        "arch": "x86_64"
      },
      "perl-libs": {
        "epoch": "4",
        "version": "5.10.1",
        "release": "141.el6_7.1",
        "installdate": "1468188948",
        "arch": "x86_64"
      },
      "perl-version": {
        "epoch": "3",
        "version": "0.77",
        "release": "141.el6_7.1",
        "installdate": "1468188949",
        "arch": "x86_64"
      },
      "perl": {
        "epoch": "4",
        "version": "5.10.1",
        "release": "141.el6_7.1",
        "installdate": "1468188951",
        "arch": "x86_64"
      },
      "mpfr": {
        "epoch": "0",
        "version": "2.4.1",
        "release": "6.el6",
        "installdate": "1468188952",
        "arch": "x86_64"
      },
      "libstdc++-devel": {
        "epoch": "0",
        "version": "4.4.7",
        "release": "17.el6",
        "installdate": "1468188953",
        "arch": "x86_64"
      },
      "cloog-ppl": {
        "epoch": "0",
        "version": "0.15.7",
        "release": "1.2.el6",
        "installdate": "1468188954",
        "arch": "x86_64"
      },
      "glibc-devel": {
        "epoch": "0",
        "version": "2.12",
        "release": "1.192.el6",
        "installdate": "1468188954",
        "arch": "x86_64"
      },
      "gcc": {
        "epoch": "0",
        "version": "4.4.7",
        "release": "17.el6",
        "installdate": "1468188955",
        "arch": "x86_64"
      },
      "wget": {
        "epoch": "0",
        "version": "1.12",
        "release": "8.el6",
        "installdate": "1468188956",
        "arch": "x86_64"
      },
      "bash": {
        "epoch": "0",
        "version": "4.1.2",
        "release": "40.el6",
        "installdate": "1468189144",
        "arch": "x86_64"
      },
      "chkconfig": {
        "epoch": "0",
        "version": "1.3.49.5",
        "release": "1.el6",
        "installdate": "1468189144",
        "arch": "x86_64"
      },
      "nspr": {
        "epoch": "0",
        "version": "4.11.0",
        "release": "1.el6",
        "installdate": "1468189144",
        "arch": "x86_64"
      },
      "db4": {
        "epoch": "0",
        "version": "4.7.25",
        "release": "20.el6_7",
        "installdate": "1468189144",
        "arch": "x86_64"
      },
      "glib2": {
        "epoch": "0",
        "version": "2.28.8",
        "release": "5.el6",
        "installdate": "1468189145",
        "arch": "x86_64"
      },
      "gawk": {
        "epoch": "0",
        "version": "3.1.7",
        "release": "10.el6_7.3",
        "installdate": "1468189146",
        "arch": "x86_64"
      },
      "file-libs": {
        "epoch": "0",
        "version": "5.04",
        "release": "30.el6",
        "installdate": "1468189146",
        "arch": "x86_64"
      },
      "libuuid": {
        "epoch": "0",
        "version": "2.17.2",
        "release": "12.24.el6",
        "installdate": "1468189146",
        "arch": "x86_64"
      },
      "findutils": {
        "epoch": "1",
        "version": "4.4.2",
        "release": "9.el6",
        "installdate": "1468189147",
        "arch": "x86_64"
      },
      "hwdata": {
        "epoch": "0",
        "version": "0.233",
        "release": "16.1.el6",
        "installdate": "1468189147",
        "arch": "noarch"
      },
      "libpciaccess": {
        "epoch": "0",
        "version": "0.13.4",
        "release": "1.el6",
        "installdate": "1468189148",
        "arch": "x86_64"
      },
      "db4-utils": {
        "epoch": "0",
        "version": "4.7.25",
        "release": "20.el6_7",
        "installdate": "1468189148",
        "arch": "x86_64"
      },
      "upstart": {
        "epoch": "0",
        "version": "0.6.5",
        "release": "16.el6",
        "installdate": "1468189148",
        "arch": "x86_64"
      },
      "procps": {
        "epoch": "0",
        "version": "3.2.8",
        "release": "36.el6",
        "installdate": "1468189149",
        "arch": "x86_64"
      },
      "filesystem": {
        "epoch": "0",
        "version": "2.4.30",
        "release": "3.el6",
        "installdate": "1468188630",
        "arch": "x86_64"
      },
      "device-mapper-persistent-data": {
        "epoch": "0",
        "version": "0.6.2",
        "release": "0.1.rc7.el6",
        "installdate": "1468189149",
        "arch": "x86_64"
      },
      "ncurses-base": {
        "epoch": "0",
        "version": "5.7",
        "release": "4.20090207.el6",
        "installdate": "1468188630",
        "arch": "x86_64"
      },
      "coreutils-libs": {
        "epoch": "0",
        "version": "8.4",
        "release": "43.el6",
        "installdate": "1468189149",
        "arch": "x86_64"
      },
      "pam": {
        "epoch": "0",
        "version": "1.1.1",
        "release": "22.el6",
        "installdate": "1468189150",
        "arch": "x86_64"
      },
      "ca-certificates": {
        "epoch": "0",
        "version": "2015.2.6",
        "release": "65.0.1.el6_7",
        "installdate": "1468189151",
        "arch": "noarch"
      },
      "ncurses-libs": {
        "epoch": "0",
        "version": "5.7",
        "release": "4.20090207.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "libssh2": {
        "epoch": "0",
        "version": "1.4.2",
        "release": "2.el6_7.1",
        "installdate": "1468189152",
        "arch": "x86_64"
      },
      "libattr": {
        "epoch": "0",
        "version": "2.4.44",
        "release": "7.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "centos-release": {
        "epoch": "0",
        "version": "6",
        "release": "8.el6.centos.12.3",
        "installdate": "1468189152",
        "arch": "x86_64"
      },
      "zlib": {
        "epoch": "0",
        "version": "1.2.3",
        "release": "29.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "util-linux-ng": {
        "epoch": "0",
        "version": "2.17.2",
        "release": "12.24.el6",
        "installdate": "1468189153",
        "arch": "x86_64"
      },
      "popt": {
        "epoch": "0",
        "version": "1.13",
        "release": "7.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "udev": {
        "epoch": "0",
        "version": "147",
        "release": "2.73.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "libcom_err": {
        "epoch": "0",
        "version": "1.41.12",
        "release": "22.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "device-mapper": {
        "epoch": "0",
        "version": "1.02.117",
        "release": "7.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "device-mapper-event": {
        "epoch": "0",
        "version": "1.02.117",
        "release": "7.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "libsepol": {
        "epoch": "0",
        "version": "2.0.41",
        "release": "4.el6",
        "installdate": "1468188643",
        "arch": "x86_64"
      },
      "kpartx": {
        "epoch": "0",
        "version": "0.4.9",
        "release": "93.el6",
        "installdate": "1468189154",
        "arch": "x86_64"
      },
      "dracut": {
        "epoch": "0",
        "version": "004",
        "release": "409.el6_8.2",
        "installdate": "1468189154",
        "arch": "noarch"
      },
      "dhcp-common": {
        "epoch": "12",
        "version": "4.1.1",
        "release": "51.P1.el6.centos",
        "installdate": "1468189155",
        "arch": "x86_64"
      },
      "readline": {
        "epoch": "0",
        "version": "6.0",
        "release": "4.el6",
        "installdate": "1468188644",
        "arch": "x86_64"
      },
      "nss-softokn": {
        "epoch": "0",
        "version": "3.14.3",
        "release": "23.el6_7",
        "installdate": "1468189155",
        "arch": "x86_64"
      },
      "nss-sysinit": {
        "epoch": "0",
        "version": "3.21.0",
        "release": "8.el6",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "nss-tools": {
        "epoch": "0",
        "version": "3.21.0",
        "release": "8.el6",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "rpm-libs": {
        "epoch": "0",
        "version": "4.8.0",
        "release": "55.el6",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "dbus-libs": {
        "epoch": "1",
        "version": "1.2.24",
        "release": "8.el6_6",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "rpm": {
        "epoch": "0",
        "version": "4.8.0",
        "release": "55.el6",
        "installdate": "1468189156",
        "arch": "x86_64"
      },
      "pcre": {
        "epoch": "0",
        "version": "7.8",
        "release": "7.el6",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "policycoreutils": {
        "epoch": "0",
        "version": "2.0.83",
        "release": "29.el6",
        "installdate": "1468189157",
        "arch": "x86_64"
      },
      "lua": {
        "epoch": "0",
        "version": "5.1.4",
        "release": "4.1.el6",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "postfix": {
        "epoch": "2",
        "version": "2.6.6",
        "release": "6.el6_7.1",
        "installdate": "1468189158",
        "arch": "x86_64"
      },
      "cyrus-sasl-lib": {
        "epoch": "0",
        "version": "2.1.23",
        "release": "15.el6_6.2",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "cronie": {
        "epoch": "0",
        "version": "1.4.4",
        "release": "15.el6_7.1",
        "installdate": "1468189159",
        "arch": "x86_64"
      },
      "expat": {
        "epoch": "0",
        "version": "2.0.1",
        "release": "11.el6_2",
        "installdate": "1468188645",
        "arch": "x86_64"
      },
      "rpm-python": {
        "epoch": "0",
        "version": "4.8.0",
        "release": "55.el6",
        "installdate": "1468189160",
        "arch": "x86_64"
      },
      "python-urlgrabber": {
        "epoch": "0",
        "version": "3.9.1",
        "release": "11.el6",
        "installdate": "1468189160",
        "arch": "noarch"
      },
      "libgcrypt": {
        "epoch": "0",
        "version": "1.4.5",
        "release": "11.el6_4",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "yum": {
        "epoch": "0",
        "version": "3.2.29",
        "release": "73.el6.centos",
        "installdate": "1468189160",
        "arch": "noarch"
      },
      "kernel": {
        "epoch": "0",
        "version": "2.6.32",
        "release": "573.el6",
        "installdate": "1468188685",
        "arch": "x86_64"
      },
      "checkpolicy": {
        "epoch": "0",
        "version": "2.0.22",
        "release": "1.el6",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "passwd": {
        "epoch": "0",
        "version": "0.77",
        "release": "7.el6",
        "installdate": "1468189169",
        "arch": "x86_64"
      },
      "which": {
        "epoch": "0",
        "version": "2.19",
        "release": "6.el6",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "sudo": {
        "epoch": "0",
        "version": "1.8.6p3",
        "release": "24.el6",
        "installdate": "1468189193",
        "arch": "x86_64"
      },
      "pth": {
        "epoch": "0",
        "version": "2.0.7",
        "release": "9.3.el6",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "openssh-clients": {
        "epoch": "0",
        "version": "5.3p1",
        "release": "118.1.el6_8",
        "installdate": "1468189194",
        "arch": "x86_64"
      },
      "sysvinit-tools": {
        "epoch": "0",
        "version": "2.87",
        "release": "6.dsf.el6",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "device-mapper-multipath": {
        "epoch": "0",
        "version": "0.4.9",
        "release": "93.el6",
        "installdate": "1468189194",
        "arch": "x86_64"
      },
      "p11-kit": {
        "epoch": "0",
        "version": "0.18.5",
        "release": "2.el6_5.2",
        "installdate": "1468188646",
        "arch": "x86_64"
      },
      "mdadm": {
        "epoch": "0",
        "version": "3.3.4",
        "release": "1.el6",
        "installdate": "1468189195",
        "arch": "x86_64"
      },
      "iscsi-initiator-utils": {
        "epoch": "0",
        "version": "6.2.0.873",
        "release": "21.el6",
        "installdate": "1468189195",
        "arch": "x86_64"
      },
      "audit": {
        "epoch": "0",
        "version": "2.4.5",
        "release": "3.el6",
        "installdate": "1468189196",
        "arch": "x86_64"
      },
      "xfsprogs": {
        "epoch": "0",
        "version": "3.1.1",
        "release": "19.el6",
        "installdate": "1468189196",
        "arch": "x86_64"
      },
      "MAKEDEV": {
        "epoch": "0",
        "version": "3.24",
        "release": "6.el6",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "gdbm": {
        "epoch": "0",
        "version": "1.8.0",
        "release": "39.el6",
        "installdate": "1468189197",
        "arch": "x86_64"
      },
      "pinentry": {
        "epoch": "0",
        "version": "0.7.6",
        "release": "8.el6",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "kernel-devel": {
        "epoch": "0",
        "version": "2.6.32",
        "release": "642.1.1.el6",
        "installdate": "1473872895",
        "arch": "x86_64"
      },
      "net-tools": {
        "epoch": "0",
        "version": "1.60",
        "release": "110.el6_2",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "lynx": {
        "epoch": "0",
        "version": "2.8.6",
        "release": "27.el6",
        "installdate": "1473876561",
        "arch": "x86_64"
      },
      "chef": {
        "epoch": "0",
        "version": "12.13.37",
        "release": "1.el6",
        "installdate": "1473876563",
        "arch": "x86_64"
      },
      "libss": {
        "epoch": "0",
        "version": "1.41.12",
        "release": "22.el6",
        "installdate": "1468188648",
        "arch": "x86_64"
      },
      "m4": {
        "epoch": "0",
        "version": "1.4.13",
        "release": "5.el6",
        "installdate": "1468188649",
        "arch": "x86_64"
      },
      "ncurses": {
        "epoch": "0",
        "version": "5.7",
        "release": "4.20090207.el6",
        "installdate": "1468188649",
        "arch": "x86_64"
      },
      "less": {
        "epoch": "0",
        "version": "436",
        "release": "13.el6",
        "installdate": "1468188650",
        "arch": "x86_64"
      },
      "gzip": {
        "epoch": "0",
        "version": "1.3.12",
        "release": "22.el6",
        "installdate": "1468188650",
        "arch": "x86_64"
      },
      "cracklib-dicts": {
        "epoch": "0",
        "version": "2.8.16",
        "release": "4.el6",
        "installdate": "1468188651",
        "arch": "x86_64"
      },
      "plymouth-scripts": {
        "epoch": "0",
        "version": "0.8.3",
        "release": "27.el6.centos.1",
        "installdate": "1468188654",
        "arch": "x86_64"
      },
      "keyutils-libs": {
        "epoch": "0",
        "version": "1.4",
        "release": "5.el6",
        "installdate": "1468188656",
        "arch": "x86_64"
      },
      "gpgme": {
        "epoch": "0",
        "version": "1.1.8",
        "release": "3.el6",
        "installdate": "1468188657",
        "arch": "x86_64"
      },
      "fipscheck": {
        "epoch": "0",
        "version": "1.2.0",
        "release": "7.el6",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "ethtool": {
        "epoch": "2",
        "version": "3.5",
        "release": "6.el6",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "plymouth-core-libs": {
        "epoch": "0",
        "version": "0.8.3",
        "release": "27.el6.centos.1",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "libffi": {
        "epoch": "0",
        "version": "3.0.5",
        "release": "3.2.el6",
        "installdate": "1468188658",
        "arch": "x86_64"
      },
      "python-libs": {
        "epoch": "0",
        "version": "2.6.6",
        "release": "64.el6",
        "installdate": "1468188666",
        "arch": "x86_64"
      },
      "slang": {
        "epoch": "0",
        "version": "2.2.1",
        "release": "1.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "newt-python": {
        "epoch": "0",
        "version": "0.52.11",
        "release": "3.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "libsemanage": {
        "epoch": "0",
        "version": "2.0.43",
        "release": "5.1.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "pkgconfig": {
        "epoch": "1",
        "version": "0.23",
        "release": "9.1.el6",
        "installdate": "1468188667",
        "arch": "x86_64"
      },
      "yum-metadata-parser": {
        "epoch": "0",
        "version": "1.1.2",
        "release": "16.el6",
        "installdate": "1468188669",
        "arch": "x86_64"
      },
      "rsyslog": {
        "epoch": "0",
        "version": "5.8.10",
        "release": "10.el6_6",
        "installdate": "1468188674",
        "arch": "x86_64"
      },
      "iptables-ipv6": {
        "epoch": "0",
        "version": "1.4.7",
        "release": "16.el6",
        "installdate": "1468188677",
        "arch": "x86_64"
      },
      "kbd-misc": {
        "epoch": "0",
        "version": "1.15",
        "release": "11.el6",
        "installdate": "1468188679",
        "arch": "noarch"
      },
      "b43-openfwwf": {
        "epoch": "0",
        "version": "5.2",
        "release": "10.el6",
        "installdate": "1468188724",
        "arch": "noarch"
      },
      "authconfig": {
        "epoch": "0",
        "version": "6.1.12",
        "release": "23.el6",
        "installdate": "1468188724",
        "arch": "x86_64"
      },
      "efibootmgr": {
        "epoch": "0",
        "version": "0.5.4",
        "release": "13.el6",
        "installdate": "1468188725",
        "arch": "x86_64"
      },
      "attr": {
        "epoch": "0",
        "version": "2.4.44",
        "release": "7.el6",
        "installdate": "1468188726",
        "arch": "x86_64"
      },
      "rootfiles": {
        "epoch": "0",
        "version": "8.1",
        "release": "6.1.el6",
        "installdate": "1468188726",
        "arch": "noarch"
      },
      "gpg-pubkey": {
        "epoch": "0",
        "version": "c105b9de",
        "release": "4e0fd3a3",
        "installdate": "1468188902",
        "arch": "(none)"
      },
      "kernel-headers": {
        "epoch": "0",
        "version": "2.6.32",
        "release": "642.1.1.el6",
        "installdate": "1468188934",
        "arch": "x86_64"
      },
      "glibc": {
        "epoch": "0",
        "version": "2.12",
        "release": "1.192.el6",
        "installdate": "1468188936",
        "arch": "x86_64"
      },
      "perl-Pod-Escapes": {
        "epoch": "1",
        "version": "1.04",
        "release": "141.el6_7.1",
        "installdate": "1468188947",
        "arch": "x86_64"
      },
      "perl-Pod-Simple": {
        "epoch": "1",
        "version": "3.13",
        "release": "141.el6_7.1",
        "installdate": "1468188949",
        "arch": "x86_64"
      },
      "perl-Module-Pluggable": {
        "epoch": "1",
        "version": "3.90",
        "release": "141.el6_7.1",
        "installdate": "1468188949",
        "arch": "x86_64"
      },
      "libstdc++": {
        "epoch": "0",
        "version": "4.4.7",
        "release": "17.el6",
        "installdate": "1468188952",
        "arch": "x86_64"
      },
      "cpp": {
        "epoch": "0",
        "version": "4.4.7",
        "release": "17.el6",
        "installdate": "1468188953",
        "arch": "x86_64"
      },
      "ppl": {
        "epoch": "0",
        "version": "0.10.2",
        "release": "11.el6",
        "installdate": "1468188954",
        "arch": "x86_64"
      },
      "glibc-headers": {
        "epoch": "0",
        "version": "2.12",
        "release": "1.192.el6",
        "installdate": "1468188954",
        "arch": "x86_64"
      },
      "libgomp": {
        "epoch": "0",
        "version": "4.4.7",
        "release": "17.el6",
        "installdate": "1468188954",
        "arch": "x86_64"
      },
      "gcc-c++": {
        "epoch": "0",
        "version": "4.4.7",
        "release": "17.el6",
        "installdate": "1468188956",
        "arch": "x86_64"
      },
      "make": {
        "epoch": "1",
        "version": "3.81",
        "release": "23.el6",
        "installdate": "1468188956",
        "arch": "x86_64"
      },
      "libselinux": {
        "epoch": "0",
        "version": "2.0.94",
        "release": "7.el6",
        "installdate": "1468189144",
        "arch": "x86_64"
      },
      "audit-libs": {
        "epoch": "0",
        "version": "2.4.5",
        "release": "3.el6",
        "installdate": "1468189144",
        "arch": "x86_64"
      },
      "nss-util": {
        "epoch": "0",
        "version": "3.21.0",
        "release": "2.el6",
        "installdate": "1468189144",
        "arch": "x86_64"
      },
      "krb5-libs": {
        "epoch": "0",
        "version": "1.10.3",
        "release": "57.el6",
        "installdate": "1468189145",
        "arch": "x86_64"
      },
      "grep": {
        "epoch": "0",
        "version": "2.20",
        "release": "3.el6_7.1",
        "installdate": "1468189146",
        "arch": "x86_64"
      },
      "libudev": {
        "epoch": "0",
        "version": "147",
        "release": "2.73.el6",
        "installdate": "1468189146",
        "arch": "x86_64"
      },
      "elfutils-libelf": {
        "epoch": "0",
        "version": "0.164",
        "release": "2.el6",
        "installdate": "1468189146",
        "arch": "x86_64"
      },
      "libblkid": {
        "epoch": "0",
        "version": "2.17.2",
        "release": "12.24.el6",
        "installdate": "1468189146",
        "arch": "x86_64"
      },
      "nss-softokn-freebl": {
        "epoch": "0",
        "version": "3.14.3",
        "release": "23.el6_7",
        "installdate": "1468189147",
        "arch": "x86_64"
      },
      "tcp_wrappers-libs": {
        "epoch": "0",
        "version": "7.6",
        "release": "58.el6",
        "installdate": "1468189147",
        "arch": "x86_64"
      },
      "file": {
        "epoch": "0",
        "version": "5.04",
        "release": "30.el6",
        "installdate": "1468189148",
        "arch": "x86_64"
      },
      "iproute": {
        "epoch": "0",
        "version": "2.6.32",
        "release": "54.el6",
        "installdate": "1468189148",
        "arch": "x86_64"
      }
    },
    "virtualbox": {
      "host": {
        "language": "en_US",
        "revision": "108355",
        "version": "5.0.24"
      },
      "guest": {
        "guest_additions_version": "5.0.24",
        "guest_additions_revision": "108355"
      }
    },
    "time": {
      "timezone": "BST"
    },
    "recipes": [
      "jboss::default",
      "java::default",
      "java::set_attributes_from_version",
      "java::oracle",
      "java::set_java_home"
    ],
    "expanded_run_list": [
      "jboss::default"
    ],
    "roles": [

    ],
    "cookbooks": {
      "jboss": {
        "version": "0.0.0"
      },
      "java": {
        "version": "1.39.0"
      },
      "apt": {
        "version": "3.0.0"
      }
    }
  },
  "normal": {
    "tags": [

    ]
  },
  "chef_type": "node",
  "default": {
    "apt": {
      "cacher-client": {
        "restrict_environment": false
      },
      "cacher_dir": "/var/cache/apt-cacher-ng",
      "cacher_interface": null,
      "cacher_port": 3142,
      "cacher_ssl_support": false,
      "caching_server": false,
      "compiletime": false,
      "compile_time_update": false,
      "key_proxy": "",
      "cache_bypass": {

      },
      "periodic_update_min_delay": 86400,
      "launchpad_api_version": "1.0",
      "unattended_upgrades": {
        "enable": false,
        "update_package_lists": true,
        "allowed_origins": [
          "Centos "
        ],
        "package_blacklist": [

        ],
        "auto_fix_interrupted_dpkg": false,
        "minimal_steps": false,
        "install_on_shutdown": false,
        "mail": null,
        "mail_only_on_error": true,
        "remove_unused_dependencies": false,
        "automatic_reboot": false,
        "automatic_reboot_time": "now",
        "dl_limit": null
      },
      "confd": {
        "install_recommends": true,
        "install_suggests": false
      }
    },
    "java": {
      "jdk_version": "6",
      "arch": "x86_64",
      "openjdk_packages": [
        "java-1.6.0-openjdk",
        "java-1.6.0-openjdk-devel"
      ],
      "openjdk_version": null,
      "accept_license_agreement": false,
      "set_default": true,
      "alternatives_priority": 1062,
      "set_etc_environment": false,
      "use_alt_suffix": true,
      "reset_alternatives": true,
      "ark_retries": 0,
      "ark_retry_delay": 2,
      "ark_timeout": 600,
      "ark_download_timeout": 600,
      "install_flavor": "oracle",
      "oracle": {
        "accept_oracle_download_terms": true,
        "jce": {
          "enabled": false,
          "8": {
            "url": "http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip",
            "checksum": "f3020a3922efd6626c2fff45695d527f34a8020e938a49292561f18ad1320b59"
          },
          "7": {
            "url": "http://download.oracle.com/otn-pub/java/jce/7/UnlimitedJCEPolicyJDK7.zip",
            "checksum": "7a8d790e7bd9c2f82a83baddfae765797a4a56ea603c9150c87b7cdb7800194d"
          },
          "6": {
            "url": "http://download.oracle.com/otn-pub/java/jce_policy/6/jce_policy-6.zip",
            "checksum": "d0c2258c3364120b4dbf7dd1655c967eee7057ac6ae6334b5ea8ceb8bafb9262"
          },
          "home": "/opt/java_jce"
        }
      },
      "jdk": {
        "6": {
          "bin_cmds": [
            "appletviewer",
            "apt",
            "ControlPanel",
            "extcheck",
            "HtmlConverter",
            "idlj",
            "jar",
            "jarsigner",
            "java",
            "javac",
            "javadoc",
            "javah",
            "javap",
            "javaws",
            "jconsole",
            "jcontrol",
            "jdb",
            "jhat",
            "jinfo",
            "jmap",
            "jps",
            "jrunscript",
            "jsadebugd",
            "jstack",
            "jstat",
            "jstatd",
            "jvisualvm",
            "keytool",
            "native2ascii",
            "orbd",
            "pack200",
            "policytool",
            "rmic",
            "rmid",
            "rmiregistry",
            "schemagen",
            "serialver",
            "servertool",
            "tnameserv",
            "unpack200",
            "wsgen",
            "wsimport",
            "xjc"
          ],
          "x86_64": {
            "url": "http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64.bin",
            "checksum": "6b493aeab16c940cae9e3d07ad2a5c5684fb49cf06c5d44c400c7993db0d12e8"
          },
          "i586": {
            "url": "http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-i586.bin",
            "checksum": "d53b5a2518d80e1d95565f0adda54eee229dc5f4a1d1a3c2f7bf5045b168a357"
          }
        },
        "7": {
          "bin_cmds": [
            "appletviewer",
            "apt",
            "ControlPanel",
            "extcheck",
            "idlj",
            "jar",
            "jarsigner",
            "java",
            "javac",
            "javadoc",
            "javafxpackager",
            "javah",
            "javap",
            "javaws",
            "jcmd",
            "jconsole",
            "jcontrol",
            "jdb",
            "jhat",
            "jinfo",
            "jmap",
            "jps",
            "jrunscript",
            "jsadebugd",
            "jstack",
            "jstat",
            "jstatd",
            "jvisualvm",
            "keytool",
            "native2ascii",
            "orbd",
            "pack200",
            "policytool",
            "rmic",
            "rmid",
            "rmiregistry",
            "schemagen",
            "serialver",
            "servertool",
            "tnameserv",
            "unpack200",
            "wsgen",
            "wsimport",
            "xjc"
          ],
          "x86_64": {
            "url": "http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-x64.tar.gz",
            "checksum": "6f1f81030a34f7a9c987f8b68a24d139"
          },
          "i586": {
            "url": "http://download.oracle.com/otn-pub/java/jdk/7u75-b13/jdk-7u75-linux-i586.tar.gz",
            "checksum": "e4371a4fddc049eca3bfef293d812b8e"
          }
        },
        "8": {
          "bin_cmds": [
            "appletviewer",
            "apt",
            "ControlPanel",
            "extcheck",
            "idlj",
            "jar",
            "jarsigner",
            "java",
            "javac",
            "javadoc",
            "javafxpackager",
            "javah",
            "javap",
            "javaws",
            "jcmd",
            "jconsole",
            "jcontrol",
            "jdb",
            "jdeps",
            "jhat",
            "jinfo",
            "jjs",
            "jmap",
            "jmc",
            "jps",
            "jrunscript",
            "jsadebugd",
            "jstack",
            "jstat",
            "jstatd",
            "jvisualvm",
            "keytool",
            "native2ascii",
            "orbd",
            "pack200",
            "policytool",
            "rmic",
            "rmid",
            "rmiregistry",
            "schemagen",
            "serialver",
            "servertool",
            "tnameserv",
            "unpack200",
            "wsgen",
            "wsimport",
            "xjc"
          ],
          "x86_64": {
            "url": "http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-x64.tar.gz",
            "checksum": "196880a42c45ec9ab2f00868d69619c0"
          },
          "i586": {
            "url": "http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-i586.tar.gz",
            "checksum": "7b715e1fe2316c94aaa968b23ce49c9a"
          }
        }
      },
      "java_home": "/usr/lib/jvm/java"
    },
    "jboss": {
      "path": "/opt",
      "home": "/opt/jboss",
      "app_dir": "/opt/jboss/server/default/deploy",
      "user": "jboss",
      "group": "jboss",
      "url": "http://download.jboss.org/jbossas/6.1/jboss-as-distribution-6.1.0.Final.zip",
      "app_url": "http://www.cumulogic.com/download/Apps/testweb.zip"
    }
  },
  "override": {

  },
  "run_list": [
    "recipe[jboss::default]"
  ]
}
--- END RESPONSE ---
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::ValidateContentLength#handle_response
[2016-09-14T19:11:15+01:00] DEBUG: HTTP server did not include a Content-Length header in response, cannot identify truncated downloads.
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::RemoteRequestID#handle_response
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Authenticator#handle_response
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::Decompressor#handle_response
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::CookieManager#handle_response
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONOutput#handle_response
[2016-09-14T19:11:15+01:00] DEBUG: Chef::HTTP calling Chef::HTTP::JSONInput#handle_response
[2016-09-14T19:11:15+01:00] INFO: Chef Run complete in 98.665013062 seconds
[2016-09-14T19:11:15+01:00] INFO: Running report handlers
[2016-09-14T19:11:15+01:00] INFO: Report handlers complete
[2016-09-14T19:11:15+01:00] DEBUG: Server doesn't support resource history, skipping resource report.
[2016-09-14T19:11:15+01:00] DEBUG: Audit Reports are disabled. Skipping sending reports.
[2016-09-14T19:11:15+01:00] DEBUG: Forked instance successfully reaped (pid: 18248)
[2016-09-14T19:11:16+01:00] DEBUG: Exiting
